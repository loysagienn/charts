!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([,,,,,,function(t,e,n){"use strict";n.r(e);const o="CHANGE_SIZE",i="CHANGE_SCALE",r="CHANGE_VIEW_BOX",s="ANIMATE_VIEW_BOX",a="LINE_OFF",c="LINE_ON",l="CHANGE_THEME",h="CHANGE_VISIBILITY",d=(t,e="div")=>{const n=document.createElement(e);return t&&n.classList.add(t),n},u=(t,e)=>t.appendChild(e),_=(t,e,n)=>t.addEventListener(e,n),m=(t,e,n)=>t.removeEventListener(e,n),f=(t,e,n)=>{let o=t.theme,i=n[`theme_${o}`];const r=t=>t&&e.classList.add(t);r(i),t.on(l,t=>{i&&e.classList.remove(i),i=n[`theme_${o=t}`],r(i)})},p=t=>{let e=t.substring(1).split("");return 3===e.length&&(e=[e[0],e[0],e[1],e[1],e[2],e[2]]),[(e=`0x${e.join("")}`)>>16&255,e>>8&255,255&e].join(",")};var g=n(7),x=n.n(g);n(12);let b=!1,w=[],v={};const y=t=>(b=!0,requestAnimationFrame(e=>{if(0===w.length)return void(b=!1);const n=t?(e-t)/(1e3/60):1,o=w,i=v;w=[],v={};const r=o.length;for(let t=0;t<r;t++){const[r,s]=o[t];s&&i[s]!==t||r(n,e)}y(e)})),S=(t,e)=>{e?v[e]=w.push([t,e])-1:w.push([t,e]),b||y()};var L=S;const P=t=>t in v;var T=n(14),E=n.n(T);const I=(t,e,n)=>{const o=t.createShader(e);if(t.shaderSource(o,n),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS))throw t.deleteShader(o),new Error(`An error occurred compiling the shaders: ${t.getShaderInfoLog(o)}`);return o};var B=t=>{const e=(t=>{const e=I(t,t.VERTEX_SHADER,"// атрибут, который будет получать данные из буфера\nattribute vec4 a_position;\n\nuniform vec4 u_color;\n\nuniform vec2 u_resolution;\n\nuniform float u_scaleStart;\n\nuniform float u_bottomPadding;\n\nuniform vec2 u_scaleFactor;\n\nuniform float u_lineHalfWidth;\n\nuniform float u_height;\n\nvarying vec4 v_color;\n \n// все шейдеры имеют функцию main\nvoid main() {\n    vec2 position = vec2(a_position);\n    vec2 shift = vec2(a_position[2], a_position[3]);\n\n    position.x = position.x - u_scaleStart;\n\n    // преобразуем положение к положению в пикселях\n    vec2 pixelPosition = position * u_scaleFactor;\n    vec2 pixelShift = shift * u_scaleFactor;\n\n    pixelPosition.y = pixelPosition.y + u_bottomPadding;\n\n    float shiftY = sqrt(\n        (pow(u_lineHalfWidth, 2.0) * pow(pixelShift.x, 2.0)) /\n        (pow(pixelShift.x, 2.0) + pow(pixelShift.y, 2.0))\n    );\n\n    if (pixelShift.y > 0.0) {\n        shiftY = -shiftY;\n    }\n\n    float shiftX = sqrt(\n        (pow(u_lineHalfWidth, 2.0) * pow(pixelShift.y, 2.0)) /\n        (pow(pixelShift.x, 2.0) + pow(pixelShift.y, 2.0))\n    );\n\n    if (pixelShift.x < 0.0) {\n        shiftX = -shiftX;\n    }\n\n    if (pixelShift.x < 0.0 && pixelShift.y == 0.0) {\n        shiftY = -shiftY;\n    }\n\n    vec2 pointPosition = pixelPosition + vec2(shiftX, shiftY);\n\n    // преобразуем положение в пикселях к диапазону от 0.0 до 1.0\n    vec2 zeroToOne = pointPosition / u_resolution;\n    \n    // преобразуем из 0->1 в 0->2\n    vec2 zeroToTwo = zeroToOne * 2.0;\n\n    // преобразуем из 0->2 в -1->+1 (пространство отсечения)\n    vec2 clipSpace = zeroToTwo - 1.0;\n\n    // gl_Position - специальная переменная вершинного шейдера,\n    // которая отвечает за установку положения\n    gl_Position = vec4(clipSpace, 0, 1);\n\n    if (pointPosition.y > u_height) {\n        v_color = vec4(0, 0, 0, 0);\n    } else {\n        v_color = u_color;\n    }\n}\n"),n=I(t,t.FRAGMENT_SHADER,"precision mediump float;\n\nvarying vec4 v_color;\n\nvoid main() {\n    gl_FragColor = v_color;\n}\n"),o=t.createProgram();if(t.attachShader(o,e),t.attachShader(o,n),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new Error(`Unable to initialize the shader program: ${t.getProgramInfoLog(o)}`);return o})(t);t.bindAttribLocation(e,2,"a_position");const n=t.getAttribLocation(e,"a_position"),o=t.getUniformLocation(e,"u_resolution"),i=t.getUniformLocation(e,"u_scaleStart"),r=t.getUniformLocation(e,"u_bottomPadding"),s=t.getUniformLocation(e,"u_scaleFactor"),a=t.getUniformLocation(e,"u_lineHalfWidth"),c=t.getUniformLocation(e,"u_height"),l=t.getUniformLocation(e,"u_color");return((t,e,n,o)=>{const i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i),t.clearColor(0,0,0,0),t.useProgram(e),t.enableVertexAttribArray(n);const r=t.FLOAT;t.vertexAttribPointer(n,4,r,!1,0,0),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA)})(t,e,n),{shaderProgram:e,positionAttributeLocation:n,colorUniformLocation:l,resolutionUniformLocation:o,scaleStartUniformLocation:i,bottomPaddingUniformLocation:r,scaleFactorUniformLocation:s,heightUniformLocation:c,lineHalfWidthUniformLocation:a}};const $=(t,e,n,o,i,r,s,a,c,l,h)=>{const{scaleFactorUniformLocation:d,lineHalfWidthUniformLocation:u,scaleStartUniformLocation:_,bottomPaddingUniformLocation:m,heightUniformLocation:f}=n,{scaleStartPoint:p,scaleEndPoint:g,minY:x,maxY:b}=o,w=r*l,v=(i-2*s)*l/(g-p),y=w/(b===x?1:b-x),S=x*y,L=h*l-S;e.uniform2f(d,v,y),e.uniform1f(u,a*l/2),e.uniform1f(_,p-l*s/v),e.uniform1f(m,L),e.uniform1f(f,w+L+w/2+S),((t,e,n,o)=>{const{points:i,allLineIds:r}=t,s=i.length-1;for(let i=0;i<r.length;i++){const a=r[i],[c,l,h]=t.rgbaColorsWebgl[a],{colorUniformLocation:d}=n,u=o[a];e.uniform4f(d,c*u,l*u,h*u,u);const _=e.TRIANGLE_STRIP,m=4*s,f=m*i;e.drawArrays(_,f,m)}})(t,e,n,c)};var C=t=>{const e=document.createElement("canvas"),n=e.getContext("webgl",{antialias:!0,powerPreference:"high-performance"});if(!n)throw new Error("not support webgl");const o=B(n);let i=0,r=0,s=1;((t,e)=>{const{points:n,allLineIds:o}=t,i=n.length-1;let r=[];for(let t=0;t<o.length;t++){const e=o[t];let s=0,a=n[0].lines[e];for(let t=1;t<=i;t++){const o=t,i=n[t].lines[e],c=o-s,l=i-a;r=r.concat([s,a,c,l,s,a,-c,-l,o,i,c,l,o,i,-c,-l]),s=o,a=i}}e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW)})(t,n);return{canvas:e,gl:n,render:(a,c,l,h,d,u,_,m)=>(i===l&&r===h&&s===m||(((t,e,n,o,i,{resolutionUniformLocation:r})=>{const s=n*i,a=o*i;t.style.width=`${n}px`,t.style.height=`${o}px`,t.width=s,t.height=a,e.viewport(0,0,s,a),e.uniform2f(r,s,a)})(e,n,l,h+80,m,o),i=l,r=h,s=m),$(t,n,o,a,l,h,d,2,_,m,80),$(t,n,o,c,l,38,d,1,_,m,2),e)}};let A=0;const M=(t,e,n,o,i,r,s=1)=>{t();const a=e[o];if(r&&(0===a||1===a))return;const c=i*(a+.3)*(1+s)/2;e[o]+=c,e[o]<=0?e[o]=0:e[o]>=1&&(e[o]=1),L(r=>M(t,e,n,o,i,!0,r),`${n}${o}`)},F=(t,e)=>{const n=C(e);return n.canvas.classList.add(E.a.canvas),u(t,n.canvas),n.canvas.addEventListener("webglcontextlost",()=>{n.isLost=!0,V(t,n)},!0),n},V=(t,e)=>{t.contains(e.canvas)&&t.removeChild(e.canvas)};var N=(t,e=2,n=0)=>{let o;const i=d(E.a.root),r=document.createElement("canvas");r.getContext("2d");r.style.display="none",u(i,r),o=F(i,t);let s=0,l=0,h=null,_=null;const m=t.allLineIds.reduce((t,e)=>Object.assign(t,{[e]:1}),{}),f=`${t.nextFramePrefix}webglRerender${A++}`,p=`${t.nextFramePrefix}webglLineOpacity${A++}`,g=(r,a,c,d)=>L(()=>{const u=(()=>window.devicePixelRatio||1)();c===s&&d===l||(i.style.width=`${c}px`,i.style.height=`${d}px`),s=c,l=d,_=a,h=r,o&&!o.isLost||(o=F(i,t)),o.render(a,r,c,d,n,e,m,u,80)},f),x=()=>{_&&!P(f)&&g(h,_,s,l)},b=t=>M(x,m,p,t,-.1),w=t=>M(x,m,p,t,.1);t.on(a,b),t.on(c,w);return{node:i,render:g,destroy:()=>{t.off(a,b),t.off(c,w)}}},z=n(16),Y=n.n(z);const O=(t,e,n,o)=>{let i=Math.ceil(t/n)*n;e-=22/o*(e-t);const r=[];for(;i<e;)r.push(i),i+=n;return((t,e)=>{const[,n]=e.toExponential().split("e");let o=Math.round(1/Number(`1e${n}`)*10);return o<1&&(o=1),t.map(t=>Math.round(t*o)/o)})(r,n)},R=(t,e,n,o)=>{const[,[,i]]=o.size;t.forEach(([t,o])=>((t,e,n,o,i)=>{const r=n-o;for(let n=0;n<t.length;n++){const s=i*(t[n]-o)/r;e[n].style.transform=`translate(0, ${-s}px)`}})(t,o,e,n,i))},U=(t,e,n,o,i)=>{const{minY:r,maxY:s,gridStep:a}=e.viewBox.box,{minY:c,maxY:l}=e.viewBox.animationBox,[,[,h]]=e.size,_=O(r,s,a,h);if(n&&((t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0})(o,_))return R(i,l,c,e),[n,o];const[m,f]=((t,e,n)=>{const o=d(Y.a.gridLines),i=n.map(t=>{const e=d(Y.a.gridLine),n=d(Y.a.lineText),i=document.createTextNode(t);return u(n,i),u(e,n),u(o,e),e});return[o,i]})(0,0,_);return n&&((t,e,n)=>{e.style.opacity="0",e.willBeDeleted=!0,setTimeout(()=>{t.removeChild(e),n.delete(e)},500)})(t,n,i),u(t,m),i.set(m,[_,f]),R(i,l,c,e),setTimeout(()=>{m.willBeDeleted||(m.style.opacity="1")},40),[m,_]};var H=t=>{const e=d(Y.a.grid);f(t,e,Y.a);const n=new Map;let i=null,r=[];const a=()=>{[i,r]=U(e,t,i,r,n)};return t.on(o,([,[t,n]])=>{((t,e,n)=>{t.style.width=`${e}px`,t.style.height=`${n}px`})(e,t,n),a()}),t.viewBox.on(s,a),{node:e}},k=n(18),j=n.n(k);const W=(t,e,n)=>{const o=d(j.a.label),i=Math.round(1e3*e/t)/10;o.style.left=`${i}%`,o.style.opacity="0";const r=new Date(n),s=document.createTextNode(r.toLocaleDateString("en-US",{month:"short",day:"numeric"}));return u(o,s),{node:o,showTimeout:null,hideTimeout:null}},D=(t,e)=>{e.hideTimeout?(clearTimeout(e.hideTimeout),e.hideTimeout=null,L(()=>e.node.style.opacity="1")):(u(t,e.node),e.showTimeout=setTimeout(()=>{e.showTimeout=null,L(()=>e.node.style.opacity="1")},30))},X=(t,e,n,o)=>{const[[i]]=t.size,{points:r}=t,{scaleStartPoint:s,scaleEndPoint:a}=t.viewBox.box,{scaleStartPoint:c,scaleEndPoint:l}=t.fullViewBox.box,[h,d]=t.scale,u=1-h-d,_=-Math.round(1e3*h)/10,m=Math.round(1e3/u)/10;e.style.transform=`translate(${_}%, 0)`,e.style.width=`${m}%`;const f=a-s,p=l-c,g=i-30,x=Math.min(Math.floor(g/60),10);let b=1;for(;f/b>x;)b*=1.5;b=Math.round(b);const w=Math.round(b/2),v=45*f/g/2;let y=Math.ceil((s-w+v)/b)*b+w;const S=new Set;for(;y<a-v;){if(S.add(y),o.has(y)){o.delete(y),y+=b;continue}const t=n[y]||(n[y]=W(p,y,r[y].x));D(e,t),y+=b}return o.forEach(t=>((t,e)=>{e.showTimeout&&(clearTimeout(e.showTimeout),e.showTimeout=null),e.hideTimeout||(L(()=>e.node.style.opacity="0"),e.hideTimeout=setTimeout(()=>{e.hideTimeout=null,L(()=>t.contains(e.node)&&t.removeChild(e.node))},200))})(e,n[t])),S};var G=t=>{const e={};let n=new Set;const r=d(j.a.labels);f(t,r,j.a);const s=d(j.a.wrapper),a=d(j.a.container);u(r,s),u(s,a);const c=()=>n=X(t,a,e,n);return t.on(i,c),t.on(o,c),{node:r}};n(20);var Z=n(22),q=n.n(Z);const K=(t,e,n)=>{if(n.target!==t)return;e(n),t.classList.add(q.a.visible);const o=()=>{t.classList.remove(q.a.visible),m(t,"mousemove",e),m(window,"touchmove",e),m(t,"mouseleave",o),m(window,"touchend",o)};_(t,"mousemove",e),_(window,"touchmove",e),_(t,"mouseleave",o),_(window,"touchend",o)};let J=null;const Q=(t,e,n,o,i)=>{const[r]=t;null===J?r.style.opacity=0:clearTimeout(J),J=setTimeout(()=>{J=null,r.style.opacity=1,L(()=>(([t,e,n],{x:o,lines:i},{lineIds:r,lineColors:s,lineNames:a},c,l)=>{const h=new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric"});e.innerHTML="",u(e,document.createTextNode(h)),n.innerHTML="",r.forEach(t=>{const e=d(q.a.yItemValueLine);e.style.color=s[t];const o=d(q.a.yItemName),r=d(q.a.yItemValue);u(o,document.createTextNode(`${a[t]}:`)),u(r,document.createTextNode(i[t])),u(e,o),u(e,r),u(n,e)});const _=t.offsetWidth;t.style.transform=l-_/2-10<0?`translate(${10-l-15}px, 0)`:l+_/2-10>c-30?`translate(${c-l-_-30+10}px, 0)`:"translate(-50%, 0)"})(t,e,n,o,i))},200)},tt=t=>{const{allLineIds:e,lineColors:n}=t,o=d(q.a.line),i=e.reduce((t,e)=>{const i=d(q.a.mark);return i.style.borderColor=n[e],u(o,i),Object.assign(t,{[e]:i})},{}),r=(t=>{const e=d(q.a.popup);u(t,e);const n=d(q.a.popupXValue),o=d(q.a.popupYValues);return u(e,n),u(e,o),[e,n,o]})(o);return[o,i,r]};var et=t=>{const e=d(q.a.root);f(t,e,q.a);let n=null;const i=tt(t),[,r]=i;u(e,i[0]),t.on(o,()=>((t,e)=>{const{size:[,[n,o]]}=e;t.style.width=`${n-30}px`,t.style.height=`${o}px`})(e,t)),t.on(c,t=>r[t].style.display="block"),t.on(a,t=>r[t].style.display="none");const s=o=>n=((t,e,[n,o,i],r,s)=>{const{points:a,lineIds:c,size:[,[l,h]],viewBox:{box:d}}=e,{scaleStartPoint:u,scaleEndPoint:_,maxY:m,minY:f}=d,p=m-f,g=_-u,{left:x}=t.getBoundingClientRect(),b=(t=>{const{type:e}=t;return e.startsWith("touch")?t.touches[0].clientX:t.clientX})(r)-x;let w=Math.round(b*g/(l-30)+u);w=Math.min(w,a.length-1);const v=a[w=Math.max(w,0)];if(s===w)return w;const y=(l-30)*(w-u)/g;return c.forEach(t=>{const e=v.lines[t],n=h*(e-f)/p;o[t].style.transform=`translate(0, ${-n}px)`}),n.style.transform=`translate(${y}px, 0)`,Q(i,v,e,l,y),w})(e,t,i,o,n);return _(e,"mouseenter",t=>K(e,s,t)),_(window,"touchstart",t=>K(e,s,t)),{node:e}},nt=n(24),ot=n.n(nt);const it=(t,e)=>{const{viewBox:{animationBox:n},fullViewBox:{animationBox:o},size:[,[i,r]]}=t;e.render(o,n,i,r)};var rt=t=>{const e=d(ot.a.chartView);f(t,e,ot.a);const n=H(t),i=N(t,2,15),r=G(t),a=et(t),c=(()=>{const t=d(ot.a.spacer);return t.style.height="40px",t})();return u(e,n.node),u(e,i.node),u(e,c),u(e,r.node),u(e,a.node),t.on(o,()=>((t,e,n)=>{const{viewBox:{animationBox:o},fullViewBox:{animationBox:i},size:[,[r,s]]}=e;t.style.width=`${r}px`,t.style.height=`${s}px`,n.render(i,o,r,s)})(e,t,i)),t.viewBox.on(s,()=>it(t,i)),t.fullViewBox.on(s,()=>it(t,i)),{node:e}},st=n(26),at=n.n(st);var ct=class{constructor(){this.lstnrs={}}on(t,e){this.lstnrs[t]||(this.lstnrs[t]=[]),this.lstnrs[t].push(e)}off(t,e){const n=this.lstnrs[t];if(n)for(let t=0;t<n.length;t++)if(n[t]===e)return void n.splice(t,1)}trigger(t,e){const n=this.lstnrs[t];n&&n.forEach(t=>t(e));const o=this.lstnrs["*"];o&&o.forEach(n=>n(e,t))}};const lt=(t,e)=>{const n=d();return n.classList.add(at.a.resizer),n.classList.add(e),u(t,n),n};var ht=()=>{const t=new ct,e=d(at.a.control),n=lt(e,at.a.startResizer),o=lt(e,at.a.endResizer),i=(t=>{const e=d(at.a.mover);return u(t,e),e})(e);return _(n,"mousedown",e=>t.trigger("moveStartPoint",e)),_(n,"touchstart",e=>t.trigger("moveStartPoint",e)),_(o,"mousedown",e=>t.trigger("moveEndPoint",e)),_(o,"touchstart",e=>t.trigger("moveEndPoint",e)),_(i,"mousedown",e=>t.trigger("move",e)),_(i,"touchstart",e=>t.trigger("move",e)),{node:e,on:(e,n)=>t.on(e,n),off:(e,n)=>t.off(e,n),setPosition:(t,n)=>((t,e,n)=>{t.style.left=`${100*e}%`,t.style.right=`${100*n}%`})(e,t,n)}};let dt=.2;const ut=t=>t&&t.type.startsWith("mouse")&&t.preventDefault(),_t=(t,e)=>{const n=d();return n.classList.add(at.a.shadow),n.classList.add(e),u(t,n),n},mt=t=>{const{type:e}=t;return e.startsWith("touch")?t.touches[0].clientX:t.clientX},ft=t=>Math.round(1e3*t)/1e3,pt=(t,e,n)=>{let o=ft(t/e);o<0&&(o=0);const i=ft(1-n-dt);return o>i&&(o=i),o},gt=t=>{const e=()=>{m(window,"mousemove",t),m(window,"touchmove",t),m(window,"mouseup",e),m(window,"touchend",e),m(window,"mouseleave",e)};return _(window,"mousemove",t),_(window,"touchmove",t),_(window,"mouseup",e),_(window,"touchend",e),_(window,"mouseleave",e),e},xt=(t,e,n)=>{ut(t);const o=n.getBoundingClientRect();gt(t=>{ut(t);const[,n]=e.scale,i=((t,e,n)=>{const{left:o,width:i}=e,r=mt(t);return pt(r-o-5,i,n)})(t,o,n);e.changeScale(i,n)})},bt=(t,e,n)=>{ut(t);const o=n.getBoundingClientRect();gt(t=>{ut(t);const[n]=e.scale,i=((t,e,n)=>{const{right:o,width:i}=e,r=mt(t);return pt(o-r-5,i,n)})(t,o,n);e.changeScale(n,i)})},wt=(t,e,n)=>{ut(t);const o=n.getBoundingClientRect(),[i,r]=e.scale,{left:s,width:a}=o,c=a*i,l=mt(t)-s-c,h=1-r-i;gt(t=>{ut(t);const[n,i]=((t,e,n,o)=>{const{left:i,width:r}=e,s=mt(t)-i,a=ft((s-n)/r);if(a<0)return[0,1-o];const c=ft(1-a-o);return c<0?[1-o,0]:[a,c]})(t,o,l,h);e.changeScale(n,i)})},vt=(t,e,n)=>{const{fullViewBox:{animationBox:o},staticViewBox:i,size:[,,[r,s,a]]}=t;e.style.top=`${a}px`,e.style.width=`${r}px`,e.style.height=`${s}px`,(t=>dt=t)(60/r)},yt=([t,e],n,o,i)=>{o.style.width=`calc(${100*t}% + 5px)`,i.style.width=`calc(${100*e}% + 5px)`,n.setPosition(t,e)};var St=t=>{const e=d(at.a.chartScaler);f(t,e,at.a);const[n,r,s]=((t,e)=>{const n=_t(e,at.a.leftShadow),o=_t(e,at.a.rightShadow),i=ht();return i.on("moveStartPoint",n=>xt(n,t,e)),i.on("moveEndPoint",n=>bt(n,t,e)),i.on("move",n=>wt(n,t,e)),u(e,i.node),[i,n,o]})(t,e);return t.on(o,()=>vt(t,e)),t.on(i,t=>yt(t,n,r,s)),yt(t.scale,n,r,s),{node:e}},Lt=n(28),Pt=n.n(Lt);const Tt=(t,e,n)=>{const o=d(Pt.a.switcher),i=e.lineNames[n],r=e.lineColors[n],s=d(Pt.a.checkbox),a=d(Pt.a.title);return u(a,document.createTextNode(i)),o.style.borderColor=r,((t,e)=>-1!==t.lineIds.indexOf(e))(e,n)&&Et([o,a,r]),u(o,s),u(o,a),_(o,"click",()=>e.toggleLine(n)),u(t,o),[o,a,r]},Et=([t,e,n])=>{t.classList.contains(Pt.a.checked)||t.classList.add(Pt.a.checked),t.style.backgroundColor=n,e.style.color="#ffffff"};var It=t=>{const e=d(Pt.a.root);f(t,e,Pt.a);const n=d(Pt.a.list);u(e,n);const o=t.allLineIds.reduce((e,o)=>Object.assign(e,{[o]:Tt(n,t,o)}),{});return t.on(c,t=>Et(o[t])),t.on(a,t=>(([t,e,n])=>{t.classList.contains(Pt.a.checked)&&t.classList.remove(Pt.a.checked),t.style.backgroundColor="rgba(0,0,0,0)",e.style.color=n})(o[t])),{node:e}},Bt=n(32),$t=n.n(Bt);const Ct=(t,e)=>{const{theme:n,themes:o}=t;e.textContent=n===o.light?"Switch to Night Mode":"Switch to Day Mode"};var At=t=>{const e=d($t.a.themeSwitcher),n=d($t.a.switcher),o=document.createTextNode("");return Ct(t,o),u(n,o),u(e,n),n.addEventListener("click",()=>(t=>{const{theme:e,themes:n}=t,o=e===n.light?n.dark:n.light;t.setTheme(o)})(t)),t.on(l,()=>Ct(t,o)),{node:e}};var Mt=t=>{const e=d(x.a.chart);f(t,e,x.a);const n=d(x.a.viewScaler);u(e,n);const i=rt(t),r=St(t),s=It(t),a=At(t);return u(n,i.node),u(n,r.node),u(e,s.node),u(e,a.node),t.on(o,([[t,e]])=>((t,e,n)=>{t.style.width=`${e}px`,t.style.height=`${n}px`})(n,t,e)),{node:e}};const Ft=(t,e,n)=>{const[,[,o]]=n.size;return(t=>{const[e,n]=Number(t.toPrecision(2)).toExponential().split("e"),[o,i]=e.split(".");let r=Number(o),s=i?Number(i):0;return r>7&&s>0?(r=10,s=0):r>2?(s>=5&&r++,s=0):s<3?s=0:s>7?(r++,s=0):s=5,Number(`${r}.${s}e${n}`)})((e-t)/Math.min(Math.floor(o/50),6))};var Vt=(t,[e=0,n=0]=[],o,i)=>{const{points:r,startFromZero:s}=t,a=r.length-1,c=(a-0)*e+0,l=(a-0)*(1-n)+0,h=Math.ceil(c),d=Math.floor(l);let u=s?0:r[h].lines[o[0]],_=u;const m=t=>e=>{const n=t[e];n<u&&(u=n),n>_&&(_=n)};for(let t=h;t<=d;t++){const{lines:e}=r[t];o.forEach(m(e))}u===(_+=(_-u)/10)&&(_+=1);let f=_-u;return i&&(f=Ft(u,_,t),u=Math.floor(u/f)*f),{startIndex:h,endIndex:d,scaleStartPoint:c,scaleEndPoint:l,minY:u,maxY:_,gridStep:f}};const Nt=(t,e,n,o,i)=>{const r=t-e,s=Math.abs(r);if(s<o/500)return[t,0];const a=0===n?1:i/(1e3/60),c=((n=(n+r/((s/o*9+11)/2))/2)+n*a)/2;return Math.abs(c)>s?[t,0]:[e+c,n]};var zt=class extends ct{constructor(t,e,n,o){super(),this.store=t,this.animation={speed:[0,0],timestamp:0,timeout:null},this.calcGridStep=o,this.box=Vt(this.store,e,n,o),this.animationBox=this.box,this.nextFrameAnimationPlanned=!1}update(t){this.box=Vt(this.store,t,this.store.lineIds,this.calcGridStep),this.trigger(r,this.box),this.animateViewBox()}animateViewBox(){this.nextFrameAnimationPlanned||(this.nextFrameAnimationPlanned=!0,L((t,e)=>{this.nextFrameAnimationPlanned=!1;const{animation:n}=this,{timestamp:o}=n;n.timestamp=e;const{startIndex:i,endIndex:r,scaleStartPoint:a,scaleEndPoint:c,minY:l,maxY:h,gridStep:d}=this.box,{minY:u,maxY:_}=this.animationBox;if(l===u&&h===_)return this.animationBox={startIndex:i,endIndex:r,scaleStartPoint:a,scaleEndPoint:c,minY:l,maxY:h,gridStep:d},n.speed=[0,0],void this.trigger(s,this.animationBox);const m=_-u,f=e-o,[p,g]=n.speed,[x,b]=Nt(h,_,p,m,f),[w,v]=Nt(l,u,g,m,f);this.animationBox={startIndex:i,endIndex:r,scaleStartPoint:a,scaleEndPoint:c,minY:w,maxY:x,gridStep:d},n.speed=[b,v],this.trigger(s,this.animationBox),this.animateViewBox()}))}};const Yt={light:"light",dark:"dark"};let Ot=1;const Rt=(t,e)=>{return[[t,e+40+40,0],[t,e],[t-30,40,e+40]]};var Ut=class extends ct{constructor({points:t,lineIds:e,names:n,colors:o,yScaled:i},{startFromZero:r=!1,theme:s=Yt.light,chartHeight:a=500}={}){super(),this.nextFramePrefix=`${Ot++}`;const c=[0,0];this.points=t,this.lineIds=e,this.allLineIds=e,this.lineNames=n,this.lineColors=o,this.isVisible=!1,this.chartHeight=a,this.yScaled=i,this.rgbaColors=Object.entries(o).reduce((t,[e,n])=>Object.assign(t,{[e]:p(n)}),{}),this.rgbaColorsWebgl=Object.entries(this.rgbaColors).reduce((t,[e,n])=>Object.assign(t,{[e]:n.split(",").map(t=>Number(t)/255)}),{}),this.startFromZero=r,this.themes=Yt,this.theme=Yt[s]||Yt.light,this.size=Rt(300,a),this.scale=c,this.viewBox=new zt(this,c,e,!0),this.fullViewBox=new zt(this,c,e),this.staticViewBox=Vt(this,c,this.allLineIds),this.getColor=((t,e)=>this._getColor(t,e))}_getColor(t,e=1){return`rgba(${this.rgbaColors[t]},${e})`}changeVisibility(t){this.isVisible!==t&&(this.isVisible=t,this.trigger(h,t))}setTheme(t){const e=this.theme;this.theme=Yt[t]||Yt.light,e!==this.theme&&L(()=>this.trigger(l,this.theme))}changeSize(t){this.size=Rt(t,this.chartHeight),L(()=>this.trigger(o,this.size))}changeScale(t,e){this.scale=[t,e],this.viewBox.update(this.scale),L(()=>this.trigger(i,this.scale))}changeStartFromZeroMode(t){this.startFromZero!==t&&(this.startFromZero=t,this.viewBox.update(this.scale),this.fullViewBox.update([0,0]))}toggleLine(t){const e=this.lineIds.indexOf(t);if(this.lineIds=this.lineIds.slice(),-1===e)this.lineIds.push(t),this.trigger(c,t);else{if(this.lineIds.length<2)return;this.lineIds.splice(e,1),this.trigger(a,t)}this.viewBox.update(this.scale),this.fullViewBox.update([0,0])}};window.chart={createChart:(t,e,n)=>{const{clientWidth:o,clientHeight:i}=t;t.innerHTML="";const r=new Ut((({columns:t,types:e,names:n,colors:o,y_scaled:i})=>{const[r,...s]=t,a=s.map(([t])=>t),c=[];for(let t=1;t<r.length;t++)c.push({x:r[t],lines:s.reduce((e,n,o)=>Object.assign(e,{[a[o]]:n[t]}),{})});return{points:c,colors:o,names:n,lineIds:a,types:e,yScaled:i}})(e),n),s=Mt(r);r.changeSize(o,i),u(t,s.node);const a=()=>{const{clientWidth:e,clientHeight:n}=t;r.changeSize(e,n)};_(window,"resize",a);return{destroy:()=>{m(window,"resize",a)},changeStartFromZeroMode:t=>r.changeStartFromZeroMode(t),setTheme:t=>r.setTheme(t)}}}},function(t,e){t.exports={chart:"__chart-lib__38CYR",theme_light:"__chart-lib__1oViI",theme_dark:"__chart-lib__1tOAh",viewScaler:"__chart-lib__3FzCH",fps:"__chart-lib__20ZPE"}},,,,,function(t,e){t.exports={canvas:"__chart-lib__yVYFH"}},,function(t,e){t.exports={canvas:"__chart-lib__3TOwR",root:"__chart-lib__14aLP"}},,function(t,e){t.exports={grid:"__chart-lib__2GaLT",theme_light:"__chart-lib__3P_QK",gridLine:"__chart-lib__362t3",lineText:"__chart-lib__2-cnj",theme_dark:"__chart-lib__jYZwh",gridLines:"__chart-lib__NGxK9"}},,function(t,e){t.exports={labels:"__chart-lib__qI716",theme_light:"__chart-lib__2Xbkq",label:"__chart-lib__1Xqzv",theme_dark:"__chart-lib__2BMsz",wrapper:"__chart-lib__1tn57",container:"__chart-lib__2WbOG"}},,function(t,e){t.exports={svg:"__chart-lib__3FDpl"}},,function(t,e){t.exports={theme_light:"__chart-lib__bq2r7",line:"__chart-lib__3VCGy",mark:"__chart-lib__8mh-S",popup:"__chart-lib__2FYFe",popupXValue:"__chart-lib__qEZfy",theme_dark:"__chart-lib__g4iGc",root:"__chart-lib__wouaI",visible:"__chart-lib__1_DdJ",yItemValueLine:"__chart-lib__1WfuV",yItemName:"__chart-lib__eoVQi"}},,function(t,e){t.exports={theme_light:"__chart-lib__1RSs8",spacer:"__chart-lib__2HvKS",theme_dark:"__chart-lib__3zgxb",chartView:"__chart-lib__Yd8Xj"}},,function(t,e){t.exports={theme_light:"__chart-lib__3p56z",chartScaler:"__chart-lib__Dhaaz",shadow:"__chart-lib__2ldhY",control:"__chart-lib__2R50b",theme_dark:"__chart-lib__2zA59",leftShadow:"__chart-lib__3tbVQ",rightShadow:"__chart-lib__3ov2i",resizer:"__chart-lib__1I4cl",startResizer:"__chart-lib__2e-V1",endResizer:"__chart-lib__3_3HN",mover:"__chart-lib__3RRAV"}},,function(t,e){t.exports={root:"__chart-lib__1OuEs",list:"__chart-lib__3PWZq",switcher:"__chart-lib__1o7JP",title:"__chart-lib__3X70l",checked:"__chart-lib__2eDjq",checkbox:"__chart-lib__DZq1J"}},,,,function(t,e){t.exports={themeSwitcher:"__chart-lib__-8Scm",switcher:"__chart-lib__2hchE"}}]);