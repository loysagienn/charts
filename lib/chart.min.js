!function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=6)}([,,,,,,function(t,e,o){"use strict";o.r(e);const n=15,i="CHANGE_SIZE",r="CHANGE_SCALE",s="CHANGE_VIEW_BOX",a="ANIMATE_VIEW_BOX",l="LINE_OFF",c="LINE_ON",h="CHANGE_THEME",u="SHOW_SUB_STORE",d="DRAG_STATE_TOGGLE",m=60*(new Date).getTimezoneOffset()*1e3,_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f=["January","February","March","April","May","June","July","August","September","October","November","December"],g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b=(t,e="div")=>{const o=document.createElement(e);return t&&o.classList.add(t),o},S=(t,e)=>t.appendChild(e),x=(t,e,o,n)=>t.addEventListener(e,o,n),v=(t,e,o,n)=>t.removeEventListener(e,o,n),w=(t,e,o)=>{let n=t.theme,i=o[`theme_${n}`];const r=t=>t&&e.classList.add(t);r(i),t.on(h,t=>{i&&e.classList.remove(i),i=o[`theme_${n=t}`],r(i)})},L=t=>{let e=t.substring(1).split("");return 3===e.length&&(e=[e[0],e[0],e[1],e[1],e[2],e[2]]),[(e=`0x${e.join("")}`)>>16&255,e>>8&255,255&e].join(",")},y=({columns:t,types:e,names:o,colors:n,y_scaled:i})=>{const[r,...s]=t,a=s.map(([t])=>t),l=[];for(let t=1;t<r.length;t++)l.push({x:r[t],lines:s.reduce((e,o,n)=>Object.assign(e,{[a[n]]:o[t]}),{})});return{points:l,colors:n,names:o,lineIds:a,types:e,yScaled:i}},P=t=>t>9?String(t):`0${t}`,A=t=>{return`${P(t.getHours())}:${P(t.getMinutes())}`},T=(t,e)=>(e?p:g)[t.getDay()],B=t=>`${_[t.getMonth()]} ${t.getDate()}`,E=t=>new Date(t+m);var I=o(7),U=o.n(I),C=o(12),R=o.n(C);let F=!1,Y=[],M={};const $=t=>(F=!0,requestAnimationFrame(e=>{if(0===Y.length)return void(F=!1);const o=t?(e-t)/(1e3/60):1,n=Y,i=M;Y=[],M={};const r=n.length;for(let t=0;t<r;t++){const[r,s]=n[t];s&&i[s]!==t?console.log(`skip mark ${s}`):r(o,e)}$(e)})),O=(t,e)=>{e?e in M?Y.splice(M[e],1,[t,e]):M[e]=Y.push([t,e])-1:Y.push([t,e]),F||$()};var N=O;const V=(t,e,o)=>{const n=t.createShader(e);if(t.shaderSource(n,o),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw t.deleteShader(n),new Error(`An error occurred compiling the shaders: ${t.getShaderInfoLog(n)}`);return n};var D=t=>{const e=(t=>{const e=V(t,t.VERTEX_SHADER,"\nattribute vec4 a_position;\n\nuniform vec4 u_color;\n\nuniform vec2 u_resolution;\n\nuniform float u_scaleStart;\n\nuniform float u_bottomPadding;\n\nuniform vec2 u_scaleFactor;\n\nuniform float u_lineHalfWidth;\n\nvarying vec4 v_color;\n \nvoid main() {\n    vec2 position = vec2(a_position);\n    vec2 shift = vec2(a_position[2], a_position[3]);\n\n    position.x = position.x - u_scaleStart;\n\n    vec2 pixelPosition = position * u_scaleFactor;\n    vec2 pixelShift = shift * u_scaleFactor;\n\n    pixelPosition.y = pixelPosition.y + u_bottomPadding;\n\n    float shiftY = sqrt(\n        (pow(u_lineHalfWidth, 2.0) * pow(pixelShift.x, 2.0)) /\n        (pow(pixelShift.x, 2.0) + pow(pixelShift.y, 2.0))\n    );\n\n    if (pixelShift.y > 0.0) {\n        shiftY = -shiftY;\n    }\n\n    float shiftX = sqrt(\n        (pow(u_lineHalfWidth, 2.0) * pow(pixelShift.y, 2.0)) /\n        (pow(pixelShift.x, 2.0) + pow(pixelShift.y, 2.0))\n    );\n\n    if (pixelShift.x < 0.0) {\n        shiftX = -shiftX;\n    }\n\n    if (pixelShift.x < 0.0 && pixelShift.y == 0.0) {\n        shiftY = -shiftY;\n    }\n\n    vec2 pointPosition = pixelPosition + vec2(shiftX, shiftY);\n\n    vec2 zeroToOne = pointPosition / u_resolution;\n    \n\n    vec2 zeroToTwo = zeroToOne * 2.0;\n\n    vec2 clipSpace = zeroToTwo - 1.0;\n\n    gl_Position = vec4(clipSpace, 0, 1);\n\n    v_color = u_color;\n}\n"),o=V(t,t.FRAGMENT_SHADER,"precision mediump float;\n\nvarying vec4 v_color;\n\nvoid main() {\n    gl_FragColor = v_color;\n}\n"),n=t.createProgram();if(t.attachShader(n,e),t.attachShader(n,o),t.linkProgram(n),!t.getProgramParameter(n,t.LINK_STATUS))throw new Error(`Unable to initialize the shader program: ${t.getProgramInfoLog(n)}`);return n})(t);t.bindAttribLocation(e,2,"a_position");const o=t.getAttribLocation(e,"a_position"),n=t.getUniformLocation(e,"u_resolution"),i=t.getUniformLocation(e,"u_scaleStart"),r=t.getUniformLocation(e,"u_bottomPadding"),s=t.getUniformLocation(e,"u_scaleFactor"),a=t.getUniformLocation(e,"u_lineHalfWidth"),l=t.getUniformLocation(e,"u_color");return((t,e,o)=>{const n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.clearColor(0,0,0,0),t.useProgram(e),t.enableVertexAttribArray(o);const i=t.FLOAT;t.vertexAttribPointer(o,4,i,!1,0,0),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.enable(t.SCISSOR_TEST)})(t,e,o),{shaderProgram:e,positionAttributeLocation:o,colorUniformLocation:l,resolutionUniformLocation:n,scaleStartUniformLocation:i,bottomPaddingUniformLocation:r,scaleFactorUniformLocation:s,lineHalfWidthUniformLocation:a}};const k=(t,e,o,n,i,r,s,a,l,c,h,u,d)=>{const{scaleFactorUniformLocation:m,lineHalfWidthUniformLocation:_,scaleStartUniformLocation:f,bottomPaddingUniformLocation:g}=n,{scaleStartPoint:p,scaleEndPoint:b,minY:S,maxY:x}=i,v=(r-2*a)*h/(b-p),w=s*h/(x===S?1:x-S),L=u*h-S*w;o.uniform2f(m,v,w),o.uniform1f(_,l*h/2),o.uniform1f(f,p-h*a/v),o.uniform1f(g,L),((t,e,o,n,i,r)=>{const{points:s}=t,a=s.length-1;for(let s=0;s<e.length;s++){const l=e[s],[c,h,u]=t.rgbaColorsWebgl[l],{colorUniformLocation:d}=n,m=i[l];o.uniform4f(d,c*m,h*m,u*m,m);const _=o.TRIANGLE_STRIP,f=4*a,g=f*(s+r);o.drawArrays(_,g,f)}})(t,e,o,n,c,d)};var z=(t,e,o)=>{o||(o=document.createElement("canvas"));let n=o.getContext("webgl",{antialias:!0,powerPreference:"high-performance"});if(!n)throw new Error("not support webgl");const i=D(n);let r=0,s=0,a=1;((t,e)=>{const{points:o,allLineIds:n}=t,i=o.length-1,r=[];for(let t=0;t<n.length;t++){const e=n[t];let s=0,a=o[0].lines[e];for(let t=1;t<=i;t++){const n=t,i=o[t].lines[e],l=n-s,c=i-a;r.push(s,a,l,c,s,a,-l,-c,n,i,l,c,n,i,-l,-c),s=n,a=i}}e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW)})(t,n);let l=(e,l,c,h,u)=>{r===e&&s===l&&a===u||(((t,e,o,n,i,{resolutionUniformLocation:r})=>{const s=o*i,a=n*i;t.style.width=`${o}px`,t.style.height=`${n}px`,t.width=s,t.height=a,e.viewport(0,0,s,a),e.uniform2f(r,s,a)})(o,n,e,l+74,u,i),r=e,s=l,a=u);const d=t.yScaled?[t.allLineIds[0]]:t.allLineIds,m=e*u,_=l*u;if(n.scissor(0,74*u-5,m,_),k(t,d,n,i,t.viewBox.animationBox,e,l,c,2,h,u,74,0),n.scissor(0,0,m,40*u),k(t,d,n,i,t.fullViewBox.animationBox,e,38,c,1,h,u,2,0),t.yScaled){const o=[t.allLineIds[1]||t.allLineIds[0]],r=1;n.scissor(0,74*u-5,m,_),k(t,o,n,i,t.secondaryViewBox.animationBox,e,l,c,2,h,u,74,r),n.scissor(0,0,m,40*u),k(t,o,n,i,t.secondaryFullViewBox.animationBox,e,38,c,1,h,u,2,r)}return o},c=()=>{n.bindBuffer(n.ARRAY_BUFFER,null),o.width=1,o.height=1,t=null,l=null,o=null,n=null,c=null};return{canvas:o,gl:n,destroy:c,render:l}};const H=(t,e,o)=>{const n=t.createShader(e);if(t.shaderSource(n,o),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw t.deleteShader(n),new Error(`An error occurred compiling the shaders: ${t.getShaderInfoLog(n)}`);return n};var W=t=>{const e=(t=>{const e=H(t,t.VERTEX_SHADER,"\nattribute vec2 a_position;\n\nuniform vec4 u_color;\n\nuniform vec2 u_resolution;\n\nuniform float u_scaleStart;\n\nuniform float u_bottomPadding;\n\nuniform vec2 u_scaleFactor;\n\nvarying vec4 v_color;\n\nvoid main() {\n    vec2 position = vec2(a_position);\n\n    position.x = position.x - u_scaleStart;\n\n    vec2 pixelPosition = position * u_scaleFactor;\n\n    pixelPosition.y = pixelPosition.y + u_bottomPadding;\n\n    vec2 clipSpace = 2.0 * pixelPosition / u_resolution - 1.0;\n\n    gl_Position = vec4(clipSpace, 0, 1);\n\n    v_color = u_color;\n}\n"),o=H(t,t.FRAGMENT_SHADER,"precision mediump float;\n\nvarying vec4 v_color;\n\nvoid main() {\n    gl_FragColor = v_color;\n}\n"),n=t.createProgram();if(t.attachShader(n,e),t.attachShader(n,o),t.linkProgram(n),!t.getProgramParameter(n,t.LINK_STATUS))throw new Error(`Unable to initialize the shader program: ${t.getProgramInfoLog(n)}`);return n})(t);t.bindAttribLocation(e,2,"a_position");const o=t.getAttribLocation(e,"a_position"),n=t.getUniformLocation(e,"u_resolution"),i=t.getUniformLocation(e,"u_scaleStart"),r=t.getUniformLocation(e,"u_bottomPadding"),s=t.getUniformLocation(e,"u_scaleFactor"),a=t.getUniformLocation(e,"u_color");return((t,e,o)=>{const n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.clearColor(0,0,0,0),t.useProgram(e),t.enableVertexAttribArray(o);const i=t.FLOAT;t.vertexAttribPointer(o,2,i,!1,0,0),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.enable(t.SCISSOR_TEST)})(t,e,o),{shaderProgram:e,positionAttributeLocation:o,colorUniformLocation:a,resolutionUniformLocation:n,scaleStartUniformLocation:i,bottomPaddingUniformLocation:r,scaleFactorUniformLocation:s}};const j=(t,e,o=null,n)=>{const{points:i,allLineIds:r}=t;return o=o?((t,e,o,n)=>{const i=[],r=e.length;for(let s=0;s<o.length;s++){const a=o[s],l=n[a],c=4*s*2*r;for(let o=0;o<r;o++){const n=i[o]||0,r=n+e[o].lines[a]*l,s=c+8*o-1;t[s+2]=r,t[s+4]=n,t[s+6]=r,t[s+8]=n,i[o]=r}}return t})(o,i,r,n):((t,e,o)=>{const n=[],i=[],r=t.length;for(let s=0;s<e.length;s++){const a=e[s],l=o[a];for(let e=0;e<r;e++){const o=i[e]||0,r=o+t[e].lines[a]*l,s=e;n.push(s-.5,r,s-.5,o,s+.5,r,s+.5,o),i[e]=r}}return n})(i,r,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array(o),e.STATIC_DRAW),o},G=(t,e,o,n,i,r,s,a,l)=>{const{scaleFactorUniformLocation:c,scaleStartUniformLocation:h,bottomPaddingUniformLocation:u}=o;let{scaleStartPoint:d,scaleEndPoint:m}=n;const{minY:_,maxY:f}=n,g=(i-2*s)*a/((m+=.5)-(d-=.5)),p=r*a/(f===_?1:f-_),b=l*a-_*p;e.uniform2f(c,g,p),e.uniform1f(h,d-a*s/g),e.uniform1f(u,b),((t,e,o)=>{const{points:n,allLineIds:i}=t,r=n.length;for(let n=0;n<i.length;n++){const s=i[n],[a,l,c]=t.rgbaColorsWebgl[s],{colorUniformLocation:h}=o;e.uniform4f(h,a,l,c,1);const u=e.TRIANGLE_STRIP,d=4*r,m=d*n;e.drawArrays(u,m,d)}})(t,e,o)};var X=(t,e,o)=>{o||(o=document.createElement("canvas"));let n=o.getContext("webgl",{antialias:!0,powerPreference:"high-performance"});if(!n)throw new Error("not support webgl");const i=W(n);let r=0,s=0,a=1;const l=j(t,n,null,e);let c=(e,l,c,h,u)=>{r===e&&s===l&&a===u||(((t,e,o,n,i,{resolutionUniformLocation:r})=>{const s=o*i,a=n*i;t.style.width=`${o}px`,t.style.height=`${n}px`,t.width=s,t.height=a,e.viewport(0,0,s,a),e.uniform2f(r,s,a)})(o,n,e,l+74,u,i),r=e,s=l,a=u);const d=e*u,m=l*u;return n.scissor(0,0,d,40*u),G(t,n,i,t.fullViewBox.animationBox,e,40,c,u,0),n.scissor(0,74*u,d,m),G(t,n,i,t.viewBox.animationBox,e,l,c,u,74),o},h=()=>{n.bindBuffer(n.ARRAY_BUFFER,null),o.width=1,o.height=1,t=null,c=null,o=null,n=null,h=null};return{canvas:o,gl:n,destroy:h,updateChartData:()=>{j(t,n,l,e)},render:c}};const q=(t,e,o)=>{const n=t.createShader(e);if(t.shaderSource(n,o),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw t.deleteShader(n),new Error(`An error occurred compiling the shaders: ${t.getShaderInfoLog(n)}`);return n};var J=t=>{const e=(t=>{const e=q(t,t.VERTEX_SHADER,"// атрибут, который будет получать данные из буфера\nattribute vec2 a_position;\n\nuniform vec4 u_color;\n\nuniform float u_opacity;\n\nuniform vec2 u_resolution;\n\nuniform float u_scaleStart;\n\nuniform float u_bottomPadding;\n\nuniform vec2 u_scaleFactor;\n\nuniform float u_lineHalfWidth;\n\nuniform float u_height;\n\nvarying vec4 v_color;\n\nvoid main() {\n    vec2 position = vec2(a_position);\n\n    position.x = position.x - u_scaleStart;\n\n    vec2 pixelPosition = position * u_scaleFactor;\n\n    pixelPosition.y = pixelPosition.y + u_bottomPadding;\n\n    vec2 zeroToOne = pixelPosition / u_resolution;\n\n    vec2 zeroToTwo = zeroToOne * 2.0;\n\n    vec2 clipSpace = zeroToTwo - 1.0;\n\n    gl_Position = vec4(clipSpace, 0, 1);\n\n    if (pixelPosition.y > u_height) {\n        v_color = vec4(0, 0, 0, 0);\n    } else {\n        v_color = u_color;\n    }\n}\n"),o=q(t,t.FRAGMENT_SHADER,"precision mediump float;\n\nvarying vec4 v_color;\n\nvoid main() {\n    gl_FragColor = v_color;\n}\n"),n=t.createProgram();if(t.attachShader(n,e),t.attachShader(n,o),t.linkProgram(n),!t.getProgramParameter(n,t.LINK_STATUS))throw new Error(`Unable to initialize the shader program: ${t.getProgramInfoLog(n)}`);return n})(t);t.bindAttribLocation(e,2,"a_position");const o=t.getAttribLocation(e,"a_position"),n=t.getUniformLocation(e,"u_resolution"),i=t.getUniformLocation(e,"u_scaleStart"),r=t.getUniformLocation(e,"u_bottomPadding"),s=t.getUniformLocation(e,"u_scaleFactor"),a=t.getUniformLocation(e,"u_lineHalfWidth"),l=t.getUniformLocation(e,"u_height"),c=t.getUniformLocation(e,"u_color"),h=t.getUniformLocation(e,"u_opacity");return((t,e,o)=>{const n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.clearColor(0,0,0,0),t.useProgram(e),t.enableVertexAttribArray(o);const i=t.FLOAT;t.vertexAttribPointer(o,2,i,!1,0,0),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.disable(t.SCISSOR_TEST)})(t,e,o),{shaderProgram:e,positionAttributeLocation:o,colorUniformLocation:c,resolutionUniformLocation:n,scaleStartUniformLocation:i,bottomPaddingUniformLocation:r,scaleFactorUniformLocation:s,heightUniformLocation:l,lineHalfWidthUniformLocation:a,opacityUniformLocation:h}};const Z=(t,e,o=null,n={})=>{const{points:i,lineIds:r,allLineIds:s}=t,a=i.length-1,l=[],c=s.length;for(let t=0;t<=a;t++){const e=[];let o=0;for(let r=0;r<c;r++){const a=s[r];e[r]=o+=i[t].lines[a]*n[a]}e[c]=o,l[t]=e}if(o)for(let t=0;t<c;t++){const e=2*t*2*(a+1);for(let n=0;n<=a;n++){const i=e+4*n-1;o[i+2]=(t?l[n][t-1]:0)/l[n][c],o[i+4]=l[n][t]/l[n][c]}}else{o=[];for(let t=0;t<c;t++)for(let e=0;e<=a;e++)o.push(e,(t?l[e][t-1]:0)/l[e][c],e,l[e][t]/l[e][c])}return e.bufferData(e.ARRAY_BUFFER,new Float32Array(o),e.STATIC_DRAW),o},K=(t,e,o,n,i,r,s,a,l,c,h,u,d,m)=>{const{scaleFactorUniformLocation:_,lineHalfWidthUniformLocation:f,scaleStartUniformLocation:g,bottomPaddingUniformLocation:p,heightUniformLocation:b}=n,{scaleStartPoint:S,scaleEndPoint:x}=i,{minY:v,maxY:w}=i,L=s*h,y=(r-2*a)*h/(x-S),P=L/(w/100),A=v*P,T=u*h-A,B=m?1e3*L:L+T+L/2+A;o.uniform2f(_,y,P),o.uniform1f(f,l*h/2),o.uniform1f(g,S-h*a/y),o.uniform1f(p,T),o.uniform1f(b,B),((t,e,o,n,i,r)=>{const{points:s}=t,a=s.length;for(let s=0;s<e.length;s++){const l=e[s],[c,h,u]=t.rgbaColorsWebgl[l],{colorUniformLocation:d,opacityUniformLocation:m}=n,_=i[l];o.uniform4f(d,c,h,u,1),o.uniform1f(m,_);const f=o.TRIANGLE_STRIP,g=2*a,p=g*(s+r);o.drawArrays(f,p,g)}})(t,e,o,n,c,d)};var Q=(t,e,o)=>{o||(o=document.createElement("canvas"));let n=o.getContext("webgl",{antialias:!0,powerPreference:"high-performance"});if(!n)throw new Error("not support webgl");const i=J(n);let r=0,s=0,a=1;const l=Z(t,n,null,e);let c=(e,l,c,h,u)=>(r===e&&s===l&&a===u||(((t,e,o,n,i,{resolutionUniformLocation:r})=>{const s=o*i,a=n*i;t.style.width=`${o}px`,t.style.height=`${n}px`,t.width=s,t.height=a,e.viewport(0,0,s,a),e.uniform2f(r,s,a)})(o,n,e,l+74,u,i),r=e,s=l,a=u),K(t,t.allLineIds,n,i,t.fullViewBox.animationBox,e,40,c,1,h,u,0,0,!0),K(t,t.allLineIds,n,i,t.viewBox.animationBox,e,l,c,2,h,u,74,0,!0),o),h=()=>{n.bindBuffer(n.ARRAY_BUFFER,null),o.width=1,o.height=1,t=null,c=null,o=null,n=null,h=null};return{canvas:o,gl:n,destroy:h,updateChartData:()=>{Z(t,n,l,e)},render:c}};const tt=(t,e,o)=>{const n=t.createShader(e);if(t.shaderSource(n,o),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw t.deleteShader(n),new Error(`An error occurred compiling the shaders: ${t.getShaderInfoLog(n)}`);return n},et=(t,e)=>{const o=tt(t,t.VERTEX_SHADER,e),n=tt(t,t.FRAGMENT_SHADER,"precision mediump float;\n\nvarying vec4 v_color;\n\nvoid main() {\n    gl_FragColor = v_color;\n}\n"),i=t.createProgram();if(t.attachShader(i,o),t.attachShader(i,n),t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS))throw new Error(`Unable to initialize the shader program: ${t.getProgramInfoLog(i)}`);return i};var ot=t=>{return{barOptions:(t=>{const e=et(t,"\nattribute vec2 a_position;\n\nuniform vec4 u_color;\n\nuniform vec2 u_resolution;\n\nuniform float u_scaleStart;\n\nuniform float u_bottomPadding;\n\nuniform vec2 u_scaleFactor;\n\nvarying vec4 v_color;\n\nvoid main() {\n    vec2 position = vec2(a_position);\n\n    position.x = position.x - u_scaleStart;\n\n    vec2 pixelPosition = position * u_scaleFactor;\n\n    pixelPosition.y = pixelPosition.y + u_bottomPadding;\n\n    vec2 clipSpace = 2.0 * pixelPosition / u_resolution - 1.0;\n\n    gl_Position = vec4(clipSpace, 0, 1);\n\n    v_color = u_color;\n}\n");t.bindAttribLocation(e,2,"a_position");const o=t.getAttribLocation(e,"a_position"),n=t.getUniformLocation(e,"u_resolution"),i=t.getUniformLocation(e,"u_scaleStart"),r=t.getUniformLocation(e,"u_bottomPadding"),s=t.getUniformLocation(e,"u_scaleFactor"),a=t.getUniformLocation(e,"u_color");return((t,e,o)=>{const n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.clearColor(0,0,0,0),t.useProgram(e),t.enableVertexAttribArray(o);const i=t.FLOAT;t.vertexAttribPointer(o,2,i,!1,0,0),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.enable(t.SCISSOR_TEST)})(t,e,o),{shaderProgram:e,positionAttributeLocation:o,colorUniformLocation:a,resolutionUniformLocation:n,scaleStartUniformLocation:i,bottomPaddingUniformLocation:r,scaleFactorUniformLocation:s}})(t),pieOptions:(t=>{const e=et(t,"\nattribute vec2 a_position;\n\nuniform vec4 u_color;\n\nuniform vec2 u_resolution;\n\nuniform float u_scaleStart;\n\nuniform float u_bottomPadding;\n\nuniform vec2 u_scaleFactor;\n\nvarying vec4 v_color;\n\nvoid main() {\n    vec2 position = vec2(a_position);\n\n    position.y = position.y + u_bottomPadding;\n\n    vec2 clipSpace = position / u_resolution;\n\n    gl_Position = vec4(clipSpace, 0, 1);\n\n    v_color = u_color;\n}\n");t.bindAttribLocation(e,2,"a_position");const o=t.getAttribLocation(e,"a_position"),n=t.getUniformLocation(e,"u_resolution"),i=t.getUniformLocation(e,"u_scaleStart"),r=t.getUniformLocation(e,"u_bottomPadding"),s=t.getUniformLocation(e,"u_scaleFactor"),a=t.getUniformLocation(e,"u_color");return((t,e,o)=>{const n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.clearColor(0,0,0,0),t.useProgram(e),t.enableVertexAttribArray(o);const i=t.FLOAT;t.vertexAttribPointer(o,2,i,!1,0,0),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.enable(t.SCISSOR_TEST)})(t,e,o),{shaderProgram:e,positionAttributeLocation:o,colorUniformLocation:a,resolutionUniformLocation:n,scaleStartUniformLocation:i,bottomPaddingUniformLocation:r,scaleFactorUniformLocation:s}})(t)}};const nt=()=>window.devicePixelRatio||1,it=(t,e,o,n)=>{const i=[],r=[],s=e.length;for(let t=0;t<o.length;t++){const a=o[t],l=n[a];for(let t=0;t<s;t++){const o=r[t]||0,n=o+e[t].lines[a]*l,s=t;i.push(s-.5,n,s-.5,o,s+.5,n,s+.5,o),r[t]=n}}return((t,e)=>{const o=nt(),[[n,i]]=t.size,r=Math.min(n,i)*o/1.5,s=Math.PI;e.push(0,0);for(let t=0;t<3e3;t++){const o=s*t*2/3e3,n=r*Math.sin(o),i=r*Math.cos(o);e.push(n,i,0,0)}e.push(0,r,0,0)})(t,i),i},rt=(t,e,o=null,n)=>{const{points:i,allLineIds:r}=t;return o=o?((t,e,o,n)=>{const i=[],r=e.length;for(let s=0;s<o.length;s++){const a=o[s],l=n[a],c=4*s*2*r;for(let o=0;o<r;o++){const n=i[o]||0,r=n+e[o].lines[a]*l,s=c+8*o-1;t[s+2]=r,t[s+4]=n,t[s+6]=r,t[s+8]=n,i[o]=r}}return t})(o,i,r,n):it(t,i,r,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array(o),e.STATIC_DRAW),o},st=(t,e,o,n,i,r,s,a,l,c,h)=>{const{scaleStartPoint:u,scaleEndPoint:d}=n,{minY:m,maxY:_}=n,f=l*a-m*(r*a/(_===m?1:_-m)),{points:g,allLineIds:p}=t,b=Math.max(0,Math.round(u)),S=Math.min(g.length-1,Math.round(d));let x=0;const v=p.reduce((t,e)=>Object.assign(t,{[e]:0}),{});if(p.every(t=>c[t]<=0))return;p.forEach(t=>{const e=c[t];for(let o=b;o<=S;o++){const n=g[o].lines[t]*e;x+=n,v[t]+=n}}),((t,e,o,n,i,r)=>{if(!e)return;const{allLineIds:s,lineIds:a}=t,{node:l,items:c}=e;l.style.transform=`translate(${o/2}px, ${n/2}px)`;const h=Math.min(o,n)/3.3,u=Math.PI;let d=0;s.forEach(t=>{const e=r[t],o=c[t];a.includes(t)?o.node.style.opacity=1:o.node.style.opacity=0;const n=e/i,s=2*u*(d+n/2),l=h*Math.sin(s),m=-h*Math.cos(s),_=1.6*(n+1);o.node.style.transform=`translate(${l}px, ${m}px)`,o.textNode.style.transform=`scale(${_}, ${_})`;const f=Math.round(100*n);o.text.textContent=`${f}%`,d+=n})})(t,h,i,r,x,v);const{bottomPaddingUniformLocation:w,shaderProgram:L}=o,y=t.points.length,{colorUniformLocation:P}=o;e.useProgram(L),e.uniform1f(w,f);const A=4*y*t.allLineIds.length,T=e.TRIANGLE_STRIP;let B=A;for(let o=0;o<p.length;o++){const n=p[o];let i=Math.round(6002*v[n]/x);if(0===i)continue;B+(i+=2)>6002+A&&(i=6002+A-B);const[r,s,a]=t.rgbaColorsWebgl[n];e.uniform4f(P,r,s,a,1),e.drawArrays(T,B,i),B+=i-2}if(B<6002+A)for(let o=p.length-1;o>=0;o--){const n=p[o];if(v[n]>0){const[o,i,r]=t.rgbaColorsWebgl[n];e.uniform4f(P,o,i,r,1);const s=6002+A-B;e.drawArrays(T,B,s);break}}};var at=(t,e,o)=>{o||(o=document.createElement("canvas"));let n=o.getContext("webgl",{antialias:!0,powerPreference:"high-performance"});if(!n)throw new Error("not support webgl");const{barOptions:i,pieOptions:r}=ot(n);let s=0,a=0,l=1;const c=rt(t,n,null,e);let h=(c,h,u,d,m,_,f)=>{s===c&&a===h&&l===m||(((t,e,o,n,i,{barOptions:r,pieOptions:s})=>{const a=o*i,l=n*i;t.style.width=`${o}px`,t.style.height=`${n}px`,t.width=a,t.height=l,e.viewport(0,0,a,l),e.useProgram(r.shaderProgram),e.uniform2f(r.resolutionUniformLocation,a,l),e.useProgram(s.shaderProgram),e.uniform2f(s.resolutionUniformLocation,a,l)})(o,n,c,h+74,m,{barOptions:i,pieOptions:r}),s=c,a=h,l=m);const g=c*m,p=h*m;return n.scissor(0,0,g,40*m),((t,e,o,n,i,r,s,a,l)=>{const{scaleFactorUniformLocation:c,scaleStartUniformLocation:h,bottomPaddingUniformLocation:u,shaderProgram:d}=o;let{scaleStartPoint:m,scaleEndPoint:_}=n;const{minY:f,maxY:g}=n,p=(i-2*s)*a/((_+=.5)-(m-=.5)),b=r*a/(g===f?1:g-f),S=l*a-f*b;e.useProgram(d),e.uniform2f(c,p,b),e.uniform1f(h,m-a*s/p),e.uniform1f(u,S),((t,e,o)=>{const{points:n,allLineIds:i}=t,r=n.length;for(let n=0;n<i.length;n++){const s=i[n],[a,l,c]=t.rgbaColorsWebgl[s],{colorUniformLocation:h}=o;e.uniform4f(h,a,l,c,1);const u=e.TRIANGLE_STRIP,d=4*r,m=d*n;e.drawArrays(u,m,d)}})(t,e,o)})(t,n,i,t.fullViewBox.animationBox,c,40,u,m,0),n.scissor(0,74*m,g,p),st(t,n,r,t.viewBox.animationBox,c,h,0,m,74,e,f),o},u=()=>{n.bindBuffer(n.ARRAY_BUFFER,null),o.width=1,o.height=1,t=null,h=null,o=null,n=null,u=null};return{canvas:o,gl:n,destroy:u,updateChartData:()=>{rt(t,n,c,e)},render:h}};let lt=0;const ct=(t,e,o,n,i,r,s=1)=>{t();const a=e[n];if(r&&(0===a||1===a))return;const l=i*(a+.3)*(1+s)/2;e[n]+=l,e[n]<=0?e[n]=0:e[n]>=1&&(e[n]=1),N(r=>ct(t,e,o,n,i,!0,r),`${o}${n}`)},ht=(t,e,o,n,i,r,s=0,a,l=1)=>{t(!0);const c=e[i];if(a&&(0===r&&0===c||1===r&&1===c))return;const h=(t=>{const{box:e,animationBox:o}=t.viewBox;return Math.abs(e.maxY-o.maxY)/(o.maxY-o.minY)})(o),u=((s=(s+(r-c)/((9*h+11)/2))/2)+s*l)/2;e[i]+=u,e[i]<=1e-4?e[i]=0:e[i]>=.9999&&(e[i]=1),N(a=>ht(t,e,o,n,i,r,s,!0,a),`${n}${i}`)},ut=(t,e,o,n)=>{e=e.subStore||e;let i=z;e.isBar?i=X:e.isArea?i=Q:e.isPie&&(i=at);const r=i(e,o,n);return n||r.canvas.classList.add(R.a.canvas),S(t,r.canvas),r.canvas.addEventListener("webglcontextlost",()=>{r.isLost=!0,dt(t,r)},!0),r},dt=(t,e)=>{t.contains(e.canvas)&&t.removeChild(e.canvas),e.destroy()},mt=t=>t.allLineIds.reduce((t,e)=>Object.assign(t,{[e]:1}),{});var _t=(t,e=2,o=0)=>{let n;const i=b(R.a.image),r=((t,e)=>{const{allLineIds:o}=t,n=b(R.a.pieNumbers),i={};return o.forEach(t=>{const e=b(R.a.pieNumber),o=b(R.a.pieNumberInner),r=document.createTextNode("10");S(o,r),S(e,o),S(n,e),i[t]={node:e,textNode:o,text:r}}),S(e,n),{node:n,items:i}})(t,i);let s=mt(t);const a=t.allLineIds.reduce((t,e)=>Object.assign(t,{[e]:1}),{});n=ut(i,t,a);let h=0,d=0,m=!1;const _=`${t.nextFramePrefix}webglRerender${lt++}`,f=`${t.nextFramePrefix}webglLineOpacity${lt++}`,g=(e,l)=>N(()=>{const c=nt();h=e,d=l,n&&!n.isLost||(n=ut(i,t,a)),m&&(n.updateChartData(),m=!1),n.render(e,l,o,s,c,74,r)},_),p=t=>{m=t,(t=>t in M)(_)||g(h,d)},x=e=>{const o=t.subStore||t;o.isBar||o.isArea||o.isPie?ht(p,a,o,f,e,0):ct(p,s,f,e,-.1)},v=e=>{const o=t.subStore||t;o.isBar||o.isArea||o.isPie?ht(p,a,o,f,e,1):ct(p,s,f,e,.1)};t.on(l,x),t.on(c,v),t.on(u,()=>{if(n.render(h,d,o,s,nt(),74),((t,e,o,n)=>{const i=e.gl.canvas,r=document.createElement("canvas");r.classList.add(R.a.canvas2d);const s=r.getContext("2d");n+=74;const a=nt(),l=o*a,c=n*a;r.style.width=`${o}px`,r.style.height=`${n}px`,r.width=l,r.height=c,s.drawImage(i,0,0),S(t,r),r.style.opacity=1,i.style.opacity=0,N(()=>{r.style.opacity=0,i.classList.add(R.a.transition),N(()=>{i.style.opacity=1})}),setTimeout(()=>{t.removeChild(r),i.classList.remove(R.a.transition)},6e3)})(i,n,h,d),dt(i,n),t.transformToLineChart){const e=t.subStore||t;s=mt(e),e.on(l,x),e.on(c,v)}t.subStore&&t.subStore.isPie?r.node.style.opacity=1:r.node.style.opacity=0,n=ut(i,t,a,n.gl.canvas),p()});return{node:i,render:g,destroy:()=>{t.off(l,x),t.off(c,v)}}},ft=o(14),gt=o.n(ft);const pt=t=>{const{minY:e,maxY:o,gridStep:n}=t.viewBox.box,[,[,i]]=t.size;let r=o;t.isArea?r+=22/i*(o-e):r-=22/i*(o-e);const s=[];let a=e;for(;a<r;)s.push(a),a+=n;return((t,e)=>{const[,o]=e.toExponential().split("e");let n=Math.round(1/Number(`1e${o}`)*10);return n<1&&(n=1),t.map(t=>Math.round(t*n)/n)})(s,n)},bt=t=>t,St=(t,e,o,n,i)=>{const r=n[i];r&&(r.removeTimeout||(r.node.style.opacity=0,r.removeTimeout=setTimeout(()=>N(()=>{if(!r.removeTimeout)return;const t=o.indexOf(i);-1!==t&&o.splice(t,1),e.contains(r.node)&&e.removeChild(r.node),r.removeTimeout=null}),300)))},xt=(t,e,o,n,i)=>{const r=n[i]||(n[i]=((t,e,o)=>{const n=b(gt.a.gridLine),i=b(gt.a.lineText),r=document.createTextNode(bt(o));if(S(i,r),S(n,i),t.yScaled){const e=b(gt.a.lineText),r=document.createTextNode("");S(e,r),S(n,e);const[s,a]=t.allLineIds;return i.style.color=t.lineColors[s],e.style.color=t.lineColors[a],{label:o,node:n,secondaryText:r}}return{label:o,node:n}})(t,0,i));r.removeTimeout&&(clearTimeout(r.removeTimeout),r.node.style.opacity=1,r.removeTimeout=null),o.includes(i)||(o.push(i),e.appendChild(r.node),N(()=>{r.removeTimeout||(r.node.style.opacity=1)}))},vt=(t,e,o,n)=>{const i=pt(t),r=[];for(let t=0;t<n.length;t++){const e=n[t];i.includes(e)||r.push(e)}for(let t=0;t<r.length;t++)St(0,e,n,o,r[t]);for(let r=0;r<i.length;r++)xt(t,e,n,o,i[r]);((t,e,o)=>{const[,[,n]]=t.size,{minY:i,maxY:r}=t.viewBox.animationBox,s=n/(r-i);for(let t=0;t<e.length;t++){const n=o[e[t]];if(!n)continue;const r=s*(n.label-i);n.node.style.transform=`translate(0, ${-r}px)`}})(t,n,o),t.yScaled&&((t,e,o)=>{const{minY:n,maxY:i}=t.viewBox.box,{minY:r,maxY:s}=t.secondaryViewBox.box,a=(s-r)/(i-n);for(let t=0;t<e.length;t++){const{label:i,secondaryText:s}=o[e[t]];s.nodeValue=bt(Math.round((i-n)*a+r))}})(t,n,o)};var wt=t=>{const e=(t=>{const e=b(gt.a.grid);return w(t,e,gt.a),t.isArea&&e.classList.add(gt.a.isArea),t.yScaled&&e.classList.add(gt.a.yScaled),e})(t),o={},n=[],r=()=>vt(t.subStore||t,e,o,n),s=o=>{((t,e,o)=>{if(t.yScaled){const[n,i]=t.allLineIds;o===n&&e.classList.toggle(gt.a.mainLineOff),o===i&&e.classList.toggle(gt.a.secondaryLineOff)}})(t,e,o),r()};return t.on(i,t=>{((t,[,[e,o]])=>{t.style.width=`${e}px`,t.style.height=`${o}px`})(e,t),r()}),t.on(c,s),t.on(l,s),t.viewBox.on(a,r),t.on(u,()=>{t.subStore?(t.subStore.viewBox.on(a,r),t.subStore.isPie?e.style.opacity=0:e.style.opacity=1):e.style.opacity=1}),{node:e}},Lt=o(16),yt=o.n(Lt);const Pt=(t,e,o,n)=>{const i=b(yt.a.label),r=b(yt.a.labelInner);i.style.opacity="0";const s=((t,e)=>{const o=new Date(e+m);return t.weekDetailed?`${T(o)} ${A(o)}`:t.dayDetailed?A(o):B(o)})(t,n),a=document.createTextNode(s);return S(r,a),S(i,r),{node:i,showTimeout:null,hideTimeout:null,index:o}},At=(t,e,o)=>{e.hideTimeout?(clearTimeout(e.hideTimeout),e.hideTimeout=null,N(()=>e.node.style.opacity="1")):o.has(e.index)||(S(t,e.node),e.showTimeout=setTimeout(()=>{e.showTimeout=null,N(()=>e.node.style.opacity="1")},30),o.add(e.index))},Tt=(t,e,o,i,r)=>{const[[s]]=t.size,{points:a}=t,{scaleStartPoint:l,scaleEndPoint:c}=t.viewBox.box,h=c-l,u=(a.length,(t=>t.weekDetailed?60:40)(t)),d=s-2*n,m=Math.min(Math.floor(d/(u+20)),10);let _=1;for(;h/_>m;)_*=1.5;_=Math.round(_);const f=Math.round(_/2),g=n*h/d,p=u*h/d/2;let b=Math.ceil((l-f+p-g)/_)*_+f;const S=new Set;for(;b<c+g-p;){if(S.add(b),i.has(b)){i.delete(b),b+=_;continue}const n=o[b]||(o[b]=Pt(t,0,b,a[b].x));At(e,n,r),b+=_}return i.forEach(t=>((t,e,o)=>{e.showTimeout&&(clearTimeout(e.showTimeout),e.showTimeout=null),e.hideTimeout||(N(()=>e.node.style.opacity="0"),e.hideTimeout=setTimeout(()=>{e.hideTimeout=null,N(()=>t.contains(e.node)&&t.removeChild(e.node)),o.delete(e.index)},200))})(e,o[t],r)),r.forEach(e=>((t,e,{node:o})=>{const[[i]]=t.size,{scaleStartPoint:r,scaleEndPoint:s}=t.viewBox.box,a=(i-2*n)*(e-r)/(s-r);o.style.transform=`translate(${a}px, 0)`})(t,e,o[e])),S},Bt=()=>({container:b(yt.a.container),labelsCollection:{},visibleLabels:new Set,activeLabels:new Set});var Et=t=>{const e=b(yt.a.labels);w(t,e,yt.a);const o=b(yt.a.wrapper),n=Bt();let s=n;S(e,o),S(o,s.container);const a=()=>{s.activeLabels=Tt(t.subStore||t,s.container,s.labelsCollection,s.activeLabels,s.visibleLabels)};return t.on(r,a),t.on(i,a),t.on(u,()=>{t.subStore?(s=(t=>{const e=Bt();return e.container.style.opacity=0,S(t,e.container),N(()=>{e.container.style.opacity=1}),e})(o),n.container.style.opacity=0,t.subStore.on(r,a),t.subStore.isPie?o.style.opacity=0:o.style.opacity=1):(n.container.style.opacity=1,((t,e)=>{t.container.style.opacity=0,setTimeout(()=>N(()=>{e.contains(t.container)&&e.removeChild(t.container)}),300)})(s,o),s=n,o.style.opacity=1),a()}),{node:e}},It=o(18),Ut=o.n(It);const Ct=t=>{const{type:e}=t;return e.startsWith("touch")?t.touches[0].clientX:t.clientX},Rt=t=>{const{type:e}=t;return e.startsWith("touch")?t.touches[0].clientY:t.clientY},Ft=([t,e],[o,n])=>Math.abs(t-o)<Math.abs(e-n),Yt=(t,e,o,n)=>{const i=n=>{v(t,"mousemove",e),v(window,"touchmove",e),v(t,"mouseleave",i),v(window,"touchend",i),v(window,"scroll",i,!0),o(n)};return x(t,"mousemove",e),x(window,"touchmove",e),x(t,"mouseleave",i),x(window,"touchend",i),x(window,"scroll",i,!0),i},Mt=(t,e,o)=>{const{points:i,size:[,[r]],viewBox:{box:s}}=e,{scaleStartPoint:a,scaleEndPoint:l}=s,c=l-a,{left:h}=t.getBoundingClientRect(),u=Ct(o)-h;let d=Math.round(u*c/(r-2*n)+a);return d=Math.min(d,i.length-1),d=Math.max(d,0)},$t=t=>t&&t.type.startsWith("mouse")&&t.preventDefault(),Ot=(t,e)=>{const{size:[,[o,i]]}=e;t.style.width=`${o-2*n}px`,t.style.height=`${i}px`},Nt=([t,e,o],{x:n,lines:i},{lineIds:r,lineColors:s,lineNames:a,weekDetailed:l},c,h,u)=>{const d=new Date(n+m),_=l?`${B(d)}, ${A(d)}`:B(d);e.innerHTML="",S(e,document.createTextNode(_)),o.innerHTML="",r.forEach(t=>{const e=b(Ut.a.yItemValueLine);e.style.color=s[t];const n=b(Ut.a.yItemName),r=b(Ut.a.yItemValue);S(n,document.createTextNode(`${a[t]}:`)),S(r,document.createTextNode(i[t])),S(e,n),S(e,r),S(o,e)});const f=t.offsetWidth;t.style.transform=h-f-10<0?`translate(${u+7}px, 0)`:`translate(-${f+7}px, 0)`},Vt=(t,e,o,i)=>{if(!t)return;const[r,s]=t;r.style.transform=`translate(${o+n}px, 0)`,s.style.transform=`translate(-${e-o-i-n}px, 0)`},Dt=(t,e,o)=>{const{lineIds:n,size:[,[,i]]}=t,r=(t,n)=>{const{maxY:r,minY:s}=t,a=r-s,l=e.lines[n],c=i*(l-s)/a;o[n].style.transform=`translate(0, ${-c}px) scale(1, 1)`};if(t.yScaled){const[e,o]=t.allLineIds;n.includes(e)&&r(t.viewBox.box,e),n.includes(o)&&r(t.secondaryViewBox.box,o)}else n.forEach(e=>r(t.viewBox.box,e))},kt=(t,e)=>{const{allLineIds:o,lineColors:n}=t,i=o.reduce((o,i)=>{const r=b(Ut.a.mark);return r.style.borderColor=n[i],t.isLine||(r.style.display="none"),S(e,r),Object.assign(o,{[i]:r})},{});return t.on(c,t=>i[t].style.display="block"),t.on(l,t=>i[t].style.display="none"),i},zt=(t,e)=>{const o=b(Ut.a.line);let n=null;t.isLine&&(n=kt(t,o));const i=(t=>{const e=b(Ut.a.popup);S(t,e);const o=b(Ut.a.popupXValue),n=b(Ut.a.popupYValues);return S(e,o),S(e,n),[e,o,n]})(o),r=t.isBar?(t=>{const e=b(Ut.a.shadows),o=b(Ut.a.leftShadow),n=b(Ut.a.rightShadow);return S(e,o),S(e,n),S(t,e),[o,n,e]})(e):null;return S(e,o),[o,n,i,r]},Ht=(t,e)=>{const{node:o,shadows:n}=t,{target:i}=e;return o===i||!!n&&n.includes(i)},Wt=t=>{Object.entries(t).forEach(([,t])=>t.style.display="block")},jt=t=>{Object.entries(t).forEach(([,t])=>t.style.display="none")};class Gt{constructor(t){this.originalStore=t,this.store=t,this.node=b(Ut.a.root),t.isBar&&this.node.classList.add(Ut.a.isBar),t.isLine&&this.node.classList.add(Ut.a.isLine),this.isTouchDevice=!1,w(t,this.node,Ut.a),this.isVisible=!1,this.currentIndex=0;const[e,o,n,r]=zt(t,this.node);this.lineNode=e,this.marks=o,this.popup=n,this.shadows=r,this.moving=!1,t.on(i,()=>this.setSize()),t.on(u,()=>this.onSubStore()),x(this.node,"mousemove",t=>this.startMove(t)),x(this.node,"mouseenter",t=>this.startMove(t)),x(window,"touchstart",t=>this.startMove(t)),this.initPopupHide(),this.initPointShow()}onSubStore(){this.hide();const{originalStore:t}=this;if(t.subStore?(this.store=t.subStore,this.store.on(r,()=>this.hide())):this.store=t,this.store.transformToLineChart)if(this.store.isLine){this.marks||(this.marks=kt(this.store,this.lineNode)),Wt(this.marks);const[t,e]=this.shadows;t.style.display="none",e.style.display="none"}else{jt(this.marks);const[t,e]=this.shadows;t.style.display="block",e.style.display="block"}}initPointShow(){const{store:t,popup:e}=this,[o]=e;x(this.node,"click",e=>{e.isChartDetailsPopupClick=!0,this.isTouchDevice||t.showPoint(this.currentIndex)}),x(o,"click",()=>t.showPoint(this.currentIndex))}initPopupHide(){const{store:t}=this,e=t=>this.hide(t);x(document.body,"click",e),t.on(c,e),t.on(l,e),t.on(r,e)}startMove(t){if(this.store.isPie)return;if(this.moving)return;if("touchstart"===t.type&&(this.isTouchDevice=!0),this.isTouchDevice&&"mouseenter"===t.type)return;if(!Ht(this,t))return;this.moving=!0,$t(t);const e=[Ct(t),Rt(t)];let o=!0,n=null,i=()=>{};const r=t=>{n&&clearTimeout(n),o&&Ft(e,[Ct(t),Rt(t)])?i(t):(o&&(o=!1,this.show()),this.visible?($t(t),this.updatePosition(t)):i(t))};n=setTimeout(()=>r(t),100),i=Yt(this.node,r,t=>{"touchend"!==t.type&&(n&&clearTimeout(n),this.hide()),this.moving=!1},t)}updatePosition(t){const{store:e,node:o,lineNode:i,marks:r,popup:s}=this,{points:a,size:[,[l]],viewBox:{box:c}}=e;let{scaleStartPoint:h,scaleEndPoint:u}=c;e.isBar&&(h-=.5,u+=.5);const d=u-h,m=Mt(o,e,t);if(this.currentIndex===m)return;const _=a[m];let f=(l-2*n)*(m-h)/d,g=1;e.isBar&&(g=l/d,i.style.width=`${g}px`,f-=g/2,Vt(this.shadows,l,f,g)),i.style.transform=`translate(${f}px, 0)`,e.isLine&&Dt(e,_,r),Nt(s,_,e,l,f,g),this.currentIndex=m}setSize(){Ot(this.node,this.store)}show(){this.visible||(this.visible=!0,this.node.classList.add(Ut.a.visible))}hide(t){!this.visible||t&&(t.isChangeThemeClick||t.isChartDetailsPopupClick)||(this.visible=!1,this.node.classList.remove(Ut.a.visible))}}var Xt=o(20),qt=o.n(Xt);const Jt=(t,e)=>{const{size:[,[o,n]]}=t;e.render(o,n)},Zt=(t,e)=>{t.viewBox.on(a,()=>Jt(t,e)),t.fullViewBox.on(a,()=>Jt(t,e)),t.yScaled&&(t.secondaryViewBox.on(a,()=>Jt(t,e)),t.secondaryFullViewBox.on(a,()=>Jt(t,e)))};var Kt=t=>{const e=b(qt.a.chartView);w(t,e,qt.a);const o=wt(t),r=_t(t,2,n),s=Et(t);S(e,o.node),S(e,s.node);const a=(t=>new Gt(t))(t);return S(e,a.node),t.on(i,()=>((t,e,o)=>{const{size:[,[n,i]]}=e;t.style.width=`${n}px`,t.style.height=`${i}px`,o.render(n,i)})(e,t,r)),Zt(t,r),t.on(u,()=>{t.subStore&&Zt(t.subStore,r)}),{node:e,image:r.node}},Qt=o(22),te=o.n(Qt);var ee=class{constructor(){this.lstnrs={}}clearEventListeners(){this.lstnrs={}}on(t,e){this.lstnrs[t]||(this.lstnrs[t]=[]),this.lstnrs[t].push(e)}off(t,e){const o=this.lstnrs[t];if(o)for(let t=0;t<o.length;t++)if(o[t]===e)return void o.splice(t,1)}trigger(t,e){const o=this.lstnrs[t];o&&o.forEach(t=>t(e));const n=this.lstnrs["*"];n&&n.forEach(o=>o(e,t))}};const oe=(t,e)=>{const o=b();return o.classList.add(te.a.resizer),o.classList.add(e),S(t,o),o};var ne=()=>{const t=new ee,e=b(te.a.control);(t=>{const e=b(te.a.leftScaler),o=b(te.a.leftScalerInner),n=b(te.a.leftScalerTip),i=b(te.a.rightScaler),r=b(te.a.rightScalerInner),s=b(te.a.rightScalerTip),a=b(te.a.topBorder),l=b(te.a.bottomBorder);S(e,o),S(i,r),S(o,n),S(r,s),S(t,e),S(t,i),S(t,a),S(t,l)})(e);const o=oe(e,te.a.startResizer),n=oe(e,te.a.endResizer),i=(t=>{const e=b(te.a.mover);return S(t,e),e})(e);return x(o,"mousedown",e=>t.trigger("moveStartPoint",e)),x(o,"touchstart",e=>t.trigger("moveStartPoint",e)),x(n,"mousedown",e=>t.trigger("moveEndPoint",e)),x(n,"touchstart",e=>t.trigger("moveEndPoint",e)),x(i,"mousedown",e=>t.trigger("move",e)),x(i,"touchstart",e=>t.trigger("move",e)),{node:e,on:(e,o)=>t.on(e,o),off:(e,o)=>t.off(e,o),setPosition:(t,o)=>((t,e,o)=>{t.style.left=`${100*e}%`,t.style.right=`${100*o}%`})(e,t,o)}};let ie=.2;const re=t=>t&&t.type.startsWith("mouse")&&t.preventDefault(),se=(t,e)=>{const o=b();return o.classList.add(te.a.shadow),o.classList.add(e),S(t,o),o},ae=t=>{const{type:e}=t;return e.startsWith("touch")?t.touches[0].clientX:t.clientX},le=t=>{const{type:e}=t;return e.startsWith("touch")?t.touches[0].clientY:t.clientY},ce=([t,e],o)=>{const n=ae(o),i=le(o);return Math.abs(t-n)<Math.abs(e-i)},he=t=>Math.round(1e3*t)/1e3,ue=(t,e,o)=>{let n=he(t/e);n<0&&(n=0);const i=he(1-o-ie);return n>i&&(n=i),n},de=(t,e)=>{const o=()=>{v(window,"mousemove",t),v(window,"touchmove",t),v(window,"mouseup",o),v(window,"touchend",o),v(window,"mouseleave",o),e&&e()};return x(window,"mousemove",t),x(window,"touchmove",t,{passive:!1}),x(window,"mouseup",o),x(window,"touchend",o),x(window,"mouseleave",o),o},me="M20 10 L15 10    A5 5 0 0 0 10 15    L10 45     A5 5 0 0 0 15 50    L20 50 L20 60 L0 60 L0 0 L20 0",_e=(t,e,o)=>{(t=t.subStore||t).changeScale(e,o)},fe=(t,e,o)=>{e=e.subStore||e,re(t);let n=!1;const i=[ae(t),le(t)],r=o.getBoundingClientRect();let s=()=>{};s=de(t=>{if(!n&&ce(i,t))return void s();n=!0,e.dragStart(),re(t);const[,o]=e.scale,a=((t,e,o)=>{const{left:n,width:i}=e,r=ae(t);return ue(r-n-5,i,o)})(t,r,o);_e(e,a,o)},()=>e.dragEnd())},ge=(t,e,o)=>{e=e.subStore||e,re(t);let n=!1;const i=[ae(t),le(t)],r=o.getBoundingClientRect();let s=()=>{};s=de(t=>{if(!n&&ce(i,t))return void s();n=!0,e.dragStart(),re(t);const[o]=e.scale,a=((t,e,o)=>{const{right:n,width:i}=e,r=ae(t);return ue(n-r-5,i,o)})(t,r,o);_e(e,o,a)},()=>e.dragEnd())},pe=(t,e,o)=>{e=e.subStore||e,re(t);let n=!1;const i=[ae(t),le(t)],r=o.getBoundingClientRect(),[s,a]=e.scale,{left:l,width:c}=r,h=i[0]-l-c*s,u=1-a-s;let d=()=>{};d=de(t=>{if(!n&&ce(i,t))return void d();n=!0,e.dragStart(),re(t);const[o,s]=((t,e,o,n)=>{const{left:i,width:r}=e,s=ae(t)-i,a=he((s-o)/r);if(a<0)return[0,1-n];const l=he(1-a-n);return l<0?[1-n,0]:[a,l]})(t,r,h,u);_e(e,o,s)},()=>e.dragEnd())},be=(t,e)=>{const{size:[,,[o,n,i]]}=t;e.style.top=`${i}px`,e.style.width=`${o}px`,e.style.height=`${n}px`,(t=>ie=t)(Math.min(60,o/8)/o)},Se=(t,e,o,n)=>{t=t.subStore||t;const[i,r]=t.scale;o.style.transform=`translate(${100*i}%, 0)`,n.style.transform=`translate(-${100*r}%, 0)`,e.setPosition(i,r)};var xe=t=>{const e=b(te.a.chartScaler);let o=null;w(t,e,te.a),(t=>{const e=b(te.a.leftDamper),o=b(te.a.rightDamper);e.innerHTML=`<svg><path d="${me}"></path></svg>`,o.innerHTML=`<svg><path d="${me}"></path></svg>`,S(t,e),S(t,o)})(e);const n=((t,e)=>{let o=1;return()=>N(()=>{t.style.zIndex=o,o=5===o?6:1},e)})(e,"toggle_chart_scaler_z_index"),[s,l,c]=((t,e)=>{const o=b(te.a.shadows),n=se(o,te.a.leftShadow),i=se(o,te.a.rightShadow),r=ne();return r.on("moveStartPoint",o=>fe(o,t,e)),r.on("moveEndPoint",o=>ge(o,t,e)),r.on("move",o=>pe(o,t,e)),S(e,o),S(e,r.node),[r,n,i]})(t,e),h=()=>Se(t,s,l,c);return t.on(i,()=>be(t,e)),t.on(r,h),t.on(u,()=>{t.subStore&&t.subStore.on(r,h),o&&clearTimeout(o),e.classList.add(te.a.animation),o=setTimeout(()=>{e.classList.remove(te.a.animation)},500),h()}),N(()=>t.viewBox.on(a,n)),Se(t,s,l,c),{node:e}},ve=o(24),we=o.n(ve);const Le=(t,e,o)=>{const n=b(we.a.switcher),i=e.lineNames[o],r=e.lineColors[o],s=b(we.a.checkbox),a=b(we.a.title),l=b(we.a.coloredTitle);S(l,document.createTextNode(i));const c=b(we.a.whiteTitle);S(c,document.createTextNode(i));const h=b(we.a.background);return n.style.borderColor=r,l.style.color=r,h.style.backgroundColor=r,((t,e)=>-1!==t.lineIds.indexOf(e))(e,o)&&ye([n,a,r]),x(n,"mousedown",()=>{let t=null;const i=()=>{t&&clearTimeout(t),v(n,"mouseup",i),e.toggleLine(o)};x(n,"mouseup",i),t=setTimeout(()=>{t=null,v(n,"mouseup",i),e.showLine(o)},500)}),S(a,l),S(a,c),S(n,h),S(n,s),S(n,a),S(t,n),[n,a,r]},ye=([t,e,o])=>{t.classList.contains(we.a.checked)||t.classList.add(we.a.checked)},Pe=(t,e,o)=>{if(o.innerHTML="",t.allLineIds.length<2)return void(e.style.display="none");e.style.display="block";const n=t.allLineIds.reduce((e,n)=>Object.assign(e,{[n]:Le(o,t,n)}),{});t.on(c,t=>ye(n[t])),t.on(l,t=>(([t,e,o])=>{t.classList.contains(we.a.checked)&&t.classList.remove(we.a.checked)})(n[t]))};var Ae=t=>{const e=b(we.a.root);w(t,e,we.a);const o=b(we.a.list);return S(e,o),Pe(t,e,o),t.on(u,()=>{t.transformToLineChart&&Pe(t.subStore||t,e,o)}),{node:e}},Te=o(28),Be=o.n(Te);const Ee=(t,e)=>{const{theme:o,themes:n}=t;e.textContent=o===n.light?"Switch to Night Mode":"Switch to Day Mode"};var Ie=t=>{const e=b(Be.a.themeSwitcher),o=b(Be.a.switcher),n=document.createTextNode("");return Ee(t,n),S(o,n),S(e,o),o.addEventListener("click",()=>(t=>{const{theme:e,themes:o}=t,n=e===o.light?o.dark:o.light;t.setTheme(n)})(t)),t.on(h,()=>Ee(t,n)),{node:e}},Ue=o(30),Ce=o.n(Ue);const Re=t=>{const e=E(t);return`${(t=>t.getDate())(e)} ${((t,e)=>(e?f:_)[t.getMonth()])(e,!0)} ${(t=>t.getFullYear())(e)}`},Fe=t=>{t=t.subStore||t;const{viewBox:e,points:o}=t,{scaleStartPoint:n,scaleEndPoint:i}=e.box,r=Math.max(Math.round(n),0),s=Math.min(Math.round(i),o.length-1);if(r>=s)return Re(o[r].x);const a=Re(o[r].x),l=Re(o[s].x-1);if(a===l){return`${T(E(o[r].x),!0)}, ${a}`}return`${a} - ${l}`};var Ye=t=>{const e=b(Ce.a.header);w(t,e,Ce.a);const o=b(Ce.a.title),n=b(Ce.a.zoomOut),i=b(Ce.a.zoomIcon);i.innerHTML='<svg style="width:24px;height:24px" viewBox="0 0 24 24">\n    <path fill="#000000" d="M15.5,14H14.71L14.43,13.73C15.41,12.59 16,11.11 16,9.5A6.5,6.5 0 0,0 9.5,3A6.5,6.5 0 0,0 3,9.5A6.5,6.5 0 0,0 9.5,16C11.11,16 12.59,15.41 13.73,14.43L14,14.71V15.5L19,20.5L20.5,19L15.5,14M9.5,14C7,14 5,12 5,9.5C5,7 7,5 9.5,5C12,5 14,7 14,9.5C14,12 12,14 9.5,14M7,9H12V10H7V9Z" />\n</svg>',S(n,i),S(n,document.createTextNode("Zoom Out")),((t,e)=>{const o=b(Ce.a.dateRange),n=document.createTextNode(Fe(t)),i=()=>n.textContent=Fe(t);S(o,n),S(e,o),t.on(r,i),t.on(u,()=>{t.subStore&&t.subStore.on(r,i),i()})})(t,e);const s=()=>((t,e)=>{t.subStore&&!e.classList.contains(Ce.a.subChart)&&e.classList.add(Ce.a.subChart),!t.subStore&&e.classList.contains(Ce.a.subChart)&&e.classList.remove(Ce.a.subChart)})(t,e);return t.on(u,s),s(),x(n,"click",()=>t.showFull()),S(o,document.createTextNode(t.name)),S(e,o),S(e,n),{node:e}};var Me=t=>{const e=b(U.a.chart);w(t,e,U.a);const o=Ye(t),n=b(U.a.viewScaler),r=Kt(t),s=xe(t),a=Ie(t);S(n,r.image),S(n,r.node),S(n,s.node),S(e,o.node),S(e,n);const l=Ae(t);return S(e,l.node),S(e,a.node),t.on(i,([[t,e]])=>((t,e,o)=>{t.style.width=`${e}px`,t.style.height=`${o}px`})(n,t,e)),t.on(d,()=>((t,e)=>{t.dragging?e.classList.add(U.a.noTouchActions):e.classList.remove(U.a.noTouchActions)})(t,e)),{node:e}};const $e=(t,e,o)=>{const[,[,n]]=o.size;return(t=>{const[e,o]=Number(t.toPrecision(2)).toExponential().split("e"),[n,i]=e.split(".");let r=Number(n),s=i?Number(i):0;return r>7&&s>0?(r=10,s=0):r>2?(s>=5&&r++,s=0):s<3?s=0:s>7?(r++,s=0):s=5,Number(`${r}.${s}e${o}`)})((e-t)/Math.min(Math.floor(n/50),6))};var Oe=(t,e,[o=0,i=0]=[],r,s,a,l)=>{const{points:c,startFromZero:h,isBar:u,isPie:d}=t,[,[m]]=t.size,_=c.length-1,f=(_-0)*o+0,g=(_-0)*(1-i)+0,p=(g-f)*n/(m-2*n),b=Math.max(Math.ceil(f-p),0),S=Math.min(Math.floor(g+p),_);if(t.isArea||l)return((t,e)=>({scaleStartPoint:t,scaleEndPoint:e,minY:0,maxY:100,gridStep:20}))(f,g);let x=h?0:c[b].lines[r[0]],v=x;const w=t=>e=>{const o=t[e];o<x&&(x=o),o>v&&(v=o)};let L=b;for(;L<=S;){const{lines:t}=c[L];if(u||d){let e=0;r.forEach(o=>e+=t[o]),e>v&&(v=e)}else{if(L+20<S){const t=e[L];if(t){for(let e=0;e<r.length;e++){const o=r[e],{minY:n,maxY:i}=t[o];n<x&&(x=n),i>v&&(v=i)}L+=20;continue}}r.forEach(w(t))}L++}v+=Math.round((v-x)/10),x===v&&(v+=1);let y=v-x;const P=x;if(s)if(y=$e(x,v,t),t.yScaled)if(a){const{minYShift:t,minY:e,maxY:o}=a.box;(x-=Math.round((v-x)*t/(o-e)))<0&&(x=0)}else{let t=Math.floor(x/y)*y+y;const e=(t=>{const[e]=t.toExponential().split("e"),o=Number(e);let n=o;return o<3&&(n=2*o),t/n})(y);for(;t>x;)t-=e;x=t}else h||(x=Math.floor(x/y)*y);return{scaleStartPoint:f,scaleEndPoint:g,minY:x,maxY:v,gridStep:y,minYShift:P-x}},Ne=t=>{if(!t.isLine)return{};const{points:e,allLineIds:o}=t,n=e.length,i={};for(let t=0;t<n-20;t+=20){const n={};i[t]=n;const r=e[t];for(let i=0;i<o.length;i++){const s=o[i],a=r.lines[s];let l=a,c=a;for(let o=t+1;o<t+20;o++){const t=e[o].lines[s];t>c&&(c=t),t<l&&(l=t)}n[s]={minY:l,maxY:c}}}return i};const Ve=(t,e,o,n,i)=>{const r=t-e,s=Math.abs(r);if(s<n/500)return[t,0];const a=0===o?1:i/(1e3/60),l=((o=(o+r/((s/n*9+11)/2))/2)+o*a)/2;return Math.abs(l)>s?[t,0]:[e+l,o]};var De=class extends ee{constructor(t,e,o,{calcGridStep:n=!1,mainViewBox:i,defaultYScale:r}={}){super(),this.store=t,this.animation={speed:[0,0],timestamp:0,timeout:null},this.yScalePrecalc=Ne(t),this.mainViewBox=i,this.calcGridStep=n,this.box=Oe(this.store,this.yScalePrecalc,e,o,n,this.mainViewBox),this.animationBox=this.box,this.nextFrameAnimationPlanned=!1,r&&(this.box=Object.assign(this.box,r))}update(t,e,o){(e=e||this.store.lineIds).length&&(this.box=Oe(this.store,this.yScalePrecalc,t,e,this.calcGridStep,this.mainViewBox,o),this.trigger(s,this.box),this.animateViewBox())}animateViewBox(){this.nextFrameAnimationPlanned||(this.nextFrameAnimationPlanned=!0,N((t,e)=>{this.nextFrameAnimationPlanned=!1;const{animation:o}=this,{timestamp:n}=o;o.timestamp=e;const{scaleStartPoint:i,scaleEndPoint:r,minY:s,maxY:l,gridStep:c,minYShift:h}=this.box,{minY:u,maxY:d}=this.animationBox;if(s===u&&l===d)return this.animationBox={scaleStartPoint:i,scaleEndPoint:r,minY:s,maxY:l,gridStep:c,minYShift:h},o.speed=[0,0],void this.trigger(a,this.animationBox);const m=d-u,_=e-n,[f,g]=o.speed,[p,b]=Ve(l,d,f,m,_),[S,x]=Ve(s,u,g,m,_);this.animationBox={scaleStartPoint:i,scaleEndPoint:r,minY:S,maxY:p,gridStep:c,minYShift:h},o.speed=[b,x],this.trigger(a,this.animationBox),this.animateViewBox()}))}};const ke={light:"light",dark:"dark"};let ze=1;const He=[72/167,71/167],We=(t,e)=>{const o=e.getFullYear();let n=e.getMonth()+1;n=n>9?String(n):`0${n}`;let i=e.getDate();return`${t}/${o}-${n}/${i=i>9?String(i):`0${i}`}.json`},je=(t,e)=>{return[[t,e+34+40,0],[t,e],[t-2*n,40,e+34]]};class Ge extends ee{constructor({points:t,lineIds:e,names:o,colors:n,yScaled:i},{startFromZero:r=!1,theme:s=ke.light,chartHeight:a=500,isBar:l=!1,isArea:c=!1,isPie:h=!1,name:u,dataLink:d=null,defaultYScale:m=null,secondaryDefaultYScale:_=null,weekDetailed:f=!1,dayDetailed:g=!1,defaultScale:p=[0,0],visibleLineIds:b=null,transformToLineChart:S=!1}={}){super(),(l||c||h)&&(r=!0);const x=b||e;this.nextFramePrefix=`${ze++}`,this.points=t,this.lineIds=x,this.allLineIds=e,this.lineNames=o,this.lineColors=n,this.isVisible=!1,this.chartHeight=a,this.yScaled=i,this.isBar=l,this.isArea=c,this.isPie=h,this.isLine=!l&&!c&&!h,this.startFromZero=r,this.themes=ke,this.theme=ke[s]||ke.light,this.name=u,this.dataLink=d,this.weekDetailed=f,this.dayDetailed=g,this.transformToLineChart=S,this.canShowPoint=Boolean(d),this.dragging=!1,this.rgbaColors=Object.entries(n).reduce((t,[e,o])=>Object.assign(t,{[e]:L(o)}),{}),this.rgbaColorsWebgl=Object.entries(this.rgbaColors).reduce((t,[e,o])=>Object.assign(t,{[e]:o.split(",").map(t=>Number(t)/255)}),{}),this.size=je(300,a),this.scale=p;const v=[0,0],w=i?[e[0]]:x;if(this.viewBox=new De(this,p,w,{calcGridStep:!0,defaultYScale:m}),this.fullViewBox=new De(this,v,w),i){const t=[e[1]];this.secondaryViewBox=new De(this,p,t,{calcGridStep:!0,mainViewBox:this.viewBox,defaultYScale:_}),this.secondaryFullViewBox=new De(this,v,t,{calcGridStep:!1,mainViewBox:this.fullViewBox})}m&&this.updateViewBox(),this.getColor=((t,e)=>this._getColor(t,e))}_getColor(t,e=1){return`rgba(${this.rgbaColors[t]},${e})`}setTheme(t){const e=this.theme;this.theme=ke[t]||ke.light,e!==this.theme&&N(()=>this.trigger(h,this.theme))}changeSize(t,e){this.size=je(t,this.chartHeight),this.subStore&&this.subStore.changeSize(t,e),N(()=>this.trigger(i,this.size))}updateViewBox(t){const{lineIds:e,allLineIds:o}=this,n=this.yScaled?[o[0]]:e;if(this.viewBox.update(this.scale,n,this.isPie),t&&this.fullViewBox.update([0,0],n),this.yScaled){const e=[o[1]];this.secondaryViewBox.update(this.scale,e),t&&this.secondaryFullViewBox.update([0,0],e)}}dragStart(){this.dragging||(this.dragging=!0,N(()=>this.trigger(d,this.dragging)))}dragEnd(){this.dragging&&(this.dragging=!1,N(()=>this.trigger(d,this.dragging)))}changeScale(t,e){this.subStore?this.subStore.changeScale(t,e):(this.scale=[t,e],this.updateViewBox(),N(()=>this.trigger(r,this.scale)))}toggleLine(t){const{lineIds:e,allLineIds:o}=this,n=e.includes(t)?l:c,i=[];for(let r=0;r<o.length;r++)o[r]!==t?e.includes(o[r])&&i.push(o[r]):n===c&&i.push(t);this.lineIds=i,this.subStore?this.subStore.toggleLine(t):this.updateViewBox(!0),N(()=>this.trigger(n,t))}showLine(t){const{lineIds:e,allLineIds:o}=this;o.forEach(o=>{o!==t||e.includes(o)||this.toggleLine(o),o!==t&&e.includes(o)&&this.toggleLine(o)})}showFull(){this.subStore.clearEventListeners();const{maxY:t,minY:e}=this.subStore.viewBox.animationBox;if(this.viewBox.animationBox=Object.assign(this.viewBox.animationBox,{maxY:t,minY:e}),this.yScaled&&this.subStore.yScaled){const{maxY:t,minY:e}=this.subStore.secondaryViewBox.animationBox;this.secondaryViewBox.animationBox=Object.assign(this.secondaryViewBox.animationBox,{maxY:t,minY:e})}this.subStore=null,this.updateViewBox(!0),this.trigger(u,this.subStore)}_showPoint(t,e){const{size:[[o]],chartHeight:n,transformToLineChart:i}=this,{maxY:r,minY:s}=this.viewBox.box;console.log(e),this.subStore=new Ge(e,{chartHeight:n,defaultYScale:{maxY:r,minY:s},secondaryDefaultYScale:this.yScaled?{maxY:this.secondaryViewBox.box.maxY,minY:this.secondaryViewBox.box.minY}:null,weekDetailed:!i,dayDetailed:i,defaultScale:i?[0,0]:He,isBar:!i&&this.isBar,isPie:this.isArea,isArea:!1,visibleLineIds:i?null:this.lineIds,transformToLineChart:i}),this.subStore.changeSize(o,n),N(()=>this.trigger(u,this.subStore))}showPoint(t){if(this.subStore)return;if(this.isArea){const{points:e,lineColors:o,lineNames:n,allLineIds:i}=this,r=e[t],s=Math.max(t-3,0),a=Math.min(t+4,e.length),l=e.slice(s,a);this._showPoint(r,{points:l,colors:o,lineIds:i,names:n})}if(!this.canShowPoint)return;const{points:e,dataLink:o}=this,n=e[t],i=new Date(n.x+m),r=We(o,i);fetch(r).then(t=>t.ok?t.json():Promise.reject(t.text())).then(t=>this._showPoint(n,y(t))).catch(t=>console.error(`Point data load failed, url: ${r}`,t))}}var Xe=Ge;window.chart={createChart:(t,e,o)=>{const{clientWidth:n,clientHeight:i}=t;t.innerHTML="";const r=new Xe(y(e),o),s=Me(r);r.changeSize(n,i),S(t,s.node);const a=()=>{const{clientWidth:e,clientHeight:o}=t;r.changeSize(e,o)};x(window,"resize",a);return{destroy:()=>{v(window,"resize",a)},setTheme:t=>r.setTheme(t)}}}},function(t,e){t.exports={chart:"__chart-lib__38CYR",theme_light:"__chart-lib__1oViI",theme_dark:"__chart-lib__1tOAh",viewScaler:"__chart-lib__3FzCH",fps:"__chart-lib__20ZPE"}},,,,,function(t,e){t.exports={canvas:"__chart-lib__3TOwR",transition:"__chart-lib__1KLbR",image:"__chart-lib__3jqhE",canvas2d:"__chart-lib__rHIkC",pieNumbers:"__chart-lib__3_k1o",pieNumber:"__chart-lib__2VUJm"}},,function(t,e){t.exports={grid:"__chart-lib__2gMBv",isArea:"__chart-lib__3hoEr",yScaled:"__chart-lib__sPkAy",gridLine:"__chart-lib__1GOZd",mainLineOff:"__chart-lib__2d2gO",lineText:"__chart-lib__1ujcB",secondaryLineOff:"__chart-lib__2FyXW",theme_light:"__chart-lib__3YcKG",theme_dark:"__chart-lib__3xOFM"}},,function(t,e){t.exports={labels:"__chart-lib__qI716",theme_light:"__chart-lib__2Xbkq",label:"__chart-lib__1Xqzv",theme_dark:"__chart-lib__2BMsz",wrapper:"__chart-lib__1tn57",container:"__chart-lib__2WbOG"}},,function(t,e){t.exports={theme_light:"__chart-lib__bq2r7",line:"__chart-lib__3VCGy",mark:"__chart-lib__8mh-S",popup:"__chart-lib__2FYFe",popupXValue:"__chart-lib__qEZfy",yItemName:"__chart-lib__eoVQi",theme_dark:"__chart-lib__g4iGc",root:"__chart-lib__wouaI",visible:"__chart-lib__1_DdJ",yItemValueLine:"__chart-lib__1WfuV"}},,function(t,e){t.exports={theme_light:"__chart-lib__1RSs8",spacer:"__chart-lib__2HvKS",theme_dark:"__chart-lib__3zgxb",chartView:"__chart-lib__Yd8Xj"}},,function(t,e){t.exports={theme_light:"__chart-lib__3p56z",chartScaler:"__chart-lib__Dhaaz",shadow:"__chart-lib__2ldhY",topBorder:"__chart-lib__2qAJJ",bottomBorder:"__chart-lib__3YCGQ",leftScalerInner:"__chart-lib__F8lXJ",rightScalerInner:"__chart-lib__ukpHo",leftScaler:"__chart-lib__1EqVG",rightScaler:"__chart-lib__AL2Xm",leftDamper:"__chart-lib__3eh6E",rightDamper:"__chart-lib__3Ndz8",theme_dark:"__chart-lib__2zA59",animation:"__chart-lib__3IzST",control:"__chart-lib__2R50b",shadows:"__chart-lib__2SAK2",leftShadow:"__chart-lib__3tbVQ",rightShadow:"__chart-lib__3ov2i",leftScalerTip:"__chart-lib__2Rmsn",rightScalerTip:"__chart-lib__nIvl9",resizer:"__chart-lib__1I4cl",startResizer:"__chart-lib__2e-V1",endResizer:"__chart-lib__3_3HN",mover:"__chart-lib__3RRAV"}},,function(t,e){t.exports={root:"__chart-lib__1OuEs",list:"__chart-lib__3PWZq",switcher:"__chart-lib__1o7JP",checked:"__chart-lib__2eDjq",background:"__chart-lib__1bPAi",checkbox:"__chart-lib__DZq1J",title:"__chart-lib__3X70l",coloredTitle:"__chart-lib__VT_6i",whiteTitle:"__chart-lib__2HjgM"}},,,,function(t,e){t.exports={themeSwitcher:"__chart-lib__-8Scm",switcher:"__chart-lib__2hchE"}},,function(t,e){t.exports={theme_light:"__chart-lib__mE0wv",theme_dark:"__chart-lib__3dxcz",header:"__chart-lib__11fgh",title:"__chart-lib__18wCU",zoomOut:"__chart-lib__1tdxw",zoomIcon:"__chart-lib__2UViV",dateRange:"__chart-lib__14veG",subChart:"__chart-lib__33Nkf"}}]);