/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/chart/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/chart/BottomLabels/BottomLabels.js":
/*!************************************************!*\
  !*** ./src/chart/BottomLabels/BottomLabels.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers */ \"./src/chart/helpers.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/chart/constants.js\");\n/* harmony import */ var _BottomLabels_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BottomLabels.styl */ \"./src/chart/BottomLabels/BottomLabels.styl\");\n/* harmony import */ var _BottomLabels_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_BottomLabels_styl__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _nextFrame__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../nextFrame */ \"./src/chart/nextFrame.js\");\n\n\n\n\n\n\n// const LABEL_WIDTH = 45;\nconst LABEL_SPACE = 20;\nconst LABEL_CHANGE_STEP = 1.5;\nconst MAX_LABEL_COUNT = 10;\n\nconst getLabelWidth = store => (store.weekDetailed ? 60 : 40);\n\nconst getLabelText = (store, timestamp) => {\n    const date = new Date(timestamp + _constants__WEBPACK_IMPORTED_MODULE_1__[\"TIMEZONE_OFFSET\"]);\n\n    if (store.weekDetailed) {\n        return `${Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"getWeekDayString\"])(date)} ${Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"getTimeString\"])(date)}`;\n    }\n\n    if (store.dayDetailed) {\n        return Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"getTimeString\"])(date);\n    }\n\n    return Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"getDateString\"])(date);\n};\n\nconst createLabel = (store, indexSize, labelIndex, point) => {\n    const node = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_BottomLabels_styl__WEBPACK_IMPORTED_MODULE_2___default.a.label);\n    const labelInner = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_BottomLabels_styl__WEBPACK_IMPORTED_MODULE_2___default.a.labelInner);\n\n    node.style.opacity = '0';\n\n    // date.toLocaleDateString('en-US', {month: 'short', day: 'numeric'})\n    const dateText = getLabelText(store, point);\n\n    const text = document.createTextNode(dateText);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(labelInner, text);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(node, labelInner);\n\n    return {\n        node,\n        showTimeout: null,\n        hideTimeout: null,\n        index: labelIndex,\n    };\n};\n\nconst showLabel = (container, label, visibleLabels) => {\n    if (label.hideTimeout) {\n        clearTimeout(label.hideTimeout);\n\n        label.hideTimeout = null;\n\n        Object(_nextFrame__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(() => label.node.style.opacity = '1');\n    } else if (!visibleLabels.has(label.index)) {\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(container, label.node);\n\n        label.showTimeout = setTimeout(() => {\n            label.showTimeout = null;\n\n            Object(_nextFrame__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(() => label.node.style.opacity = '1');\n        }, 30);\n\n        visibleLabels.add(label.index);\n    }\n};\n\nconst hideLabel = (container, label, visibleLabels) => {\n    if (label.showTimeout) {\n        clearTimeout(label.showTimeout);\n\n        label.showTimeout = null;\n    }\n\n    if (label.hideTimeout) {\n        return;\n    }\n\n    Object(_nextFrame__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(() => label.node.style.opacity = '0');\n\n    label.hideTimeout = setTimeout(() => {\n        label.hideTimeout = null;\n\n        Object(_nextFrame__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(() => container.contains(label.node) && container.removeChild(label.node));\n\n        visibleLabels.delete(label.index);\n    }, 200);\n};\n\nconst setLabelPosition = (store, label, {node}) => {\n    const [[width]] = store.size;\n    const {scaleStartPoint, scaleEndPoint} = store.viewBox.box;\n    const chartWidth = width - (_constants__WEBPACK_IMPORTED_MODULE_1__[\"PADDING\"] * 2);\n    const indexWidth = scaleEndPoint - scaleStartPoint;\n\n    const left = chartWidth * (label - scaleStartPoint) / indexWidth;\n\n    node.style.transform = `translate(${left}px, 0)`;\n};\n\nconst updateAll = (store, container, labelsCollection, activeLabels, visibleLabels) => {\n    const [[width]] = store.size;\n    const {points} = store;\n    const {scaleStartPoint, scaleEndPoint} = store.viewBox.box;\n    // const {scaleStartPoint: firstIndex, scaleEndPoint: lastIndex} = store.fullViewBox.box;\n\n    const indexSize = scaleEndPoint - scaleStartPoint;\n    const fullIndexSize = points.length - 1;\n\n    const labelWidth = getLabelWidth(store);\n\n    const chartWidth = width - (_constants__WEBPACK_IMPORTED_MODULE_1__[\"PADDING\"] * 2);\n    const maxLabelCount = Math.min(Math.floor(chartWidth / (labelWidth + LABEL_SPACE)), MAX_LABEL_COUNT);\n\n    let labelsStep = 1;\n\n    while (indexSize / labelsStep > maxLabelCount) {\n        labelsStep *= LABEL_CHANGE_STEP;\n    }\n\n    labelsStep = Math.round(labelsStep);\n\n    const halfStep = Math.round(labelsStep / 2);\n\n    const indexPadding = _constants__WEBPACK_IMPORTED_MODULE_1__[\"PADDING\"] * indexSize / chartWidth;\n\n    const indexLabelHalfWidth = labelWidth * indexSize / chartWidth / 2;\n\n    let labelIndex = Math.ceil(\n        (scaleStartPoint - halfStep + (indexLabelHalfWidth) - indexPadding) / labelsStep,\n    ) * labelsStep + halfStep;\n\n    const nextActiveLabels = new Set();\n\n    while (labelIndex < scaleEndPoint + indexPadding - indexLabelHalfWidth) {\n        nextActiveLabels.add(labelIndex);\n\n        if (activeLabels.has(labelIndex)) {\n            activeLabels.delete(labelIndex);\n\n            labelIndex += labelsStep;\n\n            continue;\n        }\n\n        const label = labelsCollection[labelIndex] || (\n            labelsCollection[labelIndex] = createLabel(store, fullIndexSize, labelIndex, points[labelIndex].x)\n        );\n\n        showLabel(container, label, visibleLabels);\n\n        labelIndex += labelsStep;\n    }\n\n    activeLabels.forEach(index => hideLabel(container, labelsCollection[index], visibleLabels));\n\n    visibleLabels.forEach(label => setLabelPosition(store, label, labelsCollection[label]));\n\n    return nextActiveLabels;\n};\n\nconst getLabelData = () => ({\n    container: Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_BottomLabels_styl__WEBPACK_IMPORTED_MODULE_2___default.a.container),\n    labelsCollection: {},\n    visibleLabels: new Set(),\n    activeLabels: new Set(),\n});\n\nconst hideSubLabels = (data, wrapper) => {\n    data.container.style.opacity = 0;\n\n    setTimeout(() => Object(_nextFrame__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(() => {\n        if (wrapper.contains(data.container)) {\n            wrapper.removeChild(data.container);\n        }\n    }), 300);\n};\n\nconst createLabels = (wrapper) => {\n    const labelsData = getLabelData();\n\n    labelsData.container.style.opacity = 0;\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(wrapper, labelsData.container);\n\n    Object(_nextFrame__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(() => {\n        labelsData.container.style.opacity = 1;\n    });\n\n    return labelsData;\n};\n\nconst BottomLabels = (store) => {\n    const node = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_BottomLabels_styl__WEBPACK_IMPORTED_MODULE_2___default.a.labels);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"withTheme\"])(store, node, _BottomLabels_styl__WEBPACK_IMPORTED_MODULE_2___default.a);\n    const wrapper = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_BottomLabels_styl__WEBPACK_IMPORTED_MODULE_2___default.a.wrapper);\n\n    const mainLabels = getLabelData();\n    let labelsData = mainLabels;\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(node, wrapper);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(wrapper, labelsData.container);\n\n    const update = () => {\n        labelsData.activeLabels = updateAll(\n            store.subStore || store,\n            labelsData.container,\n            labelsData.labelsCollection,\n            labelsData.activeLabels,\n            labelsData.visibleLabels,\n        );\n    };\n\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"CHANGE_SCALE\"], update);\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"CHANGE_SIZE\"], update);\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"SHOW_SUB_STORE\"], () => {\n        if (store.subStore) {\n            labelsData = createLabels(wrapper);\n\n            mainLabels.container.style.opacity = 0;\n\n            store.subStore.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"CHANGE_SCALE\"], update);\n\n            if (store.subStore.isPie) {\n                wrapper.style.opacity = 0;\n            } else {\n                wrapper.style.opacity = 1;\n            }\n        } else {\n            mainLabels.container.style.opacity = 1;\n\n            hideSubLabels(labelsData, wrapper);\n\n            labelsData = mainLabels;\n\n            wrapper.style.opacity = 1;\n        }\n\n        update();\n    });\n\n    return {node};\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BottomLabels);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvQm90dG9tTGFiZWxzL0JvdHRvbUxhYmVscy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9Cb3R0b21MYWJlbHMvQm90dG9tTGFiZWxzLmpzPzcwODYiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQge2NyZWF0ZUVsZW1lbnQsIGFwcGVuZENoaWxkLCB3aXRoVGhlbWUsIGdldFRpbWVTdHJpbmcsIGdldFdlZWtEYXlTdHJpbmcsIGdldERhdGVTdHJpbmd9IGZyb20gJy4uL2hlbHBlcnMnO1xuaW1wb3J0IHtDSEFOR0VfU0laRSwgQ0hBTkdFX1NDQUxFLCBQQURESU5HLCBTSE9XX1NVQl9TVE9SRSwgVElNRVpPTkVfT0ZGU0VUfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IGNzcyBmcm9tICcuL0JvdHRvbUxhYmVscy5zdHlsJztcbmltcG9ydCBuZXh0RnJhbWUgZnJvbSAnLi4vbmV4dEZyYW1lJztcblxuLy8gY29uc3QgTEFCRUxfV0lEVEggPSA0NTtcbmNvbnN0IExBQkVMX1NQQUNFID0gMjA7XG5jb25zdCBMQUJFTF9DSEFOR0VfU1RFUCA9IDEuNTtcbmNvbnN0IE1BWF9MQUJFTF9DT1VOVCA9IDEwO1xuXG5jb25zdCBnZXRMYWJlbFdpZHRoID0gc3RvcmUgPT4gKHN0b3JlLndlZWtEZXRhaWxlZCA/IDYwIDogNDApO1xuXG5jb25zdCBnZXRMYWJlbFRleHQgPSAoc3RvcmUsIHRpbWVzdGFtcCkgPT4ge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lc3RhbXAgKyBUSU1FWk9ORV9PRkZTRVQpO1xuXG4gICAgaWYgKHN0b3JlLndlZWtEZXRhaWxlZCkge1xuICAgICAgICByZXR1cm4gYCR7Z2V0V2Vla0RheVN0cmluZyhkYXRlKX0gJHtnZXRUaW1lU3RyaW5nKGRhdGUpfWA7XG4gICAgfVxuXG4gICAgaWYgKHN0b3JlLmRheURldGFpbGVkKSB7XG4gICAgICAgIHJldHVybiBnZXRUaW1lU3RyaW5nKGRhdGUpO1xuICAgIH1cblxuICAgIHJldHVybiBnZXREYXRlU3RyaW5nKGRhdGUpO1xufTtcblxuY29uc3QgY3JlYXRlTGFiZWwgPSAoc3RvcmUsIGluZGV4U2l6ZSwgbGFiZWxJbmRleCwgcG9pbnQpID0+IHtcbiAgICBjb25zdCBub2RlID0gY3JlYXRlRWxlbWVudChjc3MubGFiZWwpO1xuICAgIGNvbnN0IGxhYmVsSW5uZXIgPSBjcmVhdGVFbGVtZW50KGNzcy5sYWJlbElubmVyKTtcblxuICAgIG5vZGUuc3R5bGUub3BhY2l0eSA9ICcwJztcblxuICAgIC8vIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHttb250aDogJ3Nob3J0JywgZGF5OiAnbnVtZXJpYyd9KVxuICAgIGNvbnN0IGRhdGVUZXh0ID0gZ2V0TGFiZWxUZXh0KHN0b3JlLCBwb2ludCk7XG5cbiAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGF0ZVRleHQpO1xuXG4gICAgYXBwZW5kQ2hpbGQobGFiZWxJbm5lciwgdGV4dCk7XG4gICAgYXBwZW5kQ2hpbGQobm9kZSwgbGFiZWxJbm5lcik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBub2RlLFxuICAgICAgICBzaG93VGltZW91dDogbnVsbCxcbiAgICAgICAgaGlkZVRpbWVvdXQ6IG51bGwsXG4gICAgICAgIGluZGV4OiBsYWJlbEluZGV4LFxuICAgIH07XG59O1xuXG5jb25zdCBzaG93TGFiZWwgPSAoY29udGFpbmVyLCBsYWJlbCwgdmlzaWJsZUxhYmVscykgPT4ge1xuICAgIGlmIChsYWJlbC5oaWRlVGltZW91dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQobGFiZWwuaGlkZVRpbWVvdXQpO1xuXG4gICAgICAgIGxhYmVsLmhpZGVUaW1lb3V0ID0gbnVsbDtcblxuICAgICAgICBuZXh0RnJhbWUoKCkgPT4gbGFiZWwubm9kZS5zdHlsZS5vcGFjaXR5ID0gJzEnKTtcbiAgICB9IGVsc2UgaWYgKCF2aXNpYmxlTGFiZWxzLmhhcyhsYWJlbC5pbmRleCkpIHtcbiAgICAgICAgYXBwZW5kQ2hpbGQoY29udGFpbmVyLCBsYWJlbC5ub2RlKTtcblxuICAgICAgICBsYWJlbC5zaG93VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgbGFiZWwuc2hvd1RpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgICAgICBuZXh0RnJhbWUoKCkgPT4gbGFiZWwubm9kZS5zdHlsZS5vcGFjaXR5ID0gJzEnKTtcbiAgICAgICAgfSwgMzApO1xuXG4gICAgICAgIHZpc2libGVMYWJlbHMuYWRkKGxhYmVsLmluZGV4KTtcbiAgICB9XG59O1xuXG5jb25zdCBoaWRlTGFiZWwgPSAoY29udGFpbmVyLCBsYWJlbCwgdmlzaWJsZUxhYmVscykgPT4ge1xuICAgIGlmIChsYWJlbC5zaG93VGltZW91dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQobGFiZWwuc2hvd1RpbWVvdXQpO1xuXG4gICAgICAgIGxhYmVsLnNob3dUaW1lb3V0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAobGFiZWwuaGlkZVRpbWVvdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG5leHRGcmFtZSgoKSA9PiBsYWJlbC5ub2RlLnN0eWxlLm9wYWNpdHkgPSAnMCcpO1xuXG4gICAgbGFiZWwuaGlkZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbGFiZWwuaGlkZVRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgIG5leHRGcmFtZSgoKSA9PiBjb250YWluZXIuY29udGFpbnMobGFiZWwubm9kZSkgJiYgY29udGFpbmVyLnJlbW92ZUNoaWxkKGxhYmVsLm5vZGUpKTtcblxuICAgICAgICB2aXNpYmxlTGFiZWxzLmRlbGV0ZShsYWJlbC5pbmRleCk7XG4gICAgfSwgMjAwKTtcbn07XG5cbmNvbnN0IHNldExhYmVsUG9zaXRpb24gPSAoc3RvcmUsIGxhYmVsLCB7bm9kZX0pID0+IHtcbiAgICBjb25zdCBbW3dpZHRoXV0gPSBzdG9yZS5zaXplO1xuICAgIGNvbnN0IHtzY2FsZVN0YXJ0UG9pbnQsIHNjYWxlRW5kUG9pbnR9ID0gc3RvcmUudmlld0JveC5ib3g7XG4gICAgY29uc3QgY2hhcnRXaWR0aCA9IHdpZHRoIC0gKFBBRERJTkcgKiAyKTtcbiAgICBjb25zdCBpbmRleFdpZHRoID0gc2NhbGVFbmRQb2ludCAtIHNjYWxlU3RhcnRQb2ludDtcblxuICAgIGNvbnN0IGxlZnQgPSBjaGFydFdpZHRoICogKGxhYmVsIC0gc2NhbGVTdGFydFBvaW50KSAvIGluZGV4V2lkdGg7XG5cbiAgICBub2RlLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtsZWZ0fXB4LCAwKWA7XG59O1xuXG5jb25zdCB1cGRhdGVBbGwgPSAoc3RvcmUsIGNvbnRhaW5lciwgbGFiZWxzQ29sbGVjdGlvbiwgYWN0aXZlTGFiZWxzLCB2aXNpYmxlTGFiZWxzKSA9PiB7XG4gICAgY29uc3QgW1t3aWR0aF1dID0gc3RvcmUuc2l6ZTtcbiAgICBjb25zdCB7cG9pbnRzfSA9IHN0b3JlO1xuICAgIGNvbnN0IHtzY2FsZVN0YXJ0UG9pbnQsIHNjYWxlRW5kUG9pbnR9ID0gc3RvcmUudmlld0JveC5ib3g7XG4gICAgLy8gY29uc3Qge3NjYWxlU3RhcnRQb2ludDogZmlyc3RJbmRleCwgc2NhbGVFbmRQb2ludDogbGFzdEluZGV4fSA9IHN0b3JlLmZ1bGxWaWV3Qm94LmJveDtcblxuICAgIGNvbnN0IGluZGV4U2l6ZSA9IHNjYWxlRW5kUG9pbnQgLSBzY2FsZVN0YXJ0UG9pbnQ7XG4gICAgY29uc3QgZnVsbEluZGV4U2l6ZSA9IHBvaW50cy5sZW5ndGggLSAxO1xuXG4gICAgY29uc3QgbGFiZWxXaWR0aCA9IGdldExhYmVsV2lkdGgoc3RvcmUpO1xuXG4gICAgY29uc3QgY2hhcnRXaWR0aCA9IHdpZHRoIC0gKFBBRERJTkcgKiAyKTtcbiAgICBjb25zdCBtYXhMYWJlbENvdW50ID0gTWF0aC5taW4oTWF0aC5mbG9vcihjaGFydFdpZHRoIC8gKGxhYmVsV2lkdGggKyBMQUJFTF9TUEFDRSkpLCBNQVhfTEFCRUxfQ09VTlQpO1xuXG4gICAgbGV0IGxhYmVsc1N0ZXAgPSAxO1xuXG4gICAgd2hpbGUgKGluZGV4U2l6ZSAvIGxhYmVsc1N0ZXAgPiBtYXhMYWJlbENvdW50KSB7XG4gICAgICAgIGxhYmVsc1N0ZXAgKj0gTEFCRUxfQ0hBTkdFX1NURVA7XG4gICAgfVxuXG4gICAgbGFiZWxzU3RlcCA9IE1hdGgucm91bmQobGFiZWxzU3RlcCk7XG5cbiAgICBjb25zdCBoYWxmU3RlcCA9IE1hdGgucm91bmQobGFiZWxzU3RlcCAvIDIpO1xuXG4gICAgY29uc3QgaW5kZXhQYWRkaW5nID0gUEFERElORyAqIGluZGV4U2l6ZSAvIGNoYXJ0V2lkdGg7XG5cbiAgICBjb25zdCBpbmRleExhYmVsSGFsZldpZHRoID0gbGFiZWxXaWR0aCAqIGluZGV4U2l6ZSAvIGNoYXJ0V2lkdGggLyAyO1xuXG4gICAgbGV0IGxhYmVsSW5kZXggPSBNYXRoLmNlaWwoXG4gICAgICAgIChzY2FsZVN0YXJ0UG9pbnQgLSBoYWxmU3RlcCArIChpbmRleExhYmVsSGFsZldpZHRoKSAtIGluZGV4UGFkZGluZykgLyBsYWJlbHNTdGVwLFxuICAgICkgKiBsYWJlbHNTdGVwICsgaGFsZlN0ZXA7XG5cbiAgICBjb25zdCBuZXh0QWN0aXZlTGFiZWxzID0gbmV3IFNldCgpO1xuXG4gICAgd2hpbGUgKGxhYmVsSW5kZXggPCBzY2FsZUVuZFBvaW50ICsgaW5kZXhQYWRkaW5nIC0gaW5kZXhMYWJlbEhhbGZXaWR0aCkge1xuICAgICAgICBuZXh0QWN0aXZlTGFiZWxzLmFkZChsYWJlbEluZGV4KTtcblxuICAgICAgICBpZiAoYWN0aXZlTGFiZWxzLmhhcyhsYWJlbEluZGV4KSkge1xuICAgICAgICAgICAgYWN0aXZlTGFiZWxzLmRlbGV0ZShsYWJlbEluZGV4KTtcblxuICAgICAgICAgICAgbGFiZWxJbmRleCArPSBsYWJlbHNTdGVwO1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxhYmVsID0gbGFiZWxzQ29sbGVjdGlvbltsYWJlbEluZGV4XSB8fCAoXG4gICAgICAgICAgICBsYWJlbHNDb2xsZWN0aW9uW2xhYmVsSW5kZXhdID0gY3JlYXRlTGFiZWwoc3RvcmUsIGZ1bGxJbmRleFNpemUsIGxhYmVsSW5kZXgsIHBvaW50c1tsYWJlbEluZGV4XS54KVxuICAgICAgICApO1xuXG4gICAgICAgIHNob3dMYWJlbChjb250YWluZXIsIGxhYmVsLCB2aXNpYmxlTGFiZWxzKTtcblxuICAgICAgICBsYWJlbEluZGV4ICs9IGxhYmVsc1N0ZXA7XG4gICAgfVxuXG4gICAgYWN0aXZlTGFiZWxzLmZvckVhY2goaW5kZXggPT4gaGlkZUxhYmVsKGNvbnRhaW5lciwgbGFiZWxzQ29sbGVjdGlvbltpbmRleF0sIHZpc2libGVMYWJlbHMpKTtcblxuICAgIHZpc2libGVMYWJlbHMuZm9yRWFjaChsYWJlbCA9PiBzZXRMYWJlbFBvc2l0aW9uKHN0b3JlLCBsYWJlbCwgbGFiZWxzQ29sbGVjdGlvbltsYWJlbF0pKTtcblxuICAgIHJldHVybiBuZXh0QWN0aXZlTGFiZWxzO1xufTtcblxuY29uc3QgZ2V0TGFiZWxEYXRhID0gKCkgPT4gKHtcbiAgICBjb250YWluZXI6IGNyZWF0ZUVsZW1lbnQoY3NzLmNvbnRhaW5lciksXG4gICAgbGFiZWxzQ29sbGVjdGlvbjoge30sXG4gICAgdmlzaWJsZUxhYmVsczogbmV3IFNldCgpLFxuICAgIGFjdGl2ZUxhYmVsczogbmV3IFNldCgpLFxufSk7XG5cbmNvbnN0IGhpZGVTdWJMYWJlbHMgPSAoZGF0YSwgd3JhcHBlcikgPT4ge1xuICAgIGRhdGEuY29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAwO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiBuZXh0RnJhbWUoKCkgPT4ge1xuICAgICAgICBpZiAod3JhcHBlci5jb250YWlucyhkYXRhLmNvbnRhaW5lcikpIHtcbiAgICAgICAgICAgIHdyYXBwZXIucmVtb3ZlQ2hpbGQoZGF0YS5jb250YWluZXIpO1xuICAgICAgICB9XG4gICAgfSksIDMwMCk7XG59O1xuXG5jb25zdCBjcmVhdGVMYWJlbHMgPSAod3JhcHBlcikgPT4ge1xuICAgIGNvbnN0IGxhYmVsc0RhdGEgPSBnZXRMYWJlbERhdGEoKTtcblxuICAgIGxhYmVsc0RhdGEuY29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgIGFwcGVuZENoaWxkKHdyYXBwZXIsIGxhYmVsc0RhdGEuY29udGFpbmVyKTtcblxuICAgIG5leHRGcmFtZSgoKSA9PiB7XG4gICAgICAgIGxhYmVsc0RhdGEuY29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGxhYmVsc0RhdGE7XG59O1xuXG5jb25zdCBCb3R0b21MYWJlbHMgPSAoc3RvcmUpID0+IHtcbiAgICBjb25zdCBub2RlID0gY3JlYXRlRWxlbWVudChjc3MubGFiZWxzKTtcbiAgICB3aXRoVGhlbWUoc3RvcmUsIG5vZGUsIGNzcyk7XG4gICAgY29uc3Qgd3JhcHBlciA9IGNyZWF0ZUVsZW1lbnQoY3NzLndyYXBwZXIpO1xuXG4gICAgY29uc3QgbWFpbkxhYmVscyA9IGdldExhYmVsRGF0YSgpO1xuICAgIGxldCBsYWJlbHNEYXRhID0gbWFpbkxhYmVscztcblxuICAgIGFwcGVuZENoaWxkKG5vZGUsIHdyYXBwZXIpO1xuICAgIGFwcGVuZENoaWxkKHdyYXBwZXIsIGxhYmVsc0RhdGEuY29udGFpbmVyKTtcblxuICAgIGNvbnN0IHVwZGF0ZSA9ICgpID0+IHtcbiAgICAgICAgbGFiZWxzRGF0YS5hY3RpdmVMYWJlbHMgPSB1cGRhdGVBbGwoXG4gICAgICAgICAgICBzdG9yZS5zdWJTdG9yZSB8fCBzdG9yZSxcbiAgICAgICAgICAgIGxhYmVsc0RhdGEuY29udGFpbmVyLFxuICAgICAgICAgICAgbGFiZWxzRGF0YS5sYWJlbHNDb2xsZWN0aW9uLFxuICAgICAgICAgICAgbGFiZWxzRGF0YS5hY3RpdmVMYWJlbHMsXG4gICAgICAgICAgICBsYWJlbHNEYXRhLnZpc2libGVMYWJlbHMsXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHN0b3JlLm9uKENIQU5HRV9TQ0FMRSwgdXBkYXRlKTtcbiAgICBzdG9yZS5vbihDSEFOR0VfU0laRSwgdXBkYXRlKTtcbiAgICBzdG9yZS5vbihTSE9XX1NVQl9TVE9SRSwgKCkgPT4ge1xuICAgICAgICBpZiAoc3RvcmUuc3ViU3RvcmUpIHtcbiAgICAgICAgICAgIGxhYmVsc0RhdGEgPSBjcmVhdGVMYWJlbHMod3JhcHBlcik7XG5cbiAgICAgICAgICAgIG1haW5MYWJlbHMuY29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAwO1xuXG4gICAgICAgICAgICBzdG9yZS5zdWJTdG9yZS5vbihDSEFOR0VfU0NBTEUsIHVwZGF0ZSk7XG5cbiAgICAgICAgICAgIGlmIChzdG9yZS5zdWJTdG9yZS5pc1BpZSkge1xuICAgICAgICAgICAgICAgIHdyYXBwZXIuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdyYXBwZXIuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYWluTGFiZWxzLmNvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gMTtcblxuICAgICAgICAgICAgaGlkZVN1YkxhYmVscyhsYWJlbHNEYXRhLCB3cmFwcGVyKTtcblxuICAgICAgICAgICAgbGFiZWxzRGF0YSA9IG1haW5MYWJlbHM7XG5cbiAgICAgICAgICAgIHdyYXBwZXIuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICB1cGRhdGUoKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB7bm9kZX07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBCb3R0b21MYWJlbHM7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/BottomLabels/BottomLabels.js\n");

/***/ }),

/***/ "./src/chart/BottomLabels/BottomLabels.styl":
/*!**************************************************!*\
  !*** ./src/chart/BottomLabels/BottomLabels.styl ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin\nmodule.exports = {\"labels\":\"BottomLabels__labels\",\"theme_light\":\"BottomLabels__theme_light\",\"label\":\"BottomLabels__label\",\"theme_dark\":\"BottomLabels__theme_dark\",\"wrapper\":\"BottomLabels__wrapper\",\"container\":\"BottomLabels__container\"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvQm90dG9tTGFiZWxzL0JvdHRvbUxhYmVscy5zdHlsLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJ0L0JvdHRvbUxhYmVscy9Cb3R0b21MYWJlbHMuc3R5bD9lNmU3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcImxhYmVsc1wiOlwiQm90dG9tTGFiZWxzX19sYWJlbHNcIixcInRoZW1lX2xpZ2h0XCI6XCJCb3R0b21MYWJlbHNfX3RoZW1lX2xpZ2h0XCIsXCJsYWJlbFwiOlwiQm90dG9tTGFiZWxzX19sYWJlbFwiLFwidGhlbWVfZGFya1wiOlwiQm90dG9tTGFiZWxzX190aGVtZV9kYXJrXCIsXCJ3cmFwcGVyXCI6XCJCb3R0b21MYWJlbHNfX3dyYXBwZXJcIixcImNvbnRhaW5lclwiOlwiQm90dG9tTGFiZWxzX19jb250YWluZXJcIn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/BottomLabels/BottomLabels.styl\n");

/***/ }),

/***/ "./src/chart/BottomLabels/index.js":
/*!*****************************************!*\
  !*** ./src/chart/BottomLabels/index.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _BottomLabels__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BottomLabels */ \"./src/chart/BottomLabels/BottomLabels.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _BottomLabels__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvQm90dG9tTGFiZWxzL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJ0L0JvdHRvbUxhYmVscy9pbmRleC5qcz8xNmU1Il0sInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IHtkZWZhdWx0fSBmcm9tICcuL0JvdHRvbUxhYmVscyc7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/BottomLabels/index.js\n");

/***/ }),

/***/ "./src/chart/Chart/Chart.js":
/*!**********************************!*\
  !*** ./src/chart/Chart/Chart.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Chart_styl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Chart.styl */ \"./src/chart/Chart/Chart.styl\");\n/* harmony import */ var _Chart_styl__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Chart_styl__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ChartView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ChartView */ \"./src/chart/ChartView/index.js\");\n/* harmony import */ var _ChartScaler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ChartScaler */ \"./src/chart/ChartScaler/index.js\");\n/* harmony import */ var _ChartsList__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ChartsList */ \"./src/chart/ChartsList/index.js\");\n/* harmony import */ var _ThemeSwitcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ThemeSwitcher */ \"./src/chart/ThemeSwitcher/index.js\");\n/* harmony import */ var _Header__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Header */ \"./src/chart/Header/index.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../constants */ \"./src/chart/constants.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../helpers */ \"./src/chart/helpers.js\");\n\n\n\n\n\n\n\n\n\n\nconst setSize = (viewScaler, width, height) => {\n    viewScaler.style.width = `${width}px`;\n    viewScaler.style.height = `${height}px`;\n};\n\nconst throttle = (func, timeout) => {\n    let isThrottled = false;\n    let needCall = false;\n\n    const wrapper = () => {\n        if (isThrottled) {\n            needCall = true;\n\n            return;\n        }\n\n        func();\n\n        isThrottled = true;\n\n        // const date = Date.now();\n        setTimeout(() => {\n            // console.log(`date ${Date.now() - date}`);\n            isThrottled = false;\n            if (needCall) {\n                wrapper();\n                needCall = false;\n            }\n        }, timeout);\n    };\n\n    return wrapper;\n};\n\nconst onDragToggle = (store, node) => {\n    if (store.dragging) {\n        node.classList.add(_Chart_styl__WEBPACK_IMPORTED_MODULE_0___default.a.noTouchActions);\n    } else {\n        node.classList.remove(_Chart_styl__WEBPACK_IMPORTED_MODULE_0___default.a.noTouchActions);\n    }\n};\n\nconst Chart = (store) => {\n    const node = Object(_helpers__WEBPACK_IMPORTED_MODULE_7__[\"createElement\"])(_Chart_styl__WEBPACK_IMPORTED_MODULE_0___default.a.chart);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_7__[\"withTheme\"])(store, node, _Chart_styl__WEBPACK_IMPORTED_MODULE_0___default.a);\n\n    const header = Object(_Header__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(store);\n\n    const viewScaler = Object(_helpers__WEBPACK_IMPORTED_MODULE_7__[\"createElement\"])(_Chart_styl__WEBPACK_IMPORTED_MODULE_0___default.a.viewScaler);\n\n    const chartView = Object(_ChartView__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(store);\n    const chartScaler = Object(_ChartScaler__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(store);\n    const themeSwitcher = Object(_ThemeSwitcher__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(store);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_7__[\"appendChild\"])(viewScaler, chartView.image);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_7__[\"appendChild\"])(viewScaler, chartView.node);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_7__[\"appendChild\"])(viewScaler, chartScaler.node);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_7__[\"appendChild\"])(node, header.node);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_7__[\"appendChild\"])(node, viewScaler);\n\n    const chartsList = Object(_ChartsList__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(store);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_7__[\"appendChild\"])(node, chartsList.node);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_7__[\"appendChild\"])(node, themeSwitcher.node);\n\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_6__[\"CHANGE_SIZE\"], ([[width, height]]) => setSize(viewScaler, width, height));\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_6__[\"DRAG_STATE_TOGGLE\"], () => onDragToggle(store, node));\n\n\n    return {node};\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Chart);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvQ2hhcnQvQ2hhcnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQvQ2hhcnQvQ2hhcnQuanM/ZTEyNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBjc3MgZnJvbSAnLi9DaGFydC5zdHlsJztcbmltcG9ydCBjcmVhdGVDaGFydFZpZXcgZnJvbSAnLi4vQ2hhcnRWaWV3JztcbmltcG9ydCBjcmVhdGVDaGFydFNjYWxlciBmcm9tICcuLi9DaGFydFNjYWxlcic7XG5pbXBvcnQgY3JhdGVDaGFydHNMaXN0IGZyb20gJy4uL0NoYXJ0c0xpc3QnO1xuaW1wb3J0IGNyZWF0ZVRoZW1lU3dpdGNoZXIgZnJvbSAnLi4vVGhlbWVTd2l0Y2hlcic7XG5pbXBvcnQgY3JlYXRlSGVhZGVyIGZyb20gJy4uL0hlYWRlcic7XG5pbXBvcnQge0NIQU5HRV9TSVpFLCBEUkFHX1NUQVRFX1RPR0dMRX0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7Y3JlYXRlRWxlbWVudCwgYXBwZW5kQ2hpbGQsIHdpdGhUaGVtZX0gZnJvbSAnLi4vaGVscGVycyc7XG5cbmNvbnN0IHNldFNpemUgPSAodmlld1NjYWxlciwgd2lkdGgsIGhlaWdodCkgPT4ge1xuICAgIHZpZXdTY2FsZXIuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XG4gICAgdmlld1NjYWxlci5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xufTtcblxuY29uc3QgdGhyb3R0bGUgPSAoZnVuYywgdGltZW91dCkgPT4ge1xuICAgIGxldCBpc1Rocm90dGxlZCA9IGZhbHNlO1xuICAgIGxldCBuZWVkQ2FsbCA9IGZhbHNlO1xuXG4gICAgY29uc3Qgd3JhcHBlciA9ICgpID0+IHtcbiAgICAgICAgaWYgKGlzVGhyb3R0bGVkKSB7XG4gICAgICAgICAgICBuZWVkQ2FsbCA9IHRydWU7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmMoKTtcblxuICAgICAgICBpc1Rocm90dGxlZCA9IHRydWU7XG5cbiAgICAgICAgLy8gY29uc3QgZGF0ZSA9IERhdGUubm93KCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYGRhdGUgJHtEYXRlLm5vdygpIC0gZGF0ZX1gKTtcbiAgICAgICAgICAgIGlzVGhyb3R0bGVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAobmVlZENhbGwpIHtcbiAgICAgICAgICAgICAgICB3cmFwcGVyKCk7XG4gICAgICAgICAgICAgICAgbmVlZENhbGwgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGltZW91dCk7XG4gICAgfTtcblxuICAgIHJldHVybiB3cmFwcGVyO1xufTtcblxuY29uc3Qgb25EcmFnVG9nZ2xlID0gKHN0b3JlLCBub2RlKSA9PiB7XG4gICAgaWYgKHN0b3JlLmRyYWdnaW5nKSB7XG4gICAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZChjc3Mubm9Ub3VjaEFjdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZShjc3Mubm9Ub3VjaEFjdGlvbnMpO1xuICAgIH1cbn07XG5cbmNvbnN0IENoYXJ0ID0gKHN0b3JlKSA9PiB7XG4gICAgY29uc3Qgbm9kZSA9IGNyZWF0ZUVsZW1lbnQoY3NzLmNoYXJ0KTtcbiAgICB3aXRoVGhlbWUoc3RvcmUsIG5vZGUsIGNzcyk7XG5cbiAgICBjb25zdCBoZWFkZXIgPSBjcmVhdGVIZWFkZXIoc3RvcmUpO1xuXG4gICAgY29uc3Qgdmlld1NjYWxlciA9IGNyZWF0ZUVsZW1lbnQoY3NzLnZpZXdTY2FsZXIpO1xuXG4gICAgY29uc3QgY2hhcnRWaWV3ID0gY3JlYXRlQ2hhcnRWaWV3KHN0b3JlKTtcbiAgICBjb25zdCBjaGFydFNjYWxlciA9IGNyZWF0ZUNoYXJ0U2NhbGVyKHN0b3JlKTtcbiAgICBjb25zdCB0aGVtZVN3aXRjaGVyID0gY3JlYXRlVGhlbWVTd2l0Y2hlcihzdG9yZSk7XG5cbiAgICBhcHBlbmRDaGlsZCh2aWV3U2NhbGVyLCBjaGFydFZpZXcuaW1hZ2UpO1xuICAgIGFwcGVuZENoaWxkKHZpZXdTY2FsZXIsIGNoYXJ0Vmlldy5ub2RlKTtcbiAgICBhcHBlbmRDaGlsZCh2aWV3U2NhbGVyLCBjaGFydFNjYWxlci5ub2RlKTtcblxuICAgIGFwcGVuZENoaWxkKG5vZGUsIGhlYWRlci5ub2RlKTtcbiAgICBhcHBlbmRDaGlsZChub2RlLCB2aWV3U2NhbGVyKTtcblxuICAgIGNvbnN0IGNoYXJ0c0xpc3QgPSBjcmF0ZUNoYXJ0c0xpc3Qoc3RvcmUpO1xuXG4gICAgYXBwZW5kQ2hpbGQobm9kZSwgY2hhcnRzTGlzdC5ub2RlKTtcblxuICAgIGFwcGVuZENoaWxkKG5vZGUsIHRoZW1lU3dpdGNoZXIubm9kZSk7XG5cbiAgICBzdG9yZS5vbihDSEFOR0VfU0laRSwgKFtbd2lkdGgsIGhlaWdodF1dKSA9PiBzZXRTaXplKHZpZXdTY2FsZXIsIHdpZHRoLCBoZWlnaHQpKTtcbiAgICBzdG9yZS5vbihEUkFHX1NUQVRFX1RPR0dMRSwgKCkgPT4gb25EcmFnVG9nZ2xlKHN0b3JlLCBub2RlKSk7XG5cblxuICAgIHJldHVybiB7bm9kZX07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDaGFydDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/Chart/Chart.js\n");

/***/ }),

/***/ "./src/chart/Chart/Chart.styl":
/*!************************************!*\
  !*** ./src/chart/Chart/Chart.styl ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin\nmodule.exports = {\"chart\":\"Chart__chart\",\"theme_light\":\"Chart__theme_light\",\"theme_dark\":\"Chart__theme_dark\",\"viewScaler\":\"Chart__viewScaler\",\"fps\":\"Chart__fps\"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvQ2hhcnQvQ2hhcnQuc3R5bC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9DaGFydC9DaGFydC5zdHlsPzBmNmMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wiY2hhcnRcIjpcIkNoYXJ0X19jaGFydFwiLFwidGhlbWVfbGlnaHRcIjpcIkNoYXJ0X190aGVtZV9saWdodFwiLFwidGhlbWVfZGFya1wiOlwiQ2hhcnRfX3RoZW1lX2RhcmtcIixcInZpZXdTY2FsZXJcIjpcIkNoYXJ0X192aWV3U2NhbGVyXCIsXCJmcHNcIjpcIkNoYXJ0X19mcHNcIn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/Chart/Chart.styl\n");

/***/ }),

/***/ "./src/chart/Chart/index.js":
/*!**********************************!*\
  !*** ./src/chart/Chart/index.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Chart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Chart */ \"./src/chart/Chart/Chart.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _Chart__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvQ2hhcnQvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQvQ2hhcnQvaW5kZXguanM/NWZjYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCB7ZGVmYXVsdH0gZnJvbSAnLi9DaGFydCc7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/Chart/index.js\n");

/***/ }),

/***/ "./src/chart/ChartScaler/ChartScaler.js":
/*!**********************************************!*\
  !*** ./src/chart/ChartScaler/ChartScaler.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ChartScaler_styl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChartScaler.styl */ \"./src/chart/ChartScaler/ChartScaler.styl\");\n/* harmony import */ var _ChartScaler_styl__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/chart/constants.js\");\n/* harmony import */ var _Control__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Control */ \"./src/chart/ChartScaler/Control.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers */ \"./src/chart/helpers.js\");\n/* harmony import */ var _nextFrame__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../nextFrame */ \"./src/chart/nextFrame.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./helpers */ \"./src/chart/ChartScaler/helpers.js\");\n\n\n// import createSvg from '../ScalebleSvg';\n\n\n\n\n\n\n// const RADIUS = 5;\n\n// const h = CHART_SCALER_HEIGHT;\n\nconst svgD = 'M20 10 L15 10    A5 5 0 0 0 10 15    L10 45     A5 5 0 0 0 15 50    L20 50 L20 60 L0 60 L0 0 L20 0';\n\nconst changeScale = (store, start, end) => {\n    store = store.subStore || store;\n\n    store.changeScale(start, end);\n};\n\nconst moveStartPoint = (event, store, node) => {\n    store = store.subStore || store;\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"preventDefault\"])(event);\n    let moving = false;\n    const moveStartCoords = [Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"getClientX\"])(event), Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"getClientY\"])(event)];\n\n    const boundingClientRect = node.getBoundingClientRect();\n\n    let cancelMove = () => {};\n\n    const onMove = (moveEvent) => {\n        if (!moving && Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"isScrollMove\"])(moveStartCoords, moveEvent)) {\n            cancelMove();\n\n            return;\n        }\n\n        moving = true;\n\n        store.dragStart();\n\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"preventDefault\"])(moveEvent);\n\n        const [, end] = store.scale;\n\n        const scaleStart = Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"getScaleStart\"])(moveEvent, boundingClientRect, end);\n\n        changeScale(store, scaleStart, end);\n    };\n\n    const clear = () => store.dragEnd();\n\n    cancelMove = Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"startMove\"])(onMove, clear);\n};\n\nconst moveEndPoint = (event, store, node) => {\n    store = store.subStore || store;\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"preventDefault\"])(event);\n    let moving = false;\n    const moveStartCoords = [Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"getClientX\"])(event), Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"getClientY\"])(event)];\n\n    const boundingClientRect = node.getBoundingClientRect();\n\n    let cancelMove = () => {};\n\n    const onMove = (moveEvent) => {\n        if (!moving && Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"isScrollMove\"])(moveStartCoords, moveEvent)) {\n            cancelMove();\n\n            return;\n        }\n\n        moving = true;\n\n        store.dragStart();\n\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"preventDefault\"])(moveEvent);\n\n        const [start] = store.scale;\n\n        const end = Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"getScaleEnd\"])(moveEvent, boundingClientRect, start);\n\n        changeScale(store, start, end);\n    };\n\n    const clear = () => store.dragEnd();\n\n    cancelMove = Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"startMove\"])(onMove, clear);\n};\n\nconst move = (event, store, node) => {\n    store = store.subStore || store;\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"preventDefault\"])(event);\n    let moving = false;\n    const moveStartCoords = [Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"getClientX\"])(event), Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"getClientY\"])(event)];\n    const boundingClientRect = node.getBoundingClientRect();\n    const [start, end] = store.scale;\n    const {left: scalerLeft, width} = boundingClientRect;\n    const pixelScaleStart = width * start;\n    const pixelShift = moveStartCoords[0] - scalerLeft - pixelScaleStart;\n    const scaleWidth = 1 - end - start;\n\n    let cancelMove = () => {};\n\n    const onMove = (moveEvent) => {\n        if (!moving && Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"isScrollMove\"])(moveStartCoords, moveEvent)) {\n            cancelMove();\n\n            return;\n        }\n\n        moving = true;\n\n        store.dragStart();\n\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"preventDefault\"])(moveEvent);\n\n        const [scaleStart, scaleEnd] = Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"getScaleMove\"])(\n            moveEvent,\n            boundingClientRect,\n            pixelShift,\n            scaleWidth,\n        );\n\n        changeScale(store, scaleStart, scaleEnd);\n    };\n\n    const clear = () => store.dragEnd();\n\n    cancelMove = Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"startMove\"])(onMove, clear);\n};\n\nconst renderDampers = (node) => {\n    const leftDamper = Object(_helpers__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_0___default.a.leftDamper);\n    const rightDamper = Object(_helpers__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_0___default.a.rightDamper);\n\n    leftDamper.innerHTML = `<svg><path d=\"${svgD}\"></path></svg>`;\n    rightDamper.innerHTML = `<svg><path d=\"${svgD}\"></path></svg>`;\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_3__[\"appendChild\"])(node, leftDamper);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_3__[\"appendChild\"])(node, rightDamper);\n\n    return [leftDamper, rightDamper];\n};\n\nconst renderControls = (store, node) => {\n    const shadows = Object(_helpers__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_0___default.a.shadows);\n    const leftShadow = Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"createShadow\"])(shadows, _ChartScaler_styl__WEBPACK_IMPORTED_MODULE_0___default.a.leftShadow);\n    const rightShadow = Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"createShadow\"])(shadows, _ChartScaler_styl__WEBPACK_IMPORTED_MODULE_0___default.a.rightShadow);\n    const control = Object(_Control__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n\n    control.on('moveStartPoint', event => moveStartPoint(event, store, node));\n    control.on('moveEndPoint', event => moveEndPoint(event, store, node));\n    control.on('move', event => move(event, store, node));\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_3__[\"appendChild\"])(node, shadows);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_3__[\"appendChild\"])(node, control.node);\n\n    return [control, leftShadow, rightShadow];\n};\n\nconst setSize = (store, node) => {\n    const {size: [,, [width, height, top]]} = store;\n    node.style.top = `${top}px`;\n    node.style.width = `${width}px`;\n    node.style.height = `${height}px`;\n\n    const maxWidth = Math.min(60, width / 8);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_5__[\"setMaxScaleWidth\"])(maxWidth / width);\n};\n\nconst updateControlPosition = (store, control, leftShadow, rightShadow) => {\n    store = store.subStore || store;\n    const [start, end] = store.scale;\n\n    leftShadow.style.transform = `translate(${start * 100}%, 0)`;\n    rightShadow.style.transform = `translate(-${end * 100}%, 0)`;\n\n    control.setPosition(start, end);\n\n    // setDampersZIndex(dampers);\n};\n\nconst toggleZIndex = (node, mark) => {\n    let zIndex = 1;\n\n    return () => Object(_nextFrame__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(() => {\n        node.style.zIndex = zIndex;\n\n        zIndex = zIndex === 5 ? 6 : 1;\n    }, mark);\n};\n\nconst ChartScaler = (store) => {\n    const node = Object(_helpers__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_0___default.a.chartScaler);\n    let controlAnimationTimeout = null;\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_3__[\"withTheme\"])(store, node, _ChartScaler_styl__WEBPACK_IMPORTED_MODULE_0___default.a);\n\n    renderDampers(node);\n\n    const toggleNodeZIndex = toggleZIndex(node, 'toggle_chart_scaler_z_index');\n\n    const [control, leftShadow, rightShadow] = renderControls(store, node);\n\n    const onChangeScale = () => updateControlPosition(store, control, leftShadow, rightShadow);\n\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"CHANGE_SIZE\"], () => setSize(store, node));\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"CHANGE_SCALE\"], onChangeScale);\n\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"SHOW_SUB_STORE\"], () => {\n        if (store.subStore) {\n            store.subStore.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"CHANGE_SCALE\"], onChangeScale);\n        }\n\n        if (controlAnimationTimeout) {\n            clearTimeout(controlAnimationTimeout);\n        }\n\n        node.classList.add(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_0___default.a.animation);\n\n        controlAnimationTimeout = setTimeout(() => {\n            node.classList.remove(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_0___default.a.animation);\n        }, 500);\n\n        onChangeScale();\n    });\n\n    Object(_nextFrame__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(() => store.viewBox.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"ANIMATE_VIEW_BOX\"], toggleNodeZIndex));\n\n    updateControlPosition(store, control, leftShadow, rightShadow);\n\n    return {node};\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ChartScaler);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvQ2hhcnRTY2FsZXIvQ2hhcnRTY2FsZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQvQ2hhcnRTY2FsZXIvQ2hhcnRTY2FsZXIuanM/YWQyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBjc3MgZnJvbSAnLi9DaGFydFNjYWxlci5zdHlsJztcbi8vIGltcG9ydCBjcmVhdGVTdmcgZnJvbSAnLi4vU2NhbGVibGVTdmcnO1xuaW1wb3J0IHtDSEFOR0VfU0laRSwgQ0hBTkdFX1NDQUxFLCBBTklNQVRFX1ZJRVdfQk9YLCBTSE9XX1NVQl9TVE9SRX0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBDb250cm9sIGZyb20gJy4vQ29udHJvbCc7XG5pbXBvcnQge2NyZWF0ZUVsZW1lbnQsIGFwcGVuZENoaWxkLCB3aXRoVGhlbWV9IGZyb20gJy4uL2hlbHBlcnMnO1xuaW1wb3J0IG5leHRGcmFtZSBmcm9tICcuLi9uZXh0RnJhbWUnO1xuaW1wb3J0IHtjcmVhdGVTaGFkb3csIGdldFNjYWxlU3RhcnQsIGdldFNjYWxlRW5kLCBnZXRTY2FsZU1vdmUsIGdldENsaWVudFgsIGdldENsaWVudFksIHN0YXJ0TW92ZSwgc2V0TWF4U2NhbGVXaWR0aCwgcHJldmVudERlZmF1bHQsIGlzU2Nyb2xsTW92ZX0gZnJvbSAnLi9oZWxwZXJzJztcblxuLy8gY29uc3QgUkFESVVTID0gNTtcblxuLy8gY29uc3QgaCA9IENIQVJUX1NDQUxFUl9IRUlHSFQ7XG5cbmNvbnN0IHN2Z0QgPSAnTTIwIDEwIEwxNSAxMCAgICBBNSA1IDAgMCAwIDEwIDE1ICAgIEwxMCA0NSAgICAgQTUgNSAwIDAgMCAxNSA1MCAgICBMMjAgNTAgTDIwIDYwIEwwIDYwIEwwIDAgTDIwIDAnO1xuXG5jb25zdCBjaGFuZ2VTY2FsZSA9IChzdG9yZSwgc3RhcnQsIGVuZCkgPT4ge1xuICAgIHN0b3JlID0gc3RvcmUuc3ViU3RvcmUgfHwgc3RvcmU7XG5cbiAgICBzdG9yZS5jaGFuZ2VTY2FsZShzdGFydCwgZW5kKTtcbn07XG5cbmNvbnN0IG1vdmVTdGFydFBvaW50ID0gKGV2ZW50LCBzdG9yZSwgbm9kZSkgPT4ge1xuICAgIHN0b3JlID0gc3RvcmUuc3ViU3RvcmUgfHwgc3RvcmU7XG5cbiAgICBwcmV2ZW50RGVmYXVsdChldmVudCk7XG4gICAgbGV0IG1vdmluZyA9IGZhbHNlO1xuICAgIGNvbnN0IG1vdmVTdGFydENvb3JkcyA9IFtnZXRDbGllbnRYKGV2ZW50KSwgZ2V0Q2xpZW50WShldmVudCldO1xuXG4gICAgY29uc3QgYm91bmRpbmdDbGllbnRSZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGxldCBjYW5jZWxNb3ZlID0gKCkgPT4ge307XG5cbiAgICBjb25zdCBvbk1vdmUgPSAobW92ZUV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghbW92aW5nICYmIGlzU2Nyb2xsTW92ZShtb3ZlU3RhcnRDb29yZHMsIG1vdmVFdmVudCkpIHtcbiAgICAgICAgICAgIGNhbmNlbE1vdmUoKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbW92aW5nID0gdHJ1ZTtcblxuICAgICAgICBzdG9yZS5kcmFnU3RhcnQoKTtcblxuICAgICAgICBwcmV2ZW50RGVmYXVsdChtb3ZlRXZlbnQpO1xuXG4gICAgICAgIGNvbnN0IFssIGVuZF0gPSBzdG9yZS5zY2FsZTtcblxuICAgICAgICBjb25zdCBzY2FsZVN0YXJ0ID0gZ2V0U2NhbGVTdGFydChtb3ZlRXZlbnQsIGJvdW5kaW5nQ2xpZW50UmVjdCwgZW5kKTtcblxuICAgICAgICBjaGFuZ2VTY2FsZShzdG9yZSwgc2NhbGVTdGFydCwgZW5kKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2xlYXIgPSAoKSA9PiBzdG9yZS5kcmFnRW5kKCk7XG5cbiAgICBjYW5jZWxNb3ZlID0gc3RhcnRNb3ZlKG9uTW92ZSwgY2xlYXIpO1xufTtcblxuY29uc3QgbW92ZUVuZFBvaW50ID0gKGV2ZW50LCBzdG9yZSwgbm9kZSkgPT4ge1xuICAgIHN0b3JlID0gc3RvcmUuc3ViU3RvcmUgfHwgc3RvcmU7XG5cbiAgICBwcmV2ZW50RGVmYXVsdChldmVudCk7XG4gICAgbGV0IG1vdmluZyA9IGZhbHNlO1xuICAgIGNvbnN0IG1vdmVTdGFydENvb3JkcyA9IFtnZXRDbGllbnRYKGV2ZW50KSwgZ2V0Q2xpZW50WShldmVudCldO1xuXG4gICAgY29uc3QgYm91bmRpbmdDbGllbnRSZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGxldCBjYW5jZWxNb3ZlID0gKCkgPT4ge307XG5cbiAgICBjb25zdCBvbk1vdmUgPSAobW92ZUV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghbW92aW5nICYmIGlzU2Nyb2xsTW92ZShtb3ZlU3RhcnRDb29yZHMsIG1vdmVFdmVudCkpIHtcbiAgICAgICAgICAgIGNhbmNlbE1vdmUoKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbW92aW5nID0gdHJ1ZTtcblxuICAgICAgICBzdG9yZS5kcmFnU3RhcnQoKTtcblxuICAgICAgICBwcmV2ZW50RGVmYXVsdChtb3ZlRXZlbnQpO1xuXG4gICAgICAgIGNvbnN0IFtzdGFydF0gPSBzdG9yZS5zY2FsZTtcblxuICAgICAgICBjb25zdCBlbmQgPSBnZXRTY2FsZUVuZChtb3ZlRXZlbnQsIGJvdW5kaW5nQ2xpZW50UmVjdCwgc3RhcnQpO1xuXG4gICAgICAgIGNoYW5nZVNjYWxlKHN0b3JlLCBzdGFydCwgZW5kKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2xlYXIgPSAoKSA9PiBzdG9yZS5kcmFnRW5kKCk7XG5cbiAgICBjYW5jZWxNb3ZlID0gc3RhcnRNb3ZlKG9uTW92ZSwgY2xlYXIpO1xufTtcblxuY29uc3QgbW92ZSA9IChldmVudCwgc3RvcmUsIG5vZGUpID0+IHtcbiAgICBzdG9yZSA9IHN0b3JlLnN1YlN0b3JlIHx8IHN0b3JlO1xuXG4gICAgcHJldmVudERlZmF1bHQoZXZlbnQpO1xuICAgIGxldCBtb3ZpbmcgPSBmYWxzZTtcbiAgICBjb25zdCBtb3ZlU3RhcnRDb29yZHMgPSBbZ2V0Q2xpZW50WChldmVudCksIGdldENsaWVudFkoZXZlbnQpXTtcbiAgICBjb25zdCBib3VuZGluZ0NsaWVudFJlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IFtzdGFydCwgZW5kXSA9IHN0b3JlLnNjYWxlO1xuICAgIGNvbnN0IHtsZWZ0OiBzY2FsZXJMZWZ0LCB3aWR0aH0gPSBib3VuZGluZ0NsaWVudFJlY3Q7XG4gICAgY29uc3QgcGl4ZWxTY2FsZVN0YXJ0ID0gd2lkdGggKiBzdGFydDtcbiAgICBjb25zdCBwaXhlbFNoaWZ0ID0gbW92ZVN0YXJ0Q29vcmRzWzBdIC0gc2NhbGVyTGVmdCAtIHBpeGVsU2NhbGVTdGFydDtcbiAgICBjb25zdCBzY2FsZVdpZHRoID0gMSAtIGVuZCAtIHN0YXJ0O1xuXG4gICAgbGV0IGNhbmNlbE1vdmUgPSAoKSA9PiB7fTtcblxuICAgIGNvbnN0IG9uTW92ZSA9IChtb3ZlRXZlbnQpID0+IHtcbiAgICAgICAgaWYgKCFtb3ZpbmcgJiYgaXNTY3JvbGxNb3ZlKG1vdmVTdGFydENvb3JkcywgbW92ZUV2ZW50KSkge1xuICAgICAgICAgICAgY2FuY2VsTW92ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBtb3ZpbmcgPSB0cnVlO1xuXG4gICAgICAgIHN0b3JlLmRyYWdTdGFydCgpO1xuXG4gICAgICAgIHByZXZlbnREZWZhdWx0KG1vdmVFdmVudCk7XG5cbiAgICAgICAgY29uc3QgW3NjYWxlU3RhcnQsIHNjYWxlRW5kXSA9IGdldFNjYWxlTW92ZShcbiAgICAgICAgICAgIG1vdmVFdmVudCxcbiAgICAgICAgICAgIGJvdW5kaW5nQ2xpZW50UmVjdCxcbiAgICAgICAgICAgIHBpeGVsU2hpZnQsXG4gICAgICAgICAgICBzY2FsZVdpZHRoLFxuICAgICAgICApO1xuXG4gICAgICAgIGNoYW5nZVNjYWxlKHN0b3JlLCBzY2FsZVN0YXJ0LCBzY2FsZUVuZCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNsZWFyID0gKCkgPT4gc3RvcmUuZHJhZ0VuZCgpO1xuXG4gICAgY2FuY2VsTW92ZSA9IHN0YXJ0TW92ZShvbk1vdmUsIGNsZWFyKTtcbn07XG5cbmNvbnN0IHJlbmRlckRhbXBlcnMgPSAobm9kZSkgPT4ge1xuICAgIGNvbnN0IGxlZnREYW1wZXIgPSBjcmVhdGVFbGVtZW50KGNzcy5sZWZ0RGFtcGVyKTtcbiAgICBjb25zdCByaWdodERhbXBlciA9IGNyZWF0ZUVsZW1lbnQoY3NzLnJpZ2h0RGFtcGVyKTtcblxuICAgIGxlZnREYW1wZXIuaW5uZXJIVE1MID0gYDxzdmc+PHBhdGggZD1cIiR7c3ZnRH1cIj48L3BhdGg+PC9zdmc+YDtcbiAgICByaWdodERhbXBlci5pbm5lckhUTUwgPSBgPHN2Zz48cGF0aCBkPVwiJHtzdmdEfVwiPjwvcGF0aD48L3N2Zz5gO1xuXG4gICAgYXBwZW5kQ2hpbGQobm9kZSwgbGVmdERhbXBlcik7XG4gICAgYXBwZW5kQ2hpbGQobm9kZSwgcmlnaHREYW1wZXIpO1xuXG4gICAgcmV0dXJuIFtsZWZ0RGFtcGVyLCByaWdodERhbXBlcl07XG59O1xuXG5jb25zdCByZW5kZXJDb250cm9scyA9IChzdG9yZSwgbm9kZSkgPT4ge1xuICAgIGNvbnN0IHNoYWRvd3MgPSBjcmVhdGVFbGVtZW50KGNzcy5zaGFkb3dzKTtcbiAgICBjb25zdCBsZWZ0U2hhZG93ID0gY3JlYXRlU2hhZG93KHNoYWRvd3MsIGNzcy5sZWZ0U2hhZG93KTtcbiAgICBjb25zdCByaWdodFNoYWRvdyA9IGNyZWF0ZVNoYWRvdyhzaGFkb3dzLCBjc3MucmlnaHRTaGFkb3cpO1xuICAgIGNvbnN0IGNvbnRyb2wgPSBDb250cm9sKCk7XG5cbiAgICBjb250cm9sLm9uKCdtb3ZlU3RhcnRQb2ludCcsIGV2ZW50ID0+IG1vdmVTdGFydFBvaW50KGV2ZW50LCBzdG9yZSwgbm9kZSkpO1xuICAgIGNvbnRyb2wub24oJ21vdmVFbmRQb2ludCcsIGV2ZW50ID0+IG1vdmVFbmRQb2ludChldmVudCwgc3RvcmUsIG5vZGUpKTtcbiAgICBjb250cm9sLm9uKCdtb3ZlJywgZXZlbnQgPT4gbW92ZShldmVudCwgc3RvcmUsIG5vZGUpKTtcblxuICAgIGFwcGVuZENoaWxkKG5vZGUsIHNoYWRvd3MpO1xuICAgIGFwcGVuZENoaWxkKG5vZGUsIGNvbnRyb2wubm9kZSk7XG5cbiAgICByZXR1cm4gW2NvbnRyb2wsIGxlZnRTaGFkb3csIHJpZ2h0U2hhZG93XTtcbn07XG5cbmNvbnN0IHNldFNpemUgPSAoc3RvcmUsIG5vZGUpID0+IHtcbiAgICBjb25zdCB7c2l6ZTogWywsIFt3aWR0aCwgaGVpZ2h0LCB0b3BdXX0gPSBzdG9yZTtcbiAgICBub2RlLnN0eWxlLnRvcCA9IGAke3RvcH1weGA7XG4gICAgbm9kZS5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDtcbiAgICBub2RlLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XG5cbiAgICBjb25zdCBtYXhXaWR0aCA9IE1hdGgubWluKDYwLCB3aWR0aCAvIDgpO1xuXG4gICAgc2V0TWF4U2NhbGVXaWR0aChtYXhXaWR0aCAvIHdpZHRoKTtcbn07XG5cbmNvbnN0IHVwZGF0ZUNvbnRyb2xQb3NpdGlvbiA9IChzdG9yZSwgY29udHJvbCwgbGVmdFNoYWRvdywgcmlnaHRTaGFkb3cpID0+IHtcbiAgICBzdG9yZSA9IHN0b3JlLnN1YlN0b3JlIHx8IHN0b3JlO1xuICAgIGNvbnN0IFtzdGFydCwgZW5kXSA9IHN0b3JlLnNjYWxlO1xuXG4gICAgbGVmdFNoYWRvdy5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7c3RhcnQgKiAxMDB9JSwgMClgO1xuICAgIHJpZ2h0U2hhZG93LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoLSR7ZW5kICogMTAwfSUsIDApYDtcblxuICAgIGNvbnRyb2wuc2V0UG9zaXRpb24oc3RhcnQsIGVuZCk7XG5cbiAgICAvLyBzZXREYW1wZXJzWkluZGV4KGRhbXBlcnMpO1xufTtcblxuY29uc3QgdG9nZ2xlWkluZGV4ID0gKG5vZGUsIG1hcmspID0+IHtcbiAgICBsZXQgekluZGV4ID0gMTtcblxuICAgIHJldHVybiAoKSA9PiBuZXh0RnJhbWUoKCkgPT4ge1xuICAgICAgICBub2RlLnN0eWxlLnpJbmRleCA9IHpJbmRleDtcblxuICAgICAgICB6SW5kZXggPSB6SW5kZXggPT09IDUgPyA2IDogMTtcbiAgICB9LCBtYXJrKTtcbn07XG5cbmNvbnN0IENoYXJ0U2NhbGVyID0gKHN0b3JlKSA9PiB7XG4gICAgY29uc3Qgbm9kZSA9IGNyZWF0ZUVsZW1lbnQoY3NzLmNoYXJ0U2NhbGVyKTtcbiAgICBsZXQgY29udHJvbEFuaW1hdGlvblRpbWVvdXQgPSBudWxsO1xuICAgIHdpdGhUaGVtZShzdG9yZSwgbm9kZSwgY3NzKTtcblxuICAgIHJlbmRlckRhbXBlcnMobm9kZSk7XG5cbiAgICBjb25zdCB0b2dnbGVOb2RlWkluZGV4ID0gdG9nZ2xlWkluZGV4KG5vZGUsICd0b2dnbGVfY2hhcnRfc2NhbGVyX3pfaW5kZXgnKTtcblxuICAgIGNvbnN0IFtjb250cm9sLCBsZWZ0U2hhZG93LCByaWdodFNoYWRvd10gPSByZW5kZXJDb250cm9scyhzdG9yZSwgbm9kZSk7XG5cbiAgICBjb25zdCBvbkNoYW5nZVNjYWxlID0gKCkgPT4gdXBkYXRlQ29udHJvbFBvc2l0aW9uKHN0b3JlLCBjb250cm9sLCBsZWZ0U2hhZG93LCByaWdodFNoYWRvdyk7XG5cbiAgICBzdG9yZS5vbihDSEFOR0VfU0laRSwgKCkgPT4gc2V0U2l6ZShzdG9yZSwgbm9kZSkpO1xuICAgIHN0b3JlLm9uKENIQU5HRV9TQ0FMRSwgb25DaGFuZ2VTY2FsZSk7XG5cbiAgICBzdG9yZS5vbihTSE9XX1NVQl9TVE9SRSwgKCkgPT4ge1xuICAgICAgICBpZiAoc3RvcmUuc3ViU3RvcmUpIHtcbiAgICAgICAgICAgIHN0b3JlLnN1YlN0b3JlLm9uKENIQU5HRV9TQ0FMRSwgb25DaGFuZ2VTY2FsZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udHJvbEFuaW1hdGlvblRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChjb250cm9sQW5pbWF0aW9uVGltZW91dCk7XG4gICAgICAgIH1cblxuICAgICAgICBub2RlLmNsYXNzTGlzdC5hZGQoY3NzLmFuaW1hdGlvbik7XG5cbiAgICAgICAgY29udHJvbEFuaW1hdGlvblRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZShjc3MuYW5pbWF0aW9uKTtcbiAgICAgICAgfSwgNTAwKTtcblxuICAgICAgICBvbkNoYW5nZVNjYWxlKCk7XG4gICAgfSk7XG5cbiAgICBuZXh0RnJhbWUoKCkgPT4gc3RvcmUudmlld0JveC5vbihBTklNQVRFX1ZJRVdfQk9YLCB0b2dnbGVOb2RlWkluZGV4KSk7XG5cbiAgICB1cGRhdGVDb250cm9sUG9zaXRpb24oc3RvcmUsIGNvbnRyb2wsIGxlZnRTaGFkb3csIHJpZ2h0U2hhZG93KTtcblxuICAgIHJldHVybiB7bm9kZX07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDaGFydFNjYWxlcjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/ChartScaler/ChartScaler.js\n");

/***/ }),

/***/ "./src/chart/ChartScaler/ChartScaler.styl":
/*!************************************************!*\
  !*** ./src/chart/ChartScaler/ChartScaler.styl ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin\nmodule.exports = {\"theme_light\":\"ChartScaler__theme_light\",\"chartScaler\":\"ChartScaler__chartScaler\",\"shadow\":\"ChartScaler__shadow\",\"topBorder\":\"ChartScaler__topBorder\",\"bottomBorder\":\"ChartScaler__bottomBorder\",\"leftScalerInner\":\"ChartScaler__leftScalerInner\",\"rightScalerInner\":\"ChartScaler__rightScalerInner\",\"leftScaler\":\"ChartScaler__leftScaler\",\"rightScaler\":\"ChartScaler__rightScaler\",\"leftDamper\":\"ChartScaler__leftDamper\",\"rightDamper\":\"ChartScaler__rightDamper\",\"theme_dark\":\"ChartScaler__theme_dark\",\"animation\":\"ChartScaler__animation\",\"control\":\"ChartScaler__control\",\"shadows\":\"ChartScaler__shadows\",\"leftShadow\":\"ChartScaler__leftShadow\",\"rightShadow\":\"ChartScaler__rightShadow\",\"leftScalerTip\":\"ChartScaler__leftScalerTip\",\"rightScalerTip\":\"ChartScaler__rightScalerTip\",\"resizer\":\"ChartScaler__resizer\",\"startResizer\":\"ChartScaler__startResizer\",\"endResizer\":\"ChartScaler__endResizer\",\"mover\":\"ChartScaler__mover\"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvQ2hhcnRTY2FsZXIvQ2hhcnRTY2FsZXIuc3R5bC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9DaGFydFNjYWxlci9DaGFydFNjYWxlci5zdHlsPzMzNjkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1widGhlbWVfbGlnaHRcIjpcIkNoYXJ0U2NhbGVyX190aGVtZV9saWdodFwiLFwiY2hhcnRTY2FsZXJcIjpcIkNoYXJ0U2NhbGVyX19jaGFydFNjYWxlclwiLFwic2hhZG93XCI6XCJDaGFydFNjYWxlcl9fc2hhZG93XCIsXCJ0b3BCb3JkZXJcIjpcIkNoYXJ0U2NhbGVyX190b3BCb3JkZXJcIixcImJvdHRvbUJvcmRlclwiOlwiQ2hhcnRTY2FsZXJfX2JvdHRvbUJvcmRlclwiLFwibGVmdFNjYWxlcklubmVyXCI6XCJDaGFydFNjYWxlcl9fbGVmdFNjYWxlcklubmVyXCIsXCJyaWdodFNjYWxlcklubmVyXCI6XCJDaGFydFNjYWxlcl9fcmlnaHRTY2FsZXJJbm5lclwiLFwibGVmdFNjYWxlclwiOlwiQ2hhcnRTY2FsZXJfX2xlZnRTY2FsZXJcIixcInJpZ2h0U2NhbGVyXCI6XCJDaGFydFNjYWxlcl9fcmlnaHRTY2FsZXJcIixcImxlZnREYW1wZXJcIjpcIkNoYXJ0U2NhbGVyX19sZWZ0RGFtcGVyXCIsXCJyaWdodERhbXBlclwiOlwiQ2hhcnRTY2FsZXJfX3JpZ2h0RGFtcGVyXCIsXCJ0aGVtZV9kYXJrXCI6XCJDaGFydFNjYWxlcl9fdGhlbWVfZGFya1wiLFwiYW5pbWF0aW9uXCI6XCJDaGFydFNjYWxlcl9fYW5pbWF0aW9uXCIsXCJjb250cm9sXCI6XCJDaGFydFNjYWxlcl9fY29udHJvbFwiLFwic2hhZG93c1wiOlwiQ2hhcnRTY2FsZXJfX3NoYWRvd3NcIixcImxlZnRTaGFkb3dcIjpcIkNoYXJ0U2NhbGVyX19sZWZ0U2hhZG93XCIsXCJyaWdodFNoYWRvd1wiOlwiQ2hhcnRTY2FsZXJfX3JpZ2h0U2hhZG93XCIsXCJsZWZ0U2NhbGVyVGlwXCI6XCJDaGFydFNjYWxlcl9fbGVmdFNjYWxlclRpcFwiLFwicmlnaHRTY2FsZXJUaXBcIjpcIkNoYXJ0U2NhbGVyX19yaWdodFNjYWxlclRpcFwiLFwicmVzaXplclwiOlwiQ2hhcnRTY2FsZXJfX3Jlc2l6ZXJcIixcInN0YXJ0UmVzaXplclwiOlwiQ2hhcnRTY2FsZXJfX3N0YXJ0UmVzaXplclwiLFwiZW5kUmVzaXplclwiOlwiQ2hhcnRTY2FsZXJfX2VuZFJlc2l6ZXJcIixcIm1vdmVyXCI6XCJDaGFydFNjYWxlcl9fbW92ZXJcIn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/ChartScaler/ChartScaler.styl\n");

/***/ }),

/***/ "./src/chart/ChartScaler/Control.js":
/*!******************************************!*\
  !*** ./src/chart/ChartScaler/Control.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _EventEmitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EventEmitter */ \"./src/chart/EventEmitter.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers */ \"./src/chart/helpers.js\");\n/* harmony import */ var _ChartScaler_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChartScaler.styl */ \"./src/chart/ChartScaler/ChartScaler.styl\");\n/* harmony import */ var _ChartScaler_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\n\nconst renderViewElems = (node) => {\n    const leftScaler = Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_2___default.a.leftScaler);\n    const leftScalerInner = Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_2___default.a.leftScalerInner);\n    const leftScalerTip = Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_2___default.a.leftScalerTip);\n\n    const rightScaler = Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_2___default.a.rightScaler);\n    const rightScalerInner = Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_2___default.a.rightScalerInner);\n    const rightScalerTip = Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_2___default.a.rightScalerTip);\n\n    const topBorder = Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_2___default.a.topBorder);\n    const bottomBorder = Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_2___default.a.bottomBorder);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"appendChild\"])(leftScaler, leftScalerInner);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"appendChild\"])(rightScaler, rightScalerInner);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"appendChild\"])(leftScalerInner, leftScalerTip);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"appendChild\"])(rightScalerInner, rightScalerTip);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"appendChild\"])(node, leftScaler);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"appendChild\"])(node, rightScaler);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"appendChild\"])(node, topBorder);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"appendChild\"])(node, bottomBorder);\n};\n\nconst getResizer = (root, className) => {\n    const resizer = Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])();\n    resizer.classList.add(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_2___default.a.resizer);\n    resizer.classList.add(className);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"appendChild\"])(root, resizer);\n\n    return resizer;\n};\n\nconst getMover = (root) => {\n    const mover = Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_2___default.a.mover);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"appendChild\"])(root, mover);\n\n    return mover;\n};\n\nconst setPosition = (node, left, right) => {\n    node.style.left = `${left * 100}%`;\n    node.style.right = `${right * 100}%`;\n};\n\nconst Control = () => {\n    const eventEmitter = new _EventEmitter__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\n    const node = Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_2___default.a.control);\n\n    renderViewElems(node);\n\n    const resizerStart = getResizer(node, _ChartScaler_styl__WEBPACK_IMPORTED_MODULE_2___default.a.startResizer);\n    const resizerEnd = getResizer(node, _ChartScaler_styl__WEBPACK_IMPORTED_MODULE_2___default.a.endResizer);\n    const mover = getMover(node);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"addEvent\"])(resizerStart, 'mousedown', event => eventEmitter.trigger('moveStartPoint', event));\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"addEvent\"])(resizerStart, 'touchstart', event => eventEmitter.trigger('moveStartPoint', event));\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"addEvent\"])(resizerEnd, 'mousedown', event => eventEmitter.trigger('moveEndPoint', event));\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"addEvent\"])(resizerEnd, 'touchstart', event => eventEmitter.trigger('moveEndPoint', event));\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"addEvent\"])(mover, 'mousedown', event => eventEmitter.trigger('move', event));\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"addEvent\"])(mover, 'touchstart', event => eventEmitter.trigger('move', event));\n\n    return {\n        node,\n        on: (event, callback) => eventEmitter.on(event, callback),\n        off: (event, callback) => eventEmitter.off(event, callback),\n        setPosition: (left, right) => setPosition(node, left, right),\n    };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Control);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvQ2hhcnRTY2FsZXIvQ29udHJvbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9DaGFydFNjYWxlci9Db250cm9sLmpzPzkwMGYiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJy4uL0V2ZW50RW1pdHRlcic7XG5pbXBvcnQge2NyZWF0ZUVsZW1lbnQsIGFwcGVuZENoaWxkLCBhZGRFdmVudH0gZnJvbSAnLi4vaGVscGVycyc7XG5pbXBvcnQgY3NzIGZyb20gJy4vQ2hhcnRTY2FsZXIuc3R5bCc7XG5cbmNvbnN0IHJlbmRlclZpZXdFbGVtcyA9IChub2RlKSA9PiB7XG4gICAgY29uc3QgbGVmdFNjYWxlciA9IGNyZWF0ZUVsZW1lbnQoY3NzLmxlZnRTY2FsZXIpO1xuICAgIGNvbnN0IGxlZnRTY2FsZXJJbm5lciA9IGNyZWF0ZUVsZW1lbnQoY3NzLmxlZnRTY2FsZXJJbm5lcik7XG4gICAgY29uc3QgbGVmdFNjYWxlclRpcCA9IGNyZWF0ZUVsZW1lbnQoY3NzLmxlZnRTY2FsZXJUaXApO1xuXG4gICAgY29uc3QgcmlnaHRTY2FsZXIgPSBjcmVhdGVFbGVtZW50KGNzcy5yaWdodFNjYWxlcik7XG4gICAgY29uc3QgcmlnaHRTY2FsZXJJbm5lciA9IGNyZWF0ZUVsZW1lbnQoY3NzLnJpZ2h0U2NhbGVySW5uZXIpO1xuICAgIGNvbnN0IHJpZ2h0U2NhbGVyVGlwID0gY3JlYXRlRWxlbWVudChjc3MucmlnaHRTY2FsZXJUaXApO1xuXG4gICAgY29uc3QgdG9wQm9yZGVyID0gY3JlYXRlRWxlbWVudChjc3MudG9wQm9yZGVyKTtcbiAgICBjb25zdCBib3R0b21Cb3JkZXIgPSBjcmVhdGVFbGVtZW50KGNzcy5ib3R0b21Cb3JkZXIpO1xuXG4gICAgYXBwZW5kQ2hpbGQobGVmdFNjYWxlciwgbGVmdFNjYWxlcklubmVyKTtcbiAgICBhcHBlbmRDaGlsZChyaWdodFNjYWxlciwgcmlnaHRTY2FsZXJJbm5lcik7XG4gICAgYXBwZW5kQ2hpbGQobGVmdFNjYWxlcklubmVyLCBsZWZ0U2NhbGVyVGlwKTtcbiAgICBhcHBlbmRDaGlsZChyaWdodFNjYWxlcklubmVyLCByaWdodFNjYWxlclRpcCk7XG5cbiAgICBhcHBlbmRDaGlsZChub2RlLCBsZWZ0U2NhbGVyKTtcbiAgICBhcHBlbmRDaGlsZChub2RlLCByaWdodFNjYWxlcik7XG4gICAgYXBwZW5kQ2hpbGQobm9kZSwgdG9wQm9yZGVyKTtcbiAgICBhcHBlbmRDaGlsZChub2RlLCBib3R0b21Cb3JkZXIpO1xufTtcblxuY29uc3QgZ2V0UmVzaXplciA9IChyb290LCBjbGFzc05hbWUpID0+IHtcbiAgICBjb25zdCByZXNpemVyID0gY3JlYXRlRWxlbWVudCgpO1xuICAgIHJlc2l6ZXIuY2xhc3NMaXN0LmFkZChjc3MucmVzaXplcik7XG4gICAgcmVzaXplci5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG5cbiAgICBhcHBlbmRDaGlsZChyb290LCByZXNpemVyKTtcblxuICAgIHJldHVybiByZXNpemVyO1xufTtcblxuY29uc3QgZ2V0TW92ZXIgPSAocm9vdCkgPT4ge1xuICAgIGNvbnN0IG1vdmVyID0gY3JlYXRlRWxlbWVudChjc3MubW92ZXIpO1xuXG4gICAgYXBwZW5kQ2hpbGQocm9vdCwgbW92ZXIpO1xuXG4gICAgcmV0dXJuIG1vdmVyO1xufTtcblxuY29uc3Qgc2V0UG9zaXRpb24gPSAobm9kZSwgbGVmdCwgcmlnaHQpID0+IHtcbiAgICBub2RlLnN0eWxlLmxlZnQgPSBgJHtsZWZ0ICogMTAwfSVgO1xuICAgIG5vZGUuc3R5bGUucmlnaHQgPSBgJHtyaWdodCAqIDEwMH0lYDtcbn07XG5cbmNvbnN0IENvbnRyb2wgPSAoKSA9PiB7XG4gICAgY29uc3QgZXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgY29uc3Qgbm9kZSA9IGNyZWF0ZUVsZW1lbnQoY3NzLmNvbnRyb2wpO1xuXG4gICAgcmVuZGVyVmlld0VsZW1zKG5vZGUpO1xuXG4gICAgY29uc3QgcmVzaXplclN0YXJ0ID0gZ2V0UmVzaXplcihub2RlLCBjc3Muc3RhcnRSZXNpemVyKTtcbiAgICBjb25zdCByZXNpemVyRW5kID0gZ2V0UmVzaXplcihub2RlLCBjc3MuZW5kUmVzaXplcik7XG4gICAgY29uc3QgbW92ZXIgPSBnZXRNb3Zlcihub2RlKTtcblxuICAgIGFkZEV2ZW50KHJlc2l6ZXJTdGFydCwgJ21vdXNlZG93bicsIGV2ZW50ID0+IGV2ZW50RW1pdHRlci50cmlnZ2VyKCdtb3ZlU3RhcnRQb2ludCcsIGV2ZW50KSk7XG4gICAgYWRkRXZlbnQocmVzaXplclN0YXJ0LCAndG91Y2hzdGFydCcsIGV2ZW50ID0+IGV2ZW50RW1pdHRlci50cmlnZ2VyKCdtb3ZlU3RhcnRQb2ludCcsIGV2ZW50KSk7XG4gICAgYWRkRXZlbnQocmVzaXplckVuZCwgJ21vdXNlZG93bicsIGV2ZW50ID0+IGV2ZW50RW1pdHRlci50cmlnZ2VyKCdtb3ZlRW5kUG9pbnQnLCBldmVudCkpO1xuICAgIGFkZEV2ZW50KHJlc2l6ZXJFbmQsICd0b3VjaHN0YXJ0JywgZXZlbnQgPT4gZXZlbnRFbWl0dGVyLnRyaWdnZXIoJ21vdmVFbmRQb2ludCcsIGV2ZW50KSk7XG4gICAgYWRkRXZlbnQobW92ZXIsICdtb3VzZWRvd24nLCBldmVudCA9PiBldmVudEVtaXR0ZXIudHJpZ2dlcignbW92ZScsIGV2ZW50KSk7XG4gICAgYWRkRXZlbnQobW92ZXIsICd0b3VjaHN0YXJ0JywgZXZlbnQgPT4gZXZlbnRFbWl0dGVyLnRyaWdnZXIoJ21vdmUnLCBldmVudCkpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbm9kZSxcbiAgICAgICAgb246IChldmVudCwgY2FsbGJhY2spID0+IGV2ZW50RW1pdHRlci5vbihldmVudCwgY2FsbGJhY2spLFxuICAgICAgICBvZmY6IChldmVudCwgY2FsbGJhY2spID0+IGV2ZW50RW1pdHRlci5vZmYoZXZlbnQsIGNhbGxiYWNrKSxcbiAgICAgICAgc2V0UG9zaXRpb246IChsZWZ0LCByaWdodCkgPT4gc2V0UG9zaXRpb24obm9kZSwgbGVmdCwgcmlnaHQpLFxuICAgIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb250cm9sO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/chart/ChartScaler/Control.js\n");

/***/ }),

/***/ "./src/chart/ChartScaler/helpers.js":
/*!******************************************!*\
  !*** ./src/chart/ChartScaler/helpers.js ***!
  \******************************************/
/*! exports provided: preventDefault, setMaxScaleWidth, createShadow, getClientX, getClientY, isScrollMove, getScaleStart, getScaleEnd, getScaleMove, startMove */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"preventDefault\", function() { return preventDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setMaxScaleWidth\", function() { return setMaxScaleWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createShadow\", function() { return createShadow; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getClientX\", function() { return getClientX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getClientY\", function() { return getClientY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isScrollMove\", function() { return isScrollMove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getScaleStart\", function() { return getScaleStart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getScaleEnd\", function() { return getScaleEnd; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getScaleMove\", function() { return getScaleMove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"startMove\", function() { return startMove; });\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers */ \"./src/chart/helpers.js\");\n/* harmony import */ var _ChartScaler_styl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ChartScaler.styl */ \"./src/chart/ChartScaler/ChartScaler.styl\");\n/* harmony import */ var _ChartScaler_styl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n\nlet maxScaleWidth = 0.2;\n\n\nconst preventDefault = event => event && event.type.startsWith('mouse') && event.preventDefault();\n\nconst setMaxScaleWidth = width => maxScaleWidth = width;\n\nconst createShadow = (node, className) => {\n    const shadow = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])();\n\n    shadow.classList.add(_ChartScaler_styl__WEBPACK_IMPORTED_MODULE_1___default.a.shadow);\n    shadow.classList.add(className);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(node, shadow);\n\n    return shadow;\n};\n\nconst getClientX = (event) => {\n    const {type} = event;\n\n    if (type.startsWith('touch')) {\n        return event.touches[0].clientX;\n    }\n\n    return event.clientX;\n};\n\nconst getClientY = (event) => {\n    const {type} = event;\n\n    if (type.startsWith('touch')) {\n        return event.touches[0].clientY;\n    }\n\n    return event.clientY;\n};\n\nconst isScrollMove = ([startClientX, startClientY], event) => {\n    const clientX = getClientX(event);\n    const clientY = getClientY(event);\n\n    return Math.abs(startClientX - clientX) < Math.abs(startClientY - clientY);\n};\n\nconst roundScale = scale => Math.round(scale * 1000) / 1000;\n\nconst getScale = (pxelScale, width, oppositeScale) => {\n    let scale = roundScale(pxelScale / width);\n\n    if (scale < 0) {\n        scale = 0;\n    }\n\n    const maxScale = roundScale((1 - oppositeScale) - maxScaleWidth);\n\n    if (scale > maxScale) {\n        scale = maxScale;\n    }\n\n    return scale;\n};\n\nconst getScaleStart = (event, boundingClientRect, scaleEnd) => {\n    const {left: scalerLeft, width} = boundingClientRect;\n    const mouseLeft = getClientX(event);\n\n    const pixelStart = mouseLeft - scalerLeft - 5;\n\n    return getScale(pixelStart, width, scaleEnd);\n};\n\nconst getScaleEnd = (event, boundingClientRect, scaleStart) => {\n    const {right: scaleRight, width} = boundingClientRect;\n    const mouseLeft = getClientX(event);\n\n    const pixelEnd = scaleRight - mouseLeft - 5;\n\n    return getScale(pixelEnd, width, scaleStart);\n};\n\nconst getScaleMove = (event, boundingClientRect, pixelShift, scaleWidth) => {\n    const {left: scaleLeft, width} = boundingClientRect;\n\n    const pixelLeft = getClientX(event) - scaleLeft;\n\n    const pixelStart = pixelLeft - pixelShift;\n\n    const scaleStart = roundScale(pixelStart / width);\n\n    if (scaleStart < 0) {\n        return [0, 1 - scaleWidth];\n    }\n\n    const scaleEnd = roundScale(1 - scaleStart - scaleWidth);\n\n    if (scaleEnd < 0) {\n        return [1 - scaleWidth, 0];\n    }\n\n    return [scaleStart, scaleEnd];\n};\n\nconst startMove = (onMove, clear) => {\n    const cancelEvents = () => {\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"removeEvent\"])(window, 'mousemove', onMove);\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"removeEvent\"])(window, 'touchmove', onMove);\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"removeEvent\"])(window, 'mouseup', cancelEvents);\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"removeEvent\"])(window, 'touchend', cancelEvents);\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"removeEvent\"])(window, 'mouseleave', cancelEvents);\n        if (clear) {\n            clear();\n        }\n    };\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"addEvent\"])(window, 'mousemove', onMove);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"addEvent\"])(window, 'touchmove', onMove, {passive: false});\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"addEvent\"])(window, 'mouseup', cancelEvents);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"addEvent\"])(window, 'touchend', cancelEvents);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"addEvent\"])(window, 'mouseleave', cancelEvents);\n\n    return cancelEvents;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvQ2hhcnRTY2FsZXIvaGVscGVycy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9DaGFydFNjYWxlci9oZWxwZXJzLmpzPzA2OTIiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQge2NyZWF0ZUVsZW1lbnQsIGFwcGVuZENoaWxkLCBhZGRFdmVudCwgcmVtb3ZlRXZlbnR9IGZyb20gJy4uL2hlbHBlcnMnO1xuaW1wb3J0IGNzcyBmcm9tICcuL0NoYXJ0U2NhbGVyLnN0eWwnO1xuXG5sZXQgbWF4U2NhbGVXaWR0aCA9IDAuMjtcblxuXG5leHBvcnQgY29uc3QgcHJldmVudERlZmF1bHQgPSBldmVudCA9PiBldmVudCAmJiBldmVudC50eXBlLnN0YXJ0c1dpdGgoJ21vdXNlJykgJiYgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuZXhwb3J0IGNvbnN0IHNldE1heFNjYWxlV2lkdGggPSB3aWR0aCA9PiBtYXhTY2FsZVdpZHRoID0gd2lkdGg7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVTaGFkb3cgPSAobm9kZSwgY2xhc3NOYW1lKSA9PiB7XG4gICAgY29uc3Qgc2hhZG93ID0gY3JlYXRlRWxlbWVudCgpO1xuXG4gICAgc2hhZG93LmNsYXNzTGlzdC5hZGQoY3NzLnNoYWRvdyk7XG4gICAgc2hhZG93LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcblxuICAgIGFwcGVuZENoaWxkKG5vZGUsIHNoYWRvdyk7XG5cbiAgICByZXR1cm4gc2hhZG93O1xufTtcblxuZXhwb3J0IGNvbnN0IGdldENsaWVudFggPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCB7dHlwZX0gPSBldmVudDtcblxuICAgIGlmICh0eXBlLnN0YXJ0c1dpdGgoJ3RvdWNoJykpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICB9XG5cbiAgICByZXR1cm4gZXZlbnQuY2xpZW50WDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDbGllbnRZID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3Qge3R5cGV9ID0gZXZlbnQ7XG5cbiAgICBpZiAodHlwZS5zdGFydHNXaXRoKCd0b3VjaCcpKSB7XG4gICAgICAgIHJldHVybiBldmVudC50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV2ZW50LmNsaWVudFk7XG59O1xuXG5leHBvcnQgY29uc3QgaXNTY3JvbGxNb3ZlID0gKFtzdGFydENsaWVudFgsIHN0YXJ0Q2xpZW50WV0sIGV2ZW50KSA9PiB7XG4gICAgY29uc3QgY2xpZW50WCA9IGdldENsaWVudFgoZXZlbnQpO1xuICAgIGNvbnN0IGNsaWVudFkgPSBnZXRDbGllbnRZKGV2ZW50KTtcblxuICAgIHJldHVybiBNYXRoLmFicyhzdGFydENsaWVudFggLSBjbGllbnRYKSA8IE1hdGguYWJzKHN0YXJ0Q2xpZW50WSAtIGNsaWVudFkpO1xufTtcblxuY29uc3Qgcm91bmRTY2FsZSA9IHNjYWxlID0+IE1hdGgucm91bmQoc2NhbGUgKiAxMDAwKSAvIDEwMDA7XG5cbmNvbnN0IGdldFNjYWxlID0gKHB4ZWxTY2FsZSwgd2lkdGgsIG9wcG9zaXRlU2NhbGUpID0+IHtcbiAgICBsZXQgc2NhbGUgPSByb3VuZFNjYWxlKHB4ZWxTY2FsZSAvIHdpZHRoKTtcblxuICAgIGlmIChzY2FsZSA8IDApIHtcbiAgICAgICAgc2NhbGUgPSAwO1xuICAgIH1cblxuICAgIGNvbnN0IG1heFNjYWxlID0gcm91bmRTY2FsZSgoMSAtIG9wcG9zaXRlU2NhbGUpIC0gbWF4U2NhbGVXaWR0aCk7XG5cbiAgICBpZiAoc2NhbGUgPiBtYXhTY2FsZSkge1xuICAgICAgICBzY2FsZSA9IG1heFNjYWxlO1xuICAgIH1cblxuICAgIHJldHVybiBzY2FsZTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTY2FsZVN0YXJ0ID0gKGV2ZW50LCBib3VuZGluZ0NsaWVudFJlY3QsIHNjYWxlRW5kKSA9PiB7XG4gICAgY29uc3Qge2xlZnQ6IHNjYWxlckxlZnQsIHdpZHRofSA9IGJvdW5kaW5nQ2xpZW50UmVjdDtcbiAgICBjb25zdCBtb3VzZUxlZnQgPSBnZXRDbGllbnRYKGV2ZW50KTtcblxuICAgIGNvbnN0IHBpeGVsU3RhcnQgPSBtb3VzZUxlZnQgLSBzY2FsZXJMZWZ0IC0gNTtcblxuICAgIHJldHVybiBnZXRTY2FsZShwaXhlbFN0YXJ0LCB3aWR0aCwgc2NhbGVFbmQpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFNjYWxlRW5kID0gKGV2ZW50LCBib3VuZGluZ0NsaWVudFJlY3QsIHNjYWxlU3RhcnQpID0+IHtcbiAgICBjb25zdCB7cmlnaHQ6IHNjYWxlUmlnaHQsIHdpZHRofSA9IGJvdW5kaW5nQ2xpZW50UmVjdDtcbiAgICBjb25zdCBtb3VzZUxlZnQgPSBnZXRDbGllbnRYKGV2ZW50KTtcblxuICAgIGNvbnN0IHBpeGVsRW5kID0gc2NhbGVSaWdodCAtIG1vdXNlTGVmdCAtIDU7XG5cbiAgICByZXR1cm4gZ2V0U2NhbGUocGl4ZWxFbmQsIHdpZHRoLCBzY2FsZVN0YXJ0KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTY2FsZU1vdmUgPSAoZXZlbnQsIGJvdW5kaW5nQ2xpZW50UmVjdCwgcGl4ZWxTaGlmdCwgc2NhbGVXaWR0aCkgPT4ge1xuICAgIGNvbnN0IHtsZWZ0OiBzY2FsZUxlZnQsIHdpZHRofSA9IGJvdW5kaW5nQ2xpZW50UmVjdDtcblxuICAgIGNvbnN0IHBpeGVsTGVmdCA9IGdldENsaWVudFgoZXZlbnQpIC0gc2NhbGVMZWZ0O1xuXG4gICAgY29uc3QgcGl4ZWxTdGFydCA9IHBpeGVsTGVmdCAtIHBpeGVsU2hpZnQ7XG5cbiAgICBjb25zdCBzY2FsZVN0YXJ0ID0gcm91bmRTY2FsZShwaXhlbFN0YXJ0IC8gd2lkdGgpO1xuXG4gICAgaWYgKHNjYWxlU3RhcnQgPCAwKSB7XG4gICAgICAgIHJldHVybiBbMCwgMSAtIHNjYWxlV2lkdGhdO1xuICAgIH1cblxuICAgIGNvbnN0IHNjYWxlRW5kID0gcm91bmRTY2FsZSgxIC0gc2NhbGVTdGFydCAtIHNjYWxlV2lkdGgpO1xuXG4gICAgaWYgKHNjYWxlRW5kIDwgMCkge1xuICAgICAgICByZXR1cm4gWzEgLSBzY2FsZVdpZHRoLCAwXTtcbiAgICB9XG5cbiAgICByZXR1cm4gW3NjYWxlU3RhcnQsIHNjYWxlRW5kXTtcbn07XG5cbmV4cG9ydCBjb25zdCBzdGFydE1vdmUgPSAob25Nb3ZlLCBjbGVhcikgPT4ge1xuICAgIGNvbnN0IGNhbmNlbEV2ZW50cyA9ICgpID0+IHtcbiAgICAgICAgcmVtb3ZlRXZlbnQod2luZG93LCAnbW91c2Vtb3ZlJywgb25Nb3ZlKTtcbiAgICAgICAgcmVtb3ZlRXZlbnQod2luZG93LCAndG91Y2htb3ZlJywgb25Nb3ZlKTtcbiAgICAgICAgcmVtb3ZlRXZlbnQod2luZG93LCAnbW91c2V1cCcsIGNhbmNlbEV2ZW50cyk7XG4gICAgICAgIHJlbW92ZUV2ZW50KHdpbmRvdywgJ3RvdWNoZW5kJywgY2FuY2VsRXZlbnRzKTtcbiAgICAgICAgcmVtb3ZlRXZlbnQod2luZG93LCAnbW91c2VsZWF2ZScsIGNhbmNlbEV2ZW50cyk7XG4gICAgICAgIGlmIChjbGVhcikge1xuICAgICAgICAgICAgY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBhZGRFdmVudCh3aW5kb3csICdtb3VzZW1vdmUnLCBvbk1vdmUpO1xuICAgIGFkZEV2ZW50KHdpbmRvdywgJ3RvdWNobW92ZScsIG9uTW92ZSwge3Bhc3NpdmU6IGZhbHNlfSk7XG4gICAgYWRkRXZlbnQod2luZG93LCAnbW91c2V1cCcsIGNhbmNlbEV2ZW50cyk7XG4gICAgYWRkRXZlbnQod2luZG93LCAndG91Y2hlbmQnLCBjYW5jZWxFdmVudHMpO1xuICAgIGFkZEV2ZW50KHdpbmRvdywgJ21vdXNlbGVhdmUnLCBjYW5jZWxFdmVudHMpO1xuXG4gICAgcmV0dXJuIGNhbmNlbEV2ZW50cztcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/ChartScaler/helpers.js\n");

/***/ }),

/***/ "./src/chart/ChartScaler/index.js":
/*!****************************************!*\
  !*** ./src/chart/ChartScaler/index.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ChartScaler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChartScaler */ \"./src/chart/ChartScaler/ChartScaler.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _ChartScaler__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvQ2hhcnRTY2FsZXIvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQvQ2hhcnRTY2FsZXIvaW5kZXguanM/MDI5OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCB7ZGVmYXVsdH0gZnJvbSAnLi9DaGFydFNjYWxlcic7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/ChartScaler/index.js\n");

/***/ }),

/***/ "./src/chart/ChartView/ChartView.js":
/*!******************************************!*\
  !*** ./src/chart/ChartView/ChartView.js ***!
  \******************************************/
/*! exports provided: ChartView, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ChartView\", function() { return ChartView; });\n/* harmony import */ var _Webgl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Webgl */ \"./src/chart/Webgl/index.js\");\n/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Grid */ \"./src/chart/Grid/index.js\");\n/* harmony import */ var _BottomLabels__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../BottomLabels */ \"./src/chart/BottomLabels/index.js\");\n/* harmony import */ var _DetailsPopup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../DetailsPopup */ \"./src/chart/DetailsPopup/index.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers */ \"./src/chart/helpers.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants */ \"./src/chart/constants.js\");\n/* harmony import */ var _ChartView_styl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ChartView.styl */ \"./src/chart/ChartView/ChartView.styl\");\n/* harmony import */ var _ChartView_styl__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_ChartView_styl__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n\n\n\n\nconst SVG_LINE_WIDTH = 2;\n\nconst setSize = (node, store, chartLine) => {\n    const {size: [, [width, height]]} = store;\n\n    node.style.width = `${width}px`;\n    node.style.height = `${height}px`;\n\n    chartLine.render(width, height);\n};\n\nconst setScale = (store, chartLine) => {\n    const {size: [, [width, height]]} = store;\n\n    chartLine.render(width, height);\n};\n\nconst setAnimationEvents = (store, chartLine) => {\n    store.viewBox.on(_constants__WEBPACK_IMPORTED_MODULE_5__[\"ANIMATE_VIEW_BOX\"], () => setScale(store, chartLine));\n    store.fullViewBox.on(_constants__WEBPACK_IMPORTED_MODULE_5__[\"ANIMATE_VIEW_BOX\"], () => setScale(store, chartLine));\n\n    if (store.yScaled) {\n        store.secondaryViewBox.on(_constants__WEBPACK_IMPORTED_MODULE_5__[\"ANIMATE_VIEW_BOX\"], () => setScale(store, chartLine));\n        store.secondaryFullViewBox.on(_constants__WEBPACK_IMPORTED_MODULE_5__[\"ANIMATE_VIEW_BOX\"], () => setScale(store, chartLine));\n    }\n};\n\nconst ChartView = (store) => {\n    const node = Object(_helpers__WEBPACK_IMPORTED_MODULE_4__[\"createElement\"])(_ChartView_styl__WEBPACK_IMPORTED_MODULE_6___default.a.chartView);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_4__[\"withTheme\"])(store, node, _ChartView_styl__WEBPACK_IMPORTED_MODULE_6___default.a);\n\n    const grid = Object(_Grid__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(store);\n\n    const chartLine = Object(_Webgl__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(store, SVG_LINE_WIDTH, _constants__WEBPACK_IMPORTED_MODULE_5__[\"PADDING\"]);\n\n    const bottomLabels = Object(_BottomLabels__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(store);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_4__[\"appendChild\"])(node, grid.node);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_4__[\"appendChild\"])(node, bottomLabels.node);\n\n    // if (!store.isBar) {\n    const detailsPopup = Object(_DetailsPopup__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(store);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_4__[\"appendChild\"])(node, detailsPopup.node);\n    // }\n\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_5__[\"CHANGE_SIZE\"], () => setSize(node, store, chartLine));\n\n    setAnimationEvents(store, chartLine);\n\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_5__[\"SHOW_SUB_STORE\"], () => {\n        if (store.subStore) {\n            setAnimationEvents(store.subStore, chartLine);\n        }\n    });\n\n    return {node, image: chartLine.node};\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ChartView);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvQ2hhcnRWaWV3L0NoYXJ0Vmlldy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9DaGFydFZpZXcvQ2hhcnRWaWV3LmpzP2I0NWEiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgY3JlYXRlV2ViZ2wgZnJvbSAnLi4vV2ViZ2wnO1xuaW1wb3J0IGNyZWF0ZUdyaWQgZnJvbSAnLi4vR3JpZCc7XG5pbXBvcnQgY3JlYXRlQm90dG9tTGFiZWxzIGZyb20gJy4uL0JvdHRvbUxhYmVscyc7XG5pbXBvcnQgY3JlYXRlRGV0YWlsc1BvcHVwIGZyb20gJy4uL0RldGFpbHNQb3B1cCc7XG5pbXBvcnQge2NyZWF0ZUVsZW1lbnQsIGFwcGVuZENoaWxkLCB3aXRoVGhlbWV9IGZyb20gJy4uL2hlbHBlcnMnO1xuaW1wb3J0IHtDSEFOR0VfU0laRSwgQU5JTUFURV9WSUVXX0JPWCwgUEFERElORywgU0hPV19TVUJfU1RPUkV9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgY3NzIGZyb20gJy4vQ2hhcnRWaWV3LnN0eWwnO1xuXG5jb25zdCBTVkdfTElORV9XSURUSCA9IDI7XG5cbmNvbnN0IHNldFNpemUgPSAobm9kZSwgc3RvcmUsIGNoYXJ0TGluZSkgPT4ge1xuICAgIGNvbnN0IHtzaXplOiBbLCBbd2lkdGgsIGhlaWdodF1dfSA9IHN0b3JlO1xuXG4gICAgbm9kZS5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDtcbiAgICBub2RlLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XG5cbiAgICBjaGFydExpbmUucmVuZGVyKHdpZHRoLCBoZWlnaHQpO1xufTtcblxuY29uc3Qgc2V0U2NhbGUgPSAoc3RvcmUsIGNoYXJ0TGluZSkgPT4ge1xuICAgIGNvbnN0IHtzaXplOiBbLCBbd2lkdGgsIGhlaWdodF1dfSA9IHN0b3JlO1xuXG4gICAgY2hhcnRMaW5lLnJlbmRlcih3aWR0aCwgaGVpZ2h0KTtcbn07XG5cbmNvbnN0IHNldEFuaW1hdGlvbkV2ZW50cyA9IChzdG9yZSwgY2hhcnRMaW5lKSA9PiB7XG4gICAgc3RvcmUudmlld0JveC5vbihBTklNQVRFX1ZJRVdfQk9YLCAoKSA9PiBzZXRTY2FsZShzdG9yZSwgY2hhcnRMaW5lKSk7XG4gICAgc3RvcmUuZnVsbFZpZXdCb3gub24oQU5JTUFURV9WSUVXX0JPWCwgKCkgPT4gc2V0U2NhbGUoc3RvcmUsIGNoYXJ0TGluZSkpO1xuXG4gICAgaWYgKHN0b3JlLnlTY2FsZWQpIHtcbiAgICAgICAgc3RvcmUuc2Vjb25kYXJ5Vmlld0JveC5vbihBTklNQVRFX1ZJRVdfQk9YLCAoKSA9PiBzZXRTY2FsZShzdG9yZSwgY2hhcnRMaW5lKSk7XG4gICAgICAgIHN0b3JlLnNlY29uZGFyeUZ1bGxWaWV3Qm94Lm9uKEFOSU1BVEVfVklFV19CT1gsICgpID0+IHNldFNjYWxlKHN0b3JlLCBjaGFydExpbmUpKTtcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgQ2hhcnRWaWV3ID0gKHN0b3JlKSA9PiB7XG4gICAgY29uc3Qgbm9kZSA9IGNyZWF0ZUVsZW1lbnQoY3NzLmNoYXJ0Vmlldyk7XG4gICAgd2l0aFRoZW1lKHN0b3JlLCBub2RlLCBjc3MpO1xuXG4gICAgY29uc3QgZ3JpZCA9IGNyZWF0ZUdyaWQoc3RvcmUpO1xuXG4gICAgY29uc3QgY2hhcnRMaW5lID0gY3JlYXRlV2ViZ2woc3RvcmUsIFNWR19MSU5FX1dJRFRILCBQQURESU5HKTtcblxuICAgIGNvbnN0IGJvdHRvbUxhYmVscyA9IGNyZWF0ZUJvdHRvbUxhYmVscyhzdG9yZSk7XG5cbiAgICBhcHBlbmRDaGlsZChub2RlLCBncmlkLm5vZGUpO1xuICAgIGFwcGVuZENoaWxkKG5vZGUsIGJvdHRvbUxhYmVscy5ub2RlKTtcblxuICAgIC8vIGlmICghc3RvcmUuaXNCYXIpIHtcbiAgICBjb25zdCBkZXRhaWxzUG9wdXAgPSBjcmVhdGVEZXRhaWxzUG9wdXAoc3RvcmUpO1xuICAgIGFwcGVuZENoaWxkKG5vZGUsIGRldGFpbHNQb3B1cC5ub2RlKTtcbiAgICAvLyB9XG5cbiAgICBzdG9yZS5vbihDSEFOR0VfU0laRSwgKCkgPT4gc2V0U2l6ZShub2RlLCBzdG9yZSwgY2hhcnRMaW5lKSk7XG5cbiAgICBzZXRBbmltYXRpb25FdmVudHMoc3RvcmUsIGNoYXJ0TGluZSk7XG5cbiAgICBzdG9yZS5vbihTSE9XX1NVQl9TVE9SRSwgKCkgPT4ge1xuICAgICAgICBpZiAoc3RvcmUuc3ViU3RvcmUpIHtcbiAgICAgICAgICAgIHNldEFuaW1hdGlvbkV2ZW50cyhzdG9yZS5zdWJTdG9yZSwgY2hhcnRMaW5lKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtub2RlLCBpbWFnZTogY2hhcnRMaW5lLm5vZGV9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2hhcnRWaWV3O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/ChartView/ChartView.js\n");

/***/ }),

/***/ "./src/chart/ChartView/ChartView.styl":
/*!********************************************!*\
  !*** ./src/chart/ChartView/ChartView.styl ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin\nmodule.exports = {\"theme_light\":\"ChartView__theme_light\",\"spacer\":\"ChartView__spacer\",\"theme_dark\":\"ChartView__theme_dark\",\"chartView\":\"ChartView__chartView\"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvQ2hhcnRWaWV3L0NoYXJ0Vmlldy5zdHlsLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJ0L0NoYXJ0Vmlldy9DaGFydFZpZXcuc3R5bD84NDlkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInRoZW1lX2xpZ2h0XCI6XCJDaGFydFZpZXdfX3RoZW1lX2xpZ2h0XCIsXCJzcGFjZXJcIjpcIkNoYXJ0Vmlld19fc3BhY2VyXCIsXCJ0aGVtZV9kYXJrXCI6XCJDaGFydFZpZXdfX3RoZW1lX2RhcmtcIixcImNoYXJ0Vmlld1wiOlwiQ2hhcnRWaWV3X19jaGFydFZpZXdcIn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/ChartView/ChartView.styl\n");

/***/ }),

/***/ "./src/chart/ChartView/index.js":
/*!**************************************!*\
  !*** ./src/chart/ChartView/index.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ChartView__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChartView */ \"./src/chart/ChartView/ChartView.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _ChartView__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvQ2hhcnRWaWV3L2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJ0L0NoYXJ0Vmlldy9pbmRleC5qcz9jZTVhIl0sInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IHtkZWZhdWx0fSBmcm9tICcuL0NoYXJ0Vmlldyc7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/ChartView/index.js\n");

/***/ }),

/***/ "./src/chart/ChartsList/ChartsList.js":
/*!********************************************!*\
  !*** ./src/chart/ChartsList/ChartsList.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers */ \"./src/chart/helpers.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/chart/constants.js\");\n/* harmony import */ var _ChartsList_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChartsList.styl */ \"./src/chart/ChartsList/ChartsList.styl\");\n/* harmony import */ var _ChartsList_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_ChartsList_styl__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\n\n\nconst isChecked = (store, lineId) => (store.lineIds.indexOf(lineId) !== -1);\n\nconst createListItem = (node, store, lineId) => {\n    const switcher = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_ChartsList_styl__WEBPACK_IMPORTED_MODULE_2___default.a.switcher);\n    const name = store.lineNames[lineId];\n    const color = store.lineColors[lineId];\n    const checkbox = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_ChartsList_styl__WEBPACK_IMPORTED_MODULE_2___default.a.checkbox);\n    const title = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_ChartsList_styl__WEBPACK_IMPORTED_MODULE_2___default.a.title);\n    // appendChild(title, document.createTextNode(name));\n\n    const coloredTitle = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_ChartsList_styl__WEBPACK_IMPORTED_MODULE_2___default.a.coloredTitle);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(coloredTitle, document.createTextNode(name));\n\n    const whiteTitle = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_ChartsList_styl__WEBPACK_IMPORTED_MODULE_2___default.a.whiteTitle);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(whiteTitle, document.createTextNode(name));\n\n    const background = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_ChartsList_styl__WEBPACK_IMPORTED_MODULE_2___default.a.background);\n\n    switcher.style.borderColor = color;\n    coloredTitle.style.color = color;\n    background.style.backgroundColor = color;\n\n    if (isChecked(store, lineId)) {\n        lineOn([switcher, title, color]);\n    }\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"addEvent\"])(switcher, 'mousedown', () => {\n        let timeout = null;\n        const onMouseUp = () => {\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n\n            Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"removeEvent\"])(switcher, 'mouseup', onMouseUp);\n\n            store.toggleLine(lineId);\n        };\n\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"addEvent\"])(switcher, 'mouseup', onMouseUp);\n\n        timeout = setTimeout(() => {\n            timeout = null;\n\n            Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"removeEvent\"])(switcher, 'mouseup', onMouseUp);\n\n            store.showLine(lineId);\n        }, 500);\n    });\n\n    // addEvent(switcher, 'click', () => store.toggleLine(lineId));\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(title, coloredTitle);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(title, whiteTitle);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(switcher, background);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(switcher, checkbox);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(switcher, title);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(node, switcher);\n\n    return [switcher, title, color];\n};\n\nconst lineOn = ([switcher, title, color]) => {\n    if (!switcher.classList.contains(_ChartsList_styl__WEBPACK_IMPORTED_MODULE_2___default.a.checked)) {\n        switcher.classList.add(_ChartsList_styl__WEBPACK_IMPORTED_MODULE_2___default.a.checked);\n    }\n};\n\nconst lineOff = ([switcher, title, color]) => {\n    if (switcher.classList.contains(_ChartsList_styl__WEBPACK_IMPORTED_MODULE_2___default.a.checked)) {\n        switcher.classList.remove(_ChartsList_styl__WEBPACK_IMPORTED_MODULE_2___default.a.checked);\n    }\n};\n\nconst createLineItems = (store, root, list) => {\n    list.innerHTML = '';\n\n    if (store.allLineIds.length < 2) {\n        root.style.display = 'none';\n\n        return;\n    }\n\n    root.style.display = 'block';\n\n    const items = store.allLineIds.reduce(\n        (acc, lineId) => Object.assign(acc, {[lineId]: createListItem(list, store, lineId)}),\n        {},\n    );\n\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"LINE_ON\"], lineId => lineOn(items[lineId]));\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"LINE_OFF\"], lineId => lineOff(items[lineId]));\n};\n\nconst ChartsList = (store) => {\n    const root = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_ChartsList_styl__WEBPACK_IMPORTED_MODULE_2___default.a.root);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"withTheme\"])(store, root, _ChartsList_styl__WEBPACK_IMPORTED_MODULE_2___default.a);\n    const list = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_ChartsList_styl__WEBPACK_IMPORTED_MODULE_2___default.a.list);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(root, list);\n\n    createLineItems(store, root, list);\n\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"SHOW_SUB_STORE\"], () => {\n        if (store.transformToLineChart) {\n            createLineItems(store.subStore || store, root, list);\n        }\n    });\n\n    return {node: root};\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ChartsList);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvQ2hhcnRzTGlzdC9DaGFydHNMaXN0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJ0L0NoYXJ0c0xpc3QvQ2hhcnRzTGlzdC5qcz83NzU3Il0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHtjcmVhdGVFbGVtZW50LCBhcHBlbmRDaGlsZCwgYWRkRXZlbnQsIHdpdGhUaGVtZSwgcmVtb3ZlRXZlbnR9IGZyb20gJy4uL2hlbHBlcnMnO1xuaW1wb3J0IHtMSU5FX09GRiwgTElORV9PTiwgU0hPV19TVUJfU1RPUkV9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgY3NzIGZyb20gJy4vQ2hhcnRzTGlzdC5zdHlsJztcblxuXG5jb25zdCBpc0NoZWNrZWQgPSAoc3RvcmUsIGxpbmVJZCkgPT4gKHN0b3JlLmxpbmVJZHMuaW5kZXhPZihsaW5lSWQpICE9PSAtMSk7XG5cbmNvbnN0IGNyZWF0ZUxpc3RJdGVtID0gKG5vZGUsIHN0b3JlLCBsaW5lSWQpID0+IHtcbiAgICBjb25zdCBzd2l0Y2hlciA9IGNyZWF0ZUVsZW1lbnQoY3NzLnN3aXRjaGVyKTtcbiAgICBjb25zdCBuYW1lID0gc3RvcmUubGluZU5hbWVzW2xpbmVJZF07XG4gICAgY29uc3QgY29sb3IgPSBzdG9yZS5saW5lQ29sb3JzW2xpbmVJZF07XG4gICAgY29uc3QgY2hlY2tib3ggPSBjcmVhdGVFbGVtZW50KGNzcy5jaGVja2JveCk7XG4gICAgY29uc3QgdGl0bGUgPSBjcmVhdGVFbGVtZW50KGNzcy50aXRsZSk7XG4gICAgLy8gYXBwZW5kQ2hpbGQodGl0bGUsIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5hbWUpKTtcblxuICAgIGNvbnN0IGNvbG9yZWRUaXRsZSA9IGNyZWF0ZUVsZW1lbnQoY3NzLmNvbG9yZWRUaXRsZSk7XG4gICAgYXBwZW5kQ2hpbGQoY29sb3JlZFRpdGxlLCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuYW1lKSk7XG5cbiAgICBjb25zdCB3aGl0ZVRpdGxlID0gY3JlYXRlRWxlbWVudChjc3Mud2hpdGVUaXRsZSk7XG4gICAgYXBwZW5kQ2hpbGQod2hpdGVUaXRsZSwgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmFtZSkpO1xuXG4gICAgY29uc3QgYmFja2dyb3VuZCA9IGNyZWF0ZUVsZW1lbnQoY3NzLmJhY2tncm91bmQpO1xuXG4gICAgc3dpdGNoZXIuc3R5bGUuYm9yZGVyQ29sb3IgPSBjb2xvcjtcbiAgICBjb2xvcmVkVGl0bGUuc3R5bGUuY29sb3IgPSBjb2xvcjtcbiAgICBiYWNrZ3JvdW5kLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xuXG4gICAgaWYgKGlzQ2hlY2tlZChzdG9yZSwgbGluZUlkKSkge1xuICAgICAgICBsaW5lT24oW3N3aXRjaGVyLCB0aXRsZSwgY29sb3JdKTtcbiAgICB9XG5cbiAgICBhZGRFdmVudChzd2l0Y2hlciwgJ21vdXNlZG93bicsICgpID0+IHtcbiAgICAgICAgbGV0IHRpbWVvdXQgPSBudWxsO1xuICAgICAgICBjb25zdCBvbk1vdXNlVXAgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVtb3ZlRXZlbnQoc3dpdGNoZXIsICdtb3VzZXVwJywgb25Nb3VzZVVwKTtcblxuICAgICAgICAgICAgc3RvcmUudG9nZ2xlTGluZShsaW5lSWQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGFkZEV2ZW50KHN3aXRjaGVyLCAnbW91c2V1cCcsIG9uTW91c2VVcCk7XG5cbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGltZW91dCA9IG51bGw7XG5cbiAgICAgICAgICAgIHJlbW92ZUV2ZW50KHN3aXRjaGVyLCAnbW91c2V1cCcsIG9uTW91c2VVcCk7XG5cbiAgICAgICAgICAgIHN0b3JlLnNob3dMaW5lKGxpbmVJZCk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfSk7XG5cbiAgICAvLyBhZGRFdmVudChzd2l0Y2hlciwgJ2NsaWNrJywgKCkgPT4gc3RvcmUudG9nZ2xlTGluZShsaW5lSWQpKTtcblxuICAgIGFwcGVuZENoaWxkKHRpdGxlLCBjb2xvcmVkVGl0bGUpO1xuICAgIGFwcGVuZENoaWxkKHRpdGxlLCB3aGl0ZVRpdGxlKTtcblxuICAgIGFwcGVuZENoaWxkKHN3aXRjaGVyLCBiYWNrZ3JvdW5kKTtcbiAgICBhcHBlbmRDaGlsZChzd2l0Y2hlciwgY2hlY2tib3gpO1xuICAgIGFwcGVuZENoaWxkKHN3aXRjaGVyLCB0aXRsZSk7XG5cbiAgICBhcHBlbmRDaGlsZChub2RlLCBzd2l0Y2hlcik7XG5cbiAgICByZXR1cm4gW3N3aXRjaGVyLCB0aXRsZSwgY29sb3JdO1xufTtcblxuY29uc3QgbGluZU9uID0gKFtzd2l0Y2hlciwgdGl0bGUsIGNvbG9yXSkgPT4ge1xuICAgIGlmICghc3dpdGNoZXIuY2xhc3NMaXN0LmNvbnRhaW5zKGNzcy5jaGVja2VkKSkge1xuICAgICAgICBzd2l0Y2hlci5jbGFzc0xpc3QuYWRkKGNzcy5jaGVja2VkKTtcbiAgICB9XG59O1xuXG5jb25zdCBsaW5lT2ZmID0gKFtzd2l0Y2hlciwgdGl0bGUsIGNvbG9yXSkgPT4ge1xuICAgIGlmIChzd2l0Y2hlci5jbGFzc0xpc3QuY29udGFpbnMoY3NzLmNoZWNrZWQpKSB7XG4gICAgICAgIHN3aXRjaGVyLmNsYXNzTGlzdC5yZW1vdmUoY3NzLmNoZWNrZWQpO1xuICAgIH1cbn07XG5cbmNvbnN0IGNyZWF0ZUxpbmVJdGVtcyA9IChzdG9yZSwgcm9vdCwgbGlzdCkgPT4ge1xuICAgIGxpc3QuaW5uZXJIVE1MID0gJyc7XG5cbiAgICBpZiAoc3RvcmUuYWxsTGluZUlkcy5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJvb3Quc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcm9vdC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgIGNvbnN0IGl0ZW1zID0gc3RvcmUuYWxsTGluZUlkcy5yZWR1Y2UoXG4gICAgICAgIChhY2MsIGxpbmVJZCkgPT4gT2JqZWN0LmFzc2lnbihhY2MsIHtbbGluZUlkXTogY3JlYXRlTGlzdEl0ZW0obGlzdCwgc3RvcmUsIGxpbmVJZCl9KSxcbiAgICAgICAge30sXG4gICAgKTtcblxuICAgIHN0b3JlLm9uKExJTkVfT04sIGxpbmVJZCA9PiBsaW5lT24oaXRlbXNbbGluZUlkXSkpO1xuICAgIHN0b3JlLm9uKExJTkVfT0ZGLCBsaW5lSWQgPT4gbGluZU9mZihpdGVtc1tsaW5lSWRdKSk7XG59O1xuXG5jb25zdCBDaGFydHNMaXN0ID0gKHN0b3JlKSA9PiB7XG4gICAgY29uc3Qgcm9vdCA9IGNyZWF0ZUVsZW1lbnQoY3NzLnJvb3QpO1xuICAgIHdpdGhUaGVtZShzdG9yZSwgcm9vdCwgY3NzKTtcbiAgICBjb25zdCBsaXN0ID0gY3JlYXRlRWxlbWVudChjc3MubGlzdCk7XG5cbiAgICBhcHBlbmRDaGlsZChyb290LCBsaXN0KTtcblxuICAgIGNyZWF0ZUxpbmVJdGVtcyhzdG9yZSwgcm9vdCwgbGlzdCk7XG5cbiAgICBzdG9yZS5vbihTSE9XX1NVQl9TVE9SRSwgKCkgPT4ge1xuICAgICAgICBpZiAoc3RvcmUudHJhbnNmb3JtVG9MaW5lQ2hhcnQpIHtcbiAgICAgICAgICAgIGNyZWF0ZUxpbmVJdGVtcyhzdG9yZS5zdWJTdG9yZSB8fCBzdG9yZSwgcm9vdCwgbGlzdCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB7bm9kZTogcm9vdH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDaGFydHNMaXN0O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/chart/ChartsList/ChartsList.js\n");

/***/ }),

/***/ "./src/chart/ChartsList/ChartsList.styl":
/*!**********************************************!*\
  !*** ./src/chart/ChartsList/ChartsList.styl ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin\nmodule.exports = {\"root\":\"ChartsList__root\",\"list\":\"ChartsList__list\",\"switcher\":\"ChartsList__switcher\",\"checked\":\"ChartsList__checked\",\"background\":\"ChartsList__background\",\"checkbox\":\"ChartsList__checkbox\",\"title\":\"ChartsList__title\",\"coloredTitle\":\"ChartsList__coloredTitle\",\"whiteTitle\":\"ChartsList__whiteTitle\"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvQ2hhcnRzTGlzdC9DaGFydHNMaXN0LnN0eWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQvQ2hhcnRzTGlzdC9DaGFydHNMaXN0LnN0eWw/YjViZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJyb290XCI6XCJDaGFydHNMaXN0X19yb290XCIsXCJsaXN0XCI6XCJDaGFydHNMaXN0X19saXN0XCIsXCJzd2l0Y2hlclwiOlwiQ2hhcnRzTGlzdF9fc3dpdGNoZXJcIixcImNoZWNrZWRcIjpcIkNoYXJ0c0xpc3RfX2NoZWNrZWRcIixcImJhY2tncm91bmRcIjpcIkNoYXJ0c0xpc3RfX2JhY2tncm91bmRcIixcImNoZWNrYm94XCI6XCJDaGFydHNMaXN0X19jaGVja2JveFwiLFwidGl0bGVcIjpcIkNoYXJ0c0xpc3RfX3RpdGxlXCIsXCJjb2xvcmVkVGl0bGVcIjpcIkNoYXJ0c0xpc3RfX2NvbG9yZWRUaXRsZVwiLFwid2hpdGVUaXRsZVwiOlwiQ2hhcnRzTGlzdF9fd2hpdGVUaXRsZVwifTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/ChartsList/ChartsList.styl\n");

/***/ }),

/***/ "./src/chart/ChartsList/index.js":
/*!***************************************!*\
  !*** ./src/chart/ChartsList/index.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ChartsList__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChartsList */ \"./src/chart/ChartsList/ChartsList.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _ChartsList__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvQ2hhcnRzTGlzdC9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9DaGFydHNMaXN0L2luZGV4LmpzP2JiMWUiXSwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQge2RlZmF1bHR9IGZyb20gJy4vQ2hhcnRzTGlzdCc7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/ChartsList/index.js\n");

/***/ }),

/***/ "./src/chart/DetailsPopup/DetailsPopup.js":
/*!************************************************!*\
  !*** ./src/chart/DetailsPopup/DetailsPopup.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers */ \"./src/chart/helpers.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/chart/constants.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helpers */ \"./src/chart/DetailsPopup/helpers.js\");\n/* harmony import */ var _DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DetailsPopup.styl */ \"./src/chart/DetailsPopup/DetailsPopup.styl\");\n/* harmony import */ var _DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n// import nextFrame from '../nextFrame';\n\n\n\nconst setSize = (node, store) => {\n    const {size: [, [width, height]]} = store;\n\n    node.style.width = `${width - (_constants__WEBPACK_IMPORTED_MODULE_1__[\"PADDING\"] * 2)}px`;\n    node.style.height = `${height}px`;\n};\n\nconst updatePopup = (\n    [popup, xValue, yValues],\n    {x, lines},\n    {lineIds, lineColors, lineNames, weekDetailed},\n    width, lineLeft, lineWidth,\n) => {\n    const date = new Date(x + _constants__WEBPACK_IMPORTED_MODULE_1__[\"TIMEZONE_OFFSET\"]);\n    // const dateText = date.toLocaleDateString('en-US', {month: 'short', day: 'numeric'});\n    const dateText = weekDetailed\n        ? `${Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"getDateString\"])(date)}, ${Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"getTimeString\"])(date)}`\n        : Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"getDateString\"])(date);\n\n    xValue.innerHTML = '';\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(xValue, document.createTextNode(dateText));\n\n    yValues.innerHTML = '';\n\n    lineIds.forEach((lineId) => {\n        const item = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_3___default.a.yItemValueLine);\n        item.style.color = lineColors[lineId];\n\n        const name = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_3___default.a.yItemName);\n        const value = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_3___default.a.yItemValue);\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(name, document.createTextNode(`${lineNames[lineId]}:`));\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(value, document.createTextNode(lines[lineId]));\n\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(item, name);\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(item, value);\n\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(yValues, item);\n    });\n\n    const popupWidth = popup.offsetWidth;\n\n    if (lineLeft - popupWidth - 10 < 0) {\n        popup.style.transform = `translate(${lineWidth + 7}px, 0)`;\n    } else {\n        popup.style.transform = `translate(-${popupWidth + 7}px, 0)`;\n    }\n\n    // if (lineLeft - (popupWidth / 2) - 10 < 0) {\n    //     popup.style.transform = `translate(${10 - lineLeft - PADDING}px, 0)`;\n    // } else if (lineLeft + (popupWidth / 2) - 10 > width - (PADDING * 2)) {\n    //     popup.style.transform = `translate(${width - lineLeft - popupWidth - (PADDING * 2) + 10}px, 0)`;\n    // } else {\n    //     popup.style.transform = 'translate(0, 0)';\n    // }\n};\n\nconst updateShadows = (shadows, width, lineLeft, lineWidth) => {\n    if (!shadows) {\n        return;\n    }\n\n    const [leftShadow, rightShadow] = shadows;\n\n    leftShadow.style.transform = `translate(${lineLeft + _constants__WEBPACK_IMPORTED_MODULE_1__[\"PADDING\"]}px, 0)`;\n\n    rightShadow.style.transform = `translate(-${width - lineLeft - lineWidth - _constants__WEBPACK_IMPORTED_MODULE_1__[\"PADDING\"]}px, 0)`;\n};\n\nconst updateMarksPosition = (store, point, marks) => {\n    const {lineIds, size: [, [, height]]} = store;\n\n    const setLineBottom = (viewBox, lineId) => {\n        const {maxY, minY} = viewBox;\n\n        const valueHeight = maxY - minY;\n\n        const y = point.lines[lineId];\n        const bottom = height * (y - minY) / valueHeight;\n\n        marks[lineId].style.transform = `translate(0, ${-bottom}px) scale(1, 1)`;\n    };\n\n    if (store.yScaled) {\n        const [firstLineId, secondLineId] = store.allLineIds;\n        if (lineIds.includes(firstLineId)) {\n            setLineBottom(store.viewBox.box, firstLineId);\n        }\n\n        if (lineIds.includes(secondLineId)) {\n            setLineBottom(store.secondaryViewBox.box, secondLineId);\n        }\n    } else {\n        lineIds.forEach(id => setLineBottom(store.viewBox.box, id));\n    }\n};\n\nconst createPopup = (root) => {\n    const popup = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_3___default.a.popup);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(root, popup);\n\n    const xValue = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_3___default.a.popupXValue);\n    const yValues = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_3___default.a.popupYValues);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(popup, xValue);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(popup, yValues);\n\n    return [popup, xValue, yValues];\n};\n\nconst createShadows = (node) => {\n    const shadows = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_3___default.a.shadows);\n\n    const leftShadow = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_3___default.a.leftShadow);\n    const rightShadow = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_3___default.a.rightShadow);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(shadows, leftShadow);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(shadows, rightShadow);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(node, shadows);\n\n    return [leftShadow, rightShadow, shadows];\n};\n\nconst createMarks = (store, line) => {\n    const {allLineIds, lineColors} = store;\n\n    const marks = allLineIds.reduce((acc, id) => {\n        const mark = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_3___default.a.mark);\n\n        mark.style.borderColor = lineColors[id];\n\n        if (!store.isLine) {\n            mark.style.display = 'none';\n        }\n\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(line, mark);\n\n        return Object.assign(acc, {[id]: mark});\n    }, {});\n\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"LINE_ON\"], lineId => (marks[lineId].style.display = 'block'));\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"LINE_OFF\"], lineId => (marks[lineId].style.display = 'none'));\n\n    return marks;\n};\n\nconst renderLine = (store, node) => {\n    const line = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_3___default.a.line);\n\n    let marks = null;\n\n    if (store.isLine) {\n        marks = createMarks(store, line);\n    }\n\n\n    const popup = createPopup(line);\n\n    const shadows = store.isBar ? createShadows(node) : null;\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(node, line);\n\n    return [line, marks, popup, shadows];\n};\n\nconst checkTarget = (ctx, event) => {\n    const {node, shadows} = ctx;\n    const {target} = event;\n\n    if (node === target) {\n        return true;\n    }\n\n    if (!shadows) {\n        return false;\n    }\n\n    return shadows.includes(target);\n};\n\nconst showMarks = (marks) => {\n    Object.entries(marks).forEach(([, mark]) => mark.style.display = 'block');\n};\nconst hideMarks = (marks) => {\n    Object.entries(marks).forEach(([, mark]) => mark.style.display = 'none');\n};\n\nclass Popup {\n    constructor(store) {\n        this.originalStore = store;\n        this.store = store;\n        this.node = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_3___default.a.root);\n        if (store.isBar) {\n            this.node.classList.add(_DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_3___default.a.isBar);\n        }\n        if (store.isLine) {\n            this.node.classList.add(_DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_3___default.a.isLine);\n        }\n\n        this.isTouchDevice = false;\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"withTheme\"])(store, this.node, _DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_3___default.a);\n\n        this.isVisible = false;\n        this.currentIndex = 0;\n\n        const [lineNode, marks, popup, shadows] = renderLine(store, this.node);\n\n        this.lineNode = lineNode;\n        this.marks = marks;\n        this.popup = popup;\n        this.shadows = shadows;\n        this.moving = false;\n\n        store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"CHANGE_SIZE\"], () => this.setSize());\n        store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"SHOW_SUB_STORE\"], () => this.onSubStore());\n\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"addEvent\"])(this.node, 'mousemove', event => this.startMove(event));\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"addEvent\"])(this.node, 'mouseenter', event => this.startMove(event));\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"addEvent\"])(window, 'touchstart', event => this.startMove(event));\n\n        this.initPopupHide();\n        this.initPointShow();\n    }\n\n    onSubStore() {\n        this.hide();\n\n        const {originalStore} = this;\n\n        if (originalStore.subStore) {\n            this.store = originalStore.subStore;\n\n            this.store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"CHANGE_SCALE\"], () => this.hide());\n        } else {\n            this.store = originalStore;\n        }\n\n        if (this.store.transformToLineChart) {\n            if (this.store.isLine) {\n                if (!this.marks) {\n                    this.marks = createMarks(this.store, this.lineNode);\n                }\n                showMarks(this.marks);\n\n                const [leftShadow, rightShadow] = this.shadows;\n\n                leftShadow.style.display = 'none';\n                rightShadow.style.display = 'none';\n            } else {\n                hideMarks(this.marks);\n\n                const [leftShadow, rightShadow] = this.shadows;\n\n                leftShadow.style.display = 'block';\n                rightShadow.style.display = 'block';\n            }\n        }\n    }\n\n    initPointShow() {\n        const {store, popup} = this;\n        const [popupNode] = popup;\n\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"addEvent\"])(this.node, 'click', (event) => {\n            event.isChartDetailsPopupClick = true;\n\n            if (!this.isTouchDevice) {\n                store.showPoint(this.currentIndex);\n            }\n        });\n\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"addEvent\"])(popupNode, 'click', () => store.showPoint(this.currentIndex));\n    }\n\n    initPopupHide() {\n        const {store} = this;\n\n        const hide = event => this.hide(event);\n\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"addEvent\"])(document.body, 'click', hide);\n        store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"LINE_ON\"], hide);\n        store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"LINE_OFF\"], hide);\n        store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"CHANGE_SCALE\"], hide);\n    }\n\n    startMove(event) {\n        if (this.store.isPie) {\n            return;\n        }\n        if (this.moving) {\n            return;\n        }\n\n        if (event.type === 'touchstart') {\n            this.isTouchDevice = true;\n        }\n\n        if (this.isTouchDevice && event.type === 'mouseenter') {\n            return;\n        }\n\n        // touchstart триггерим на window\n        if (!checkTarget(this, event)) {\n            return;\n        }\n\n        this.moving = true;\n\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_2__[\"preventDefault\"])(event);\n\n        const startCoords = [Object(_helpers__WEBPACK_IMPORTED_MODULE_2__[\"getClientX\"])(event), Object(_helpers__WEBPACK_IMPORTED_MODULE_2__[\"getClientY\"])(event)];\n\n        let checkingMoveDirection = true;\n        let triggerMoveTimeout = null;\n        let cancelMove = () => {};\n\n        const onMouseMove = (moveEvent) => {\n            if (triggerMoveTimeout) {\n                clearTimeout(triggerMoveTimeout);\n            }\n\n            if (checkingMoveDirection && Object(_helpers__WEBPACK_IMPORTED_MODULE_2__[\"isVerticalMove\"])(startCoords, [Object(_helpers__WEBPACK_IMPORTED_MODULE_2__[\"getClientX\"])(moveEvent), Object(_helpers__WEBPACK_IMPORTED_MODULE_2__[\"getClientY\"])(moveEvent)])) {\n                cancelMove(moveEvent);\n\n                return;\n            }\n\n            // если мы поняли что это не вертикальное движение - прекращаем проверять\n            if (checkingMoveDirection) {\n                checkingMoveDirection = false;\n                this.show();\n            }\n\n            // если кто-то по какой-то причине выключил попап - прекращаем отслеживать движение\n            if (!this.visible) {\n                cancelMove(moveEvent);\n\n                return;\n            }\n\n            Object(_helpers__WEBPACK_IMPORTED_MODULE_2__[\"preventDefault\"])(moveEvent);\n\n            this.updatePosition(moveEvent);\n        };\n\n        const clear = (clearEvent) => {\n            // если на таче просто убрали палец с экрана - не скрываем попап\n            if (clearEvent.type !== 'touchend') {\n                if (triggerMoveTimeout) {\n                    clearTimeout(triggerMoveTimeout);\n                }\n\n                this.hide();\n            }\n\n            this.moving = false;\n        };\n\n        // если это скролл движение или еще какое-то другое, этот таймаут отменится\n        triggerMoveTimeout = setTimeout(() => onMouseMove(event), 100);\n\n        cancelMove = Object(_helpers__WEBPACK_IMPORTED_MODULE_2__[\"startMove\"])(this.node, onMouseMove, clear, event);\n    }\n\n    updatePosition(event) {\n        const {store, node, lineNode, marks, popup} = this;\n        const {points, size: [, [width]], viewBox: {box}} = store;\n        let {scaleStartPoint, scaleEndPoint} = box;\n\n        if (store.isBar) {\n            scaleStartPoint -= 0.5;\n            scaleEndPoint += 0.5;\n        }\n\n        const indexWidth = scaleEndPoint - scaleStartPoint;\n\n        const index = Object(_helpers__WEBPACK_IMPORTED_MODULE_2__[\"getIndex\"])(node, store, event);\n\n        if (this.currentIndex === index) {\n            return;\n        }\n\n        const point = points[index];\n\n        let lineLeft = (width - (_constants__WEBPACK_IMPORTED_MODULE_1__[\"PADDING\"] * 2)) * (index - scaleStartPoint) / indexWidth;\n        let lineWidth = 1;\n\n        if (store.isBar) {\n            lineWidth = width / indexWidth;\n\n            lineNode.style.width = `${lineWidth}px`;\n\n            lineLeft -= (lineWidth / 2);\n\n            updateShadows(this.shadows, width, lineLeft, lineWidth);\n        }\n\n        lineNode.style.transform = `translate(${lineLeft}px, 0)`;\n\n        if (store.isLine) {\n            updateMarksPosition(store, point, marks);\n        }\n\n        updatePopup(popup, point, store, width, lineLeft, lineWidth);\n\n        this.currentIndex = index;\n    }\n\n    setSize() {\n        setSize(this.node, this.store);\n    }\n\n    show() {\n        if (this.visible) {\n            return;\n        }\n\n        this.visible = true;\n        this.node.classList.add(_DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_3___default.a.visible);\n    }\n\n    hide(event) {\n        if (!this.visible || (event && (event.isChangeThemeClick || event.isChartDetailsPopupClick))) {\n            return;\n        }\n\n        this.visible = false;\n        this.node.classList.remove(_DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_3___default.a.visible);\n    }\n}\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (store => new Popup(store));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvRGV0YWlsc1BvcHVwL0RldGFpbHNQb3B1cC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9EZXRhaWxzUG9wdXAvRGV0YWlsc1BvcHVwLmpzPzM5YWYiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQge2NyZWF0ZUVsZW1lbnQsIGFwcGVuZENoaWxkLCB3aXRoVGhlbWUsIGFkZEV2ZW50LCBnZXREYXRlU3RyaW5nLCBnZXRUaW1lU3RyaW5nfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCB7Q0hBTkdFX1NJWkUsIExJTkVfT04sIExJTkVfT0ZGLCBDSEFOR0VfU0NBTEUsIFBBRERJTkcsIFNIT1dfU1VCX1NUT1JFLCBUSU1FWk9ORV9PRkZTRVR9IGZyb20gJy4uL2NvbnN0YW50cyc7XG4vLyBpbXBvcnQgbmV4dEZyYW1lIGZyb20gJy4uL25leHRGcmFtZSc7XG5pbXBvcnQge2dldENsaWVudFgsIGdldENsaWVudFksIHN0YXJ0TW92ZSwgZ2V0SW5kZXgsIGlzVmVydGljYWxNb3ZlLCBwcmV2ZW50RGVmYXVsdH0gZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCBjc3MgZnJvbSAnLi9EZXRhaWxzUG9wdXAuc3R5bCc7XG5cbmNvbnN0IHNldFNpemUgPSAobm9kZSwgc3RvcmUpID0+IHtcbiAgICBjb25zdCB7c2l6ZTogWywgW3dpZHRoLCBoZWlnaHRdXX0gPSBzdG9yZTtcblxuICAgIG5vZGUuc3R5bGUud2lkdGggPSBgJHt3aWR0aCAtIChQQURESU5HICogMil9cHhgO1xuICAgIG5vZGUuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcbn07XG5cbmNvbnN0IHVwZGF0ZVBvcHVwID0gKFxuICAgIFtwb3B1cCwgeFZhbHVlLCB5VmFsdWVzXSxcbiAgICB7eCwgbGluZXN9LFxuICAgIHtsaW5lSWRzLCBsaW5lQ29sb3JzLCBsaW5lTmFtZXMsIHdlZWtEZXRhaWxlZH0sXG4gICAgd2lkdGgsIGxpbmVMZWZ0LCBsaW5lV2lkdGgsXG4pID0+IHtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoeCArIFRJTUVaT05FX09GRlNFVCk7XG4gICAgLy8gY29uc3QgZGF0ZVRleHQgPSBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCB7bW9udGg6ICdzaG9ydCcsIGRheTogJ251bWVyaWMnfSk7XG4gICAgY29uc3QgZGF0ZVRleHQgPSB3ZWVrRGV0YWlsZWRcbiAgICAgICAgPyBgJHtnZXREYXRlU3RyaW5nKGRhdGUpfSwgJHtnZXRUaW1lU3RyaW5nKGRhdGUpfWBcbiAgICAgICAgOiBnZXREYXRlU3RyaW5nKGRhdGUpO1xuXG4gICAgeFZhbHVlLmlubmVySFRNTCA9ICcnO1xuICAgIGFwcGVuZENoaWxkKHhWYWx1ZSwgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGF0ZVRleHQpKTtcblxuICAgIHlWYWx1ZXMuaW5uZXJIVE1MID0gJyc7XG5cbiAgICBsaW5lSWRzLmZvckVhY2goKGxpbmVJZCkgPT4ge1xuICAgICAgICBjb25zdCBpdGVtID0gY3JlYXRlRWxlbWVudChjc3MueUl0ZW1WYWx1ZUxpbmUpO1xuICAgICAgICBpdGVtLnN0eWxlLmNvbG9yID0gbGluZUNvbG9yc1tsaW5lSWRdO1xuXG4gICAgICAgIGNvbnN0IG5hbWUgPSBjcmVhdGVFbGVtZW50KGNzcy55SXRlbU5hbWUpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGNyZWF0ZUVsZW1lbnQoY3NzLnlJdGVtVmFsdWUpO1xuICAgICAgICBhcHBlbmRDaGlsZChuYW1lLCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShgJHtsaW5lTmFtZXNbbGluZUlkXX06YCkpO1xuICAgICAgICBhcHBlbmRDaGlsZCh2YWx1ZSwgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobGluZXNbbGluZUlkXSkpO1xuXG4gICAgICAgIGFwcGVuZENoaWxkKGl0ZW0sIG5hbWUpO1xuICAgICAgICBhcHBlbmRDaGlsZChpdGVtLCB2YWx1ZSk7XG5cbiAgICAgICAgYXBwZW5kQ2hpbGQoeVZhbHVlcywgaXRlbSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBwb3B1cFdpZHRoID0gcG9wdXAub2Zmc2V0V2lkdGg7XG5cbiAgICBpZiAobGluZUxlZnQgLSBwb3B1cFdpZHRoIC0gMTAgPCAwKSB7XG4gICAgICAgIHBvcHVwLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtsaW5lV2lkdGggKyA3fXB4LCAwKWA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcG9wdXAuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgtJHtwb3B1cFdpZHRoICsgN31weCwgMClgO1xuICAgIH1cblxuICAgIC8vIGlmIChsaW5lTGVmdCAtIChwb3B1cFdpZHRoIC8gMikgLSAxMCA8IDApIHtcbiAgICAvLyAgICAgcG9wdXAuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgkezEwIC0gbGluZUxlZnQgLSBQQURESU5HfXB4LCAwKWA7XG4gICAgLy8gfSBlbHNlIGlmIChsaW5lTGVmdCArIChwb3B1cFdpZHRoIC8gMikgLSAxMCA+IHdpZHRoIC0gKFBBRERJTkcgKiAyKSkge1xuICAgIC8vICAgICBwb3B1cC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7d2lkdGggLSBsaW5lTGVmdCAtIHBvcHVwV2lkdGggLSAoUEFERElORyAqIDIpICsgMTB9cHgsIDApYDtcbiAgICAvLyB9IGVsc2Uge1xuICAgIC8vICAgICBwb3B1cC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKDAsIDApJztcbiAgICAvLyB9XG59O1xuXG5jb25zdCB1cGRhdGVTaGFkb3dzID0gKHNoYWRvd3MsIHdpZHRoLCBsaW5lTGVmdCwgbGluZVdpZHRoKSA9PiB7XG4gICAgaWYgKCFzaGFkb3dzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBbbGVmdFNoYWRvdywgcmlnaHRTaGFkb3ddID0gc2hhZG93cztcblxuICAgIGxlZnRTaGFkb3cuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke2xpbmVMZWZ0ICsgUEFERElOR31weCwgMClgO1xuXG4gICAgcmlnaHRTaGFkb3cuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgtJHt3aWR0aCAtIGxpbmVMZWZ0IC0gbGluZVdpZHRoIC0gUEFERElOR31weCwgMClgO1xufTtcblxuY29uc3QgdXBkYXRlTWFya3NQb3NpdGlvbiA9IChzdG9yZSwgcG9pbnQsIG1hcmtzKSA9PiB7XG4gICAgY29uc3Qge2xpbmVJZHMsIHNpemU6IFssIFssIGhlaWdodF1dfSA9IHN0b3JlO1xuXG4gICAgY29uc3Qgc2V0TGluZUJvdHRvbSA9ICh2aWV3Qm94LCBsaW5lSWQpID0+IHtcbiAgICAgICAgY29uc3Qge21heFksIG1pbll9ID0gdmlld0JveDtcblxuICAgICAgICBjb25zdCB2YWx1ZUhlaWdodCA9IG1heFkgLSBtaW5ZO1xuXG4gICAgICAgIGNvbnN0IHkgPSBwb2ludC5saW5lc1tsaW5lSWRdO1xuICAgICAgICBjb25zdCBib3R0b20gPSBoZWlnaHQgKiAoeSAtIG1pblkpIC8gdmFsdWVIZWlnaHQ7XG5cbiAgICAgICAgbWFya3NbbGluZUlkXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDAsICR7LWJvdHRvbX1weCkgc2NhbGUoMSwgMSlgO1xuICAgIH07XG5cbiAgICBpZiAoc3RvcmUueVNjYWxlZCkge1xuICAgICAgICBjb25zdCBbZmlyc3RMaW5lSWQsIHNlY29uZExpbmVJZF0gPSBzdG9yZS5hbGxMaW5lSWRzO1xuICAgICAgICBpZiAobGluZUlkcy5pbmNsdWRlcyhmaXJzdExpbmVJZCkpIHtcbiAgICAgICAgICAgIHNldExpbmVCb3R0b20oc3RvcmUudmlld0JveC5ib3gsIGZpcnN0TGluZUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaW5lSWRzLmluY2x1ZGVzKHNlY29uZExpbmVJZCkpIHtcbiAgICAgICAgICAgIHNldExpbmVCb3R0b20oc3RvcmUuc2Vjb25kYXJ5Vmlld0JveC5ib3gsIHNlY29uZExpbmVJZCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBsaW5lSWRzLmZvckVhY2goaWQgPT4gc2V0TGluZUJvdHRvbShzdG9yZS52aWV3Qm94LmJveCwgaWQpKTtcbiAgICB9XG59O1xuXG5jb25zdCBjcmVhdGVQb3B1cCA9IChyb290KSA9PiB7XG4gICAgY29uc3QgcG9wdXAgPSBjcmVhdGVFbGVtZW50KGNzcy5wb3B1cCk7XG4gICAgYXBwZW5kQ2hpbGQocm9vdCwgcG9wdXApO1xuXG4gICAgY29uc3QgeFZhbHVlID0gY3JlYXRlRWxlbWVudChjc3MucG9wdXBYVmFsdWUpO1xuICAgIGNvbnN0IHlWYWx1ZXMgPSBjcmVhdGVFbGVtZW50KGNzcy5wb3B1cFlWYWx1ZXMpO1xuXG4gICAgYXBwZW5kQ2hpbGQocG9wdXAsIHhWYWx1ZSk7XG4gICAgYXBwZW5kQ2hpbGQocG9wdXAsIHlWYWx1ZXMpO1xuXG4gICAgcmV0dXJuIFtwb3B1cCwgeFZhbHVlLCB5VmFsdWVzXTtcbn07XG5cbmNvbnN0IGNyZWF0ZVNoYWRvd3MgPSAobm9kZSkgPT4ge1xuICAgIGNvbnN0IHNoYWRvd3MgPSBjcmVhdGVFbGVtZW50KGNzcy5zaGFkb3dzKTtcblxuICAgIGNvbnN0IGxlZnRTaGFkb3cgPSBjcmVhdGVFbGVtZW50KGNzcy5sZWZ0U2hhZG93KTtcbiAgICBjb25zdCByaWdodFNoYWRvdyA9IGNyZWF0ZUVsZW1lbnQoY3NzLnJpZ2h0U2hhZG93KTtcblxuICAgIGFwcGVuZENoaWxkKHNoYWRvd3MsIGxlZnRTaGFkb3cpO1xuICAgIGFwcGVuZENoaWxkKHNoYWRvd3MsIHJpZ2h0U2hhZG93KTtcbiAgICBhcHBlbmRDaGlsZChub2RlLCBzaGFkb3dzKTtcblxuICAgIHJldHVybiBbbGVmdFNoYWRvdywgcmlnaHRTaGFkb3csIHNoYWRvd3NdO1xufTtcblxuY29uc3QgY3JlYXRlTWFya3MgPSAoc3RvcmUsIGxpbmUpID0+IHtcbiAgICBjb25zdCB7YWxsTGluZUlkcywgbGluZUNvbG9yc30gPSBzdG9yZTtcblxuICAgIGNvbnN0IG1hcmtzID0gYWxsTGluZUlkcy5yZWR1Y2UoKGFjYywgaWQpID0+IHtcbiAgICAgICAgY29uc3QgbWFyayA9IGNyZWF0ZUVsZW1lbnQoY3NzLm1hcmspO1xuXG4gICAgICAgIG1hcmsuc3R5bGUuYm9yZGVyQ29sb3IgPSBsaW5lQ29sb3JzW2lkXTtcblxuICAgICAgICBpZiAoIXN0b3JlLmlzTGluZSkge1xuICAgICAgICAgICAgbWFyay5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgYXBwZW5kQ2hpbGQobGluZSwgbWFyayk7XG5cbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oYWNjLCB7W2lkXTogbWFya30pO1xuICAgIH0sIHt9KTtcblxuICAgIHN0b3JlLm9uKExJTkVfT04sIGxpbmVJZCA9PiAobWFya3NbbGluZUlkXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJykpO1xuICAgIHN0b3JlLm9uKExJTkVfT0ZGLCBsaW5lSWQgPT4gKG1hcmtzW2xpbmVJZF0uc3R5bGUuZGlzcGxheSA9ICdub25lJykpO1xuXG4gICAgcmV0dXJuIG1hcmtzO1xufTtcblxuY29uc3QgcmVuZGVyTGluZSA9IChzdG9yZSwgbm9kZSkgPT4ge1xuICAgIGNvbnN0IGxpbmUgPSBjcmVhdGVFbGVtZW50KGNzcy5saW5lKTtcblxuICAgIGxldCBtYXJrcyA9IG51bGw7XG5cbiAgICBpZiAoc3RvcmUuaXNMaW5lKSB7XG4gICAgICAgIG1hcmtzID0gY3JlYXRlTWFya3Moc3RvcmUsIGxpbmUpO1xuICAgIH1cblxuXG4gICAgY29uc3QgcG9wdXAgPSBjcmVhdGVQb3B1cChsaW5lKTtcblxuICAgIGNvbnN0IHNoYWRvd3MgPSBzdG9yZS5pc0JhciA/IGNyZWF0ZVNoYWRvd3Mobm9kZSkgOiBudWxsO1xuXG4gICAgYXBwZW5kQ2hpbGQobm9kZSwgbGluZSk7XG5cbiAgICByZXR1cm4gW2xpbmUsIG1hcmtzLCBwb3B1cCwgc2hhZG93c107XG59O1xuXG5jb25zdCBjaGVja1RhcmdldCA9IChjdHgsIGV2ZW50KSA9PiB7XG4gICAgY29uc3Qge25vZGUsIHNoYWRvd3N9ID0gY3R4O1xuICAgIGNvbnN0IHt0YXJnZXR9ID0gZXZlbnQ7XG5cbiAgICBpZiAobm9kZSA9PT0gdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICghc2hhZG93cykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNoYWRvd3MuaW5jbHVkZXModGFyZ2V0KTtcbn07XG5cbmNvbnN0IHNob3dNYXJrcyA9IChtYXJrcykgPT4ge1xuICAgIE9iamVjdC5lbnRyaWVzKG1hcmtzKS5mb3JFYWNoKChbLCBtYXJrXSkgPT4gbWFyay5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJyk7XG59O1xuY29uc3QgaGlkZU1hcmtzID0gKG1hcmtzKSA9PiB7XG4gICAgT2JqZWN0LmVudHJpZXMobWFya3MpLmZvckVhY2goKFssIG1hcmtdKSA9PiBtYXJrLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScpO1xufTtcblxuY2xhc3MgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHN0b3JlKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxTdG9yZSA9IHN0b3JlO1xuICAgICAgICB0aGlzLnN0b3JlID0gc3RvcmU7XG4gICAgICAgIHRoaXMubm9kZSA9IGNyZWF0ZUVsZW1lbnQoY3NzLnJvb3QpO1xuICAgICAgICBpZiAoc3RvcmUuaXNCYXIpIHtcbiAgICAgICAgICAgIHRoaXMubm9kZS5jbGFzc0xpc3QuYWRkKGNzcy5pc0Jhcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0b3JlLmlzTGluZSkge1xuICAgICAgICAgICAgdGhpcy5ub2RlLmNsYXNzTGlzdC5hZGQoY3NzLmlzTGluZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzVG91Y2hEZXZpY2UgPSBmYWxzZTtcbiAgICAgICAgd2l0aFRoZW1lKHN0b3JlLCB0aGlzLm5vZGUsIGNzcyk7XG5cbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSAwO1xuXG4gICAgICAgIGNvbnN0IFtsaW5lTm9kZSwgbWFya3MsIHBvcHVwLCBzaGFkb3dzXSA9IHJlbmRlckxpbmUoc3RvcmUsIHRoaXMubm9kZSk7XG5cbiAgICAgICAgdGhpcy5saW5lTm9kZSA9IGxpbmVOb2RlO1xuICAgICAgICB0aGlzLm1hcmtzID0gbWFya3M7XG4gICAgICAgIHRoaXMucG9wdXAgPSBwb3B1cDtcbiAgICAgICAgdGhpcy5zaGFkb3dzID0gc2hhZG93cztcbiAgICAgICAgdGhpcy5tb3ZpbmcgPSBmYWxzZTtcblxuICAgICAgICBzdG9yZS5vbihDSEFOR0VfU0laRSwgKCkgPT4gdGhpcy5zZXRTaXplKCkpO1xuICAgICAgICBzdG9yZS5vbihTSE9XX1NVQl9TVE9SRSwgKCkgPT4gdGhpcy5vblN1YlN0b3JlKCkpO1xuXG4gICAgICAgIGFkZEV2ZW50KHRoaXMubm9kZSwgJ21vdXNlbW92ZScsIGV2ZW50ID0+IHRoaXMuc3RhcnRNb3ZlKGV2ZW50KSk7XG4gICAgICAgIGFkZEV2ZW50KHRoaXMubm9kZSwgJ21vdXNlZW50ZXInLCBldmVudCA9PiB0aGlzLnN0YXJ0TW92ZShldmVudCkpO1xuICAgICAgICBhZGRFdmVudCh3aW5kb3csICd0b3VjaHN0YXJ0JywgZXZlbnQgPT4gdGhpcy5zdGFydE1vdmUoZXZlbnQpKTtcblxuICAgICAgICB0aGlzLmluaXRQb3B1cEhpZGUoKTtcbiAgICAgICAgdGhpcy5pbml0UG9pbnRTaG93KCk7XG4gICAgfVxuXG4gICAgb25TdWJTdG9yZSgpIHtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG5cbiAgICAgICAgY29uc3Qge29yaWdpbmFsU3RvcmV9ID0gdGhpcztcblxuICAgICAgICBpZiAob3JpZ2luYWxTdG9yZS5zdWJTdG9yZSkge1xuICAgICAgICAgICAgdGhpcy5zdG9yZSA9IG9yaWdpbmFsU3RvcmUuc3ViU3RvcmU7XG5cbiAgICAgICAgICAgIHRoaXMuc3RvcmUub24oQ0hBTkdFX1NDQUxFLCAoKSA9PiB0aGlzLmhpZGUoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlID0gb3JpZ2luYWxTdG9yZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnN0b3JlLnRyYW5zZm9ybVRvTGluZUNoYXJ0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdG9yZS5pc0xpbmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMubWFya3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXJrcyA9IGNyZWF0ZU1hcmtzKHRoaXMuc3RvcmUsIHRoaXMubGluZU5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzaG93TWFya3ModGhpcy5tYXJrcyk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBbbGVmdFNoYWRvdywgcmlnaHRTaGFkb3ddID0gdGhpcy5zaGFkb3dzO1xuXG4gICAgICAgICAgICAgICAgbGVmdFNoYWRvdy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIHJpZ2h0U2hhZG93LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhpZGVNYXJrcyh0aGlzLm1hcmtzKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IFtsZWZ0U2hhZG93LCByaWdodFNoYWRvd10gPSB0aGlzLnNoYWRvd3M7XG5cbiAgICAgICAgICAgICAgICBsZWZ0U2hhZG93LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIHJpZ2h0U2hhZG93LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW5pdFBvaW50U2hvdygpIHtcbiAgICAgICAgY29uc3Qge3N0b3JlLCBwb3B1cH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBbcG9wdXBOb2RlXSA9IHBvcHVwO1xuXG4gICAgICAgIGFkZEV2ZW50KHRoaXMubm9kZSwgJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5pc0NoYXJ0RGV0YWlsc1BvcHVwQ2xpY2sgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNUb3VjaERldmljZSkge1xuICAgICAgICAgICAgICAgIHN0b3JlLnNob3dQb2ludCh0aGlzLmN1cnJlbnRJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFkZEV2ZW50KHBvcHVwTm9kZSwgJ2NsaWNrJywgKCkgPT4gc3RvcmUuc2hvd1BvaW50KHRoaXMuY3VycmVudEluZGV4KSk7XG4gICAgfVxuXG4gICAgaW5pdFBvcHVwSGlkZSgpIHtcbiAgICAgICAgY29uc3Qge3N0b3JlfSA9IHRoaXM7XG5cbiAgICAgICAgY29uc3QgaGlkZSA9IGV2ZW50ID0+IHRoaXMuaGlkZShldmVudCk7XG5cbiAgICAgICAgYWRkRXZlbnQoZG9jdW1lbnQuYm9keSwgJ2NsaWNrJywgaGlkZSk7XG4gICAgICAgIHN0b3JlLm9uKExJTkVfT04sIGhpZGUpO1xuICAgICAgICBzdG9yZS5vbihMSU5FX09GRiwgaGlkZSk7XG4gICAgICAgIHN0b3JlLm9uKENIQU5HRV9TQ0FMRSwgaGlkZSk7XG4gICAgfVxuXG4gICAgc3RhcnRNb3ZlKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnN0b3JlLmlzUGllKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubW92aW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSB7XG4gICAgICAgICAgICB0aGlzLmlzVG91Y2hEZXZpY2UgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNUb3VjaERldmljZSAmJiBldmVudC50eXBlID09PSAnbW91c2VlbnRlcicpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvdWNoc3RhcnQg0YLRgNC40LPQs9C10YDQuNC8INC90LAgd2luZG93XG4gICAgICAgIGlmICghY2hlY2tUYXJnZXQodGhpcywgZXZlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1vdmluZyA9IHRydWU7XG5cbiAgICAgICAgcHJldmVudERlZmF1bHQoZXZlbnQpO1xuXG4gICAgICAgIGNvbnN0IHN0YXJ0Q29vcmRzID0gW2dldENsaWVudFgoZXZlbnQpLCBnZXRDbGllbnRZKGV2ZW50KV07XG5cbiAgICAgICAgbGV0IGNoZWNraW5nTW92ZURpcmVjdGlvbiA9IHRydWU7XG4gICAgICAgIGxldCB0cmlnZ2VyTW92ZVRpbWVvdXQgPSBudWxsO1xuICAgICAgICBsZXQgY2FuY2VsTW92ZSA9ICgpID0+IHt9O1xuXG4gICAgICAgIGNvbnN0IG9uTW91c2VNb3ZlID0gKG1vdmVFdmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRyaWdnZXJNb3ZlVGltZW91dCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0cmlnZ2VyTW92ZVRpbWVvdXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2hlY2tpbmdNb3ZlRGlyZWN0aW9uICYmIGlzVmVydGljYWxNb3ZlKHN0YXJ0Q29vcmRzLCBbZ2V0Q2xpZW50WChtb3ZlRXZlbnQpLCBnZXRDbGllbnRZKG1vdmVFdmVudCldKSkge1xuICAgICAgICAgICAgICAgIGNhbmNlbE1vdmUobW92ZUV2ZW50KTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8g0LXRgdC70Lgg0LzRiyDQv9C+0L3Rj9C70Lgg0YfRgtC+INGN0YLQviDQvdC1INCy0LXRgNGC0LjQutCw0LvRjNC90L7QtSDQtNCy0LjQttC10L3QuNC1IC0g0L/RgNC10LrRgNCw0YnQsNC10Lwg0L/RgNC+0LLQtdGA0Y/RgtGMXG4gICAgICAgICAgICBpZiAoY2hlY2tpbmdNb3ZlRGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2hlY2tpbmdNb3ZlRGlyZWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vINC10YHQu9C4INC60YLQvi3RgtC+INC/0L4g0LrQsNC60L7QuS3RgtC+INC/0YDQuNGH0LjQvdC1INCy0YvQutC70Y7Rh9C40Lsg0L/QvtC/0LDQvyAtINC/0YDQtdC60YDQsNGJ0LDQtdC8INC+0YLRgdC70LXQttC40LLQsNGC0Ywg0LTQstC40LbQtdC90LjQtVxuICAgICAgICAgICAgaWYgKCF0aGlzLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxNb3ZlKG1vdmVFdmVudCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KG1vdmVFdmVudCk7XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24obW92ZUV2ZW50KTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjbGVhciA9IChjbGVhckV2ZW50KSA9PiB7XG4gICAgICAgICAgICAvLyDQtdGB0LvQuCDQvdCwINGC0LDRh9C1INC/0YDQvtGB0YLQviDRg9Cx0YDQsNC70Lgg0L/QsNC70LXRhiDRgSDRjdC60YDQsNC90LAgLSDQvdC1INGB0LrRgNGL0LLQsNC10Lwg0L/QvtC/0LDQv1xuICAgICAgICAgICAgaWYgKGNsZWFyRXZlbnQudHlwZSAhPT0gJ3RvdWNoZW5kJykge1xuICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyTW92ZVRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRyaWdnZXJNb3ZlVGltZW91dCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubW92aW5nID0gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8g0LXRgdC70Lgg0Y3RgtC+INGB0LrRgNC+0LvQuyDQtNCy0LjQttC10L3QuNC1INC40LvQuCDQtdGJ0LUg0LrQsNC60L7QtS3RgtC+INC00YDRg9Cz0L7QtSwg0Y3RgtC+0YIg0YLQsNC50LzQsNGD0YIg0L7RgtC80LXQvdC40YLRgdGPXG4gICAgICAgIHRyaWdnZXJNb3ZlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gb25Nb3VzZU1vdmUoZXZlbnQpLCAxMDApO1xuXG4gICAgICAgIGNhbmNlbE1vdmUgPSBzdGFydE1vdmUodGhpcy5ub2RlLCBvbk1vdXNlTW92ZSwgY2xlYXIsIGV2ZW50KTtcbiAgICB9XG5cbiAgICB1cGRhdGVQb3NpdGlvbihldmVudCkge1xuICAgICAgICBjb25zdCB7c3RvcmUsIG5vZGUsIGxpbmVOb2RlLCBtYXJrcywgcG9wdXB9ID0gdGhpcztcbiAgICAgICAgY29uc3Qge3BvaW50cywgc2l6ZTogWywgW3dpZHRoXV0sIHZpZXdCb3g6IHtib3h9fSA9IHN0b3JlO1xuICAgICAgICBsZXQge3NjYWxlU3RhcnRQb2ludCwgc2NhbGVFbmRQb2ludH0gPSBib3g7XG5cbiAgICAgICAgaWYgKHN0b3JlLmlzQmFyKSB7XG4gICAgICAgICAgICBzY2FsZVN0YXJ0UG9pbnQgLT0gMC41O1xuICAgICAgICAgICAgc2NhbGVFbmRQb2ludCArPSAwLjU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbmRleFdpZHRoID0gc2NhbGVFbmRQb2ludCAtIHNjYWxlU3RhcnRQb2ludDtcblxuICAgICAgICBjb25zdCBpbmRleCA9IGdldEluZGV4KG5vZGUsIHN0b3JlLCBldmVudCk7XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEluZGV4ID09PSBpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaW5kZXhdO1xuXG4gICAgICAgIGxldCBsaW5lTGVmdCA9ICh3aWR0aCAtIChQQURESU5HICogMikpICogKGluZGV4IC0gc2NhbGVTdGFydFBvaW50KSAvIGluZGV4V2lkdGg7XG4gICAgICAgIGxldCBsaW5lV2lkdGggPSAxO1xuXG4gICAgICAgIGlmIChzdG9yZS5pc0Jhcikge1xuICAgICAgICAgICAgbGluZVdpZHRoID0gd2lkdGggLyBpbmRleFdpZHRoO1xuXG4gICAgICAgICAgICBsaW5lTm9kZS5zdHlsZS53aWR0aCA9IGAke2xpbmVXaWR0aH1weGA7XG5cbiAgICAgICAgICAgIGxpbmVMZWZ0IC09IChsaW5lV2lkdGggLyAyKTtcblxuICAgICAgICAgICAgdXBkYXRlU2hhZG93cyh0aGlzLnNoYWRvd3MsIHdpZHRoLCBsaW5lTGVmdCwgbGluZVdpZHRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxpbmVOb2RlLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtsaW5lTGVmdH1weCwgMClgO1xuXG4gICAgICAgIGlmIChzdG9yZS5pc0xpbmUpIHtcbiAgICAgICAgICAgIHVwZGF0ZU1hcmtzUG9zaXRpb24oc3RvcmUsIHBvaW50LCBtYXJrcyk7XG4gICAgICAgIH1cblxuICAgICAgICB1cGRhdGVQb3B1cChwb3B1cCwgcG9pbnQsIHN0b3JlLCB3aWR0aCwgbGluZUxlZnQsIGxpbmVXaWR0aCk7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBpbmRleDtcbiAgICB9XG5cbiAgICBzZXRTaXplKCkge1xuICAgICAgICBzZXRTaXplKHRoaXMubm9kZSwgdGhpcy5zdG9yZSk7XG4gICAgfVxuXG4gICAgc2hvdygpIHtcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ub2RlLmNsYXNzTGlzdC5hZGQoY3NzLnZpc2libGUpO1xuICAgIH1cblxuICAgIGhpZGUoZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgKGV2ZW50ICYmIChldmVudC5pc0NoYW5nZVRoZW1lQ2xpY2sgfHwgZXZlbnQuaXNDaGFydERldGFpbHNQb3B1cENsaWNrKSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm5vZGUuY2xhc3NMaXN0LnJlbW92ZShjc3MudmlzaWJsZSk7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IHN0b3JlID0+IG5ldyBQb3B1cChzdG9yZSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/chart/DetailsPopup/DetailsPopup.js\n");

/***/ }),

/***/ "./src/chart/DetailsPopup/DetailsPopup.styl":
/*!**************************************************!*\
  !*** ./src/chart/DetailsPopup/DetailsPopup.styl ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin\nmodule.exports = {\"theme_light\":\"DetailsPopup__theme_light\",\"line\":\"DetailsPopup__line\",\"mark\":\"DetailsPopup__mark\",\"popup\":\"DetailsPopup__popup\",\"popupXValue\":\"DetailsPopup__popupXValue\",\"yItemName\":\"DetailsPopup__yItemName\",\"theme_dark\":\"DetailsPopup__theme_dark\",\"root\":\"DetailsPopup__root\",\"visible\":\"DetailsPopup__visible\",\"yItemValueLine\":\"DetailsPopup__yItemValueLine\"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvRGV0YWlsc1BvcHVwL0RldGFpbHNQb3B1cC5zdHlsLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJ0L0RldGFpbHNQb3B1cC9EZXRhaWxzUG9wdXAuc3R5bD8zYTRjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInRoZW1lX2xpZ2h0XCI6XCJEZXRhaWxzUG9wdXBfX3RoZW1lX2xpZ2h0XCIsXCJsaW5lXCI6XCJEZXRhaWxzUG9wdXBfX2xpbmVcIixcIm1hcmtcIjpcIkRldGFpbHNQb3B1cF9fbWFya1wiLFwicG9wdXBcIjpcIkRldGFpbHNQb3B1cF9fcG9wdXBcIixcInBvcHVwWFZhbHVlXCI6XCJEZXRhaWxzUG9wdXBfX3BvcHVwWFZhbHVlXCIsXCJ5SXRlbU5hbWVcIjpcIkRldGFpbHNQb3B1cF9feUl0ZW1OYW1lXCIsXCJ0aGVtZV9kYXJrXCI6XCJEZXRhaWxzUG9wdXBfX3RoZW1lX2RhcmtcIixcInJvb3RcIjpcIkRldGFpbHNQb3B1cF9fcm9vdFwiLFwidmlzaWJsZVwiOlwiRGV0YWlsc1BvcHVwX192aXNpYmxlXCIsXCJ5SXRlbVZhbHVlTGluZVwiOlwiRGV0YWlsc1BvcHVwX195SXRlbVZhbHVlTGluZVwifTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/DetailsPopup/DetailsPopup.styl\n");

/***/ }),

/***/ "./src/chart/DetailsPopup/helpers.js":
/*!*******************************************!*\
  !*** ./src/chart/DetailsPopup/helpers.js ***!
  \*******************************************/
/*! exports provided: getClientX, getClientY, isVerticalMove, startMove, getIndex, preventDefault */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getClientX\", function() { return getClientX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getClientY\", function() { return getClientY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isVerticalMove\", function() { return isVerticalMove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"startMove\", function() { return startMove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getIndex\", function() { return getIndex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"preventDefault\", function() { return preventDefault; });\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers */ \"./src/chart/helpers.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/chart/constants.js\");\n/* harmony import */ var _DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DetailsPopup.styl */ \"./src/chart/DetailsPopup/DetailsPopup.styl\");\n/* harmony import */ var _DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_DetailsPopup_styl__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\n\nconst getClientX = (event) => {\n    const {type} = event;\n\n    if (type.startsWith('touch')) {\n        return event.touches[0].clientX;\n    }\n\n    return event.clientX;\n};\n\nconst getClientY = (event) => {\n    const {type} = event;\n\n    if (type.startsWith('touch')) {\n        return event.touches[0].clientY;\n    }\n\n    return event.clientY;\n};\n\nconst isVerticalMove = ([startClientX, startClientY], [clientX, clientY]) => (\n    Math.abs(startClientX - clientX) < Math.abs(startClientY - clientY)\n);\n\nconst startMove = (node, onMove, clear, event) => {\n    const cancelEvents = (cancelEvent) => {\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"removeEvent\"])(node, 'mousemove', onMove);\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"removeEvent\"])(window, 'touchmove', onMove);\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"removeEvent\"])(node, 'mouseleave', cancelEvents);\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"removeEvent\"])(window, 'touchend', cancelEvents);\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"removeEvent\"])(window, 'scroll', cancelEvents, true);\n        clear(cancelEvent);\n    };\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"addEvent\"])(node, 'mousemove', onMove);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"addEvent\"])(window, 'touchmove', onMove);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"addEvent\"])(node, 'mouseleave', cancelEvents);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"addEvent\"])(window, 'touchend', cancelEvents);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"addEvent\"])(window, 'scroll', cancelEvents, true);\n\n    return cancelEvents;\n};\n\nconst getIndex = (node, store, event) => {\n    const {points, size: [, [width]], viewBox: {box}} = store;\n\n    const {scaleStartPoint, scaleEndPoint} = box;\n\n    const indexWidth = scaleEndPoint - scaleStartPoint;\n    const {left: nodeLeft} = node.getBoundingClientRect();\n    const left = getClientX(event) - nodeLeft;\n\n    let index = Math.round(left * indexWidth / (width - (_constants__WEBPACK_IMPORTED_MODULE_1__[\"PADDING\"] * 2)) + scaleStartPoint);\n    index = Math.min(index, points.length - 1);\n    index = Math.max(index, 0);\n\n    return index;\n};\n\nconst preventDefault = event => event && event.type.startsWith('mouse') && event.preventDefault();\n\n// const SHOP_POPUP_TIMEOUT = 200;\n\n// const updatePopupThrottleTimeout = null;\n\n// const throttledUpdatePopup = (popup, point, store, width, lineLeft) => {\n//     const [popupNode] = popup;\n//     if (updatePopupThrottleTimeout === null) {\n//         popupNode.style.opacity = 0;\n//     } else {\n//         clearTimeout(updatePopupThrottleTimeout);\n//     }\n\n//     updatePopupThrottleTimeout = setTimeout(() => {\n//         updatePopupThrottleTimeout = null;\n//         popupNode.style.opacity = 1;\n\n//         nextFrame(() => updatePopup(popup, point, store, width, lineLeft));\n//     }, SHOP_POPUP_TIMEOUT);\n// };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvRGV0YWlsc1BvcHVwL2hlbHBlcnMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQvRGV0YWlsc1BvcHVwL2hlbHBlcnMuanM/MzkyNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7YWRkRXZlbnQsIHJlbW92ZUV2ZW50fSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCB7UEFERElOR30gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBjc3MgZnJvbSAnLi9EZXRhaWxzUG9wdXAuc3R5bCc7XG5cbmV4cG9ydCBjb25zdCBnZXRDbGllbnRYID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3Qge3R5cGV9ID0gZXZlbnQ7XG5cbiAgICBpZiAodHlwZS5zdGFydHNXaXRoKCd0b3VjaCcpKSB7XG4gICAgICAgIHJldHVybiBldmVudC50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV2ZW50LmNsaWVudFg7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q2xpZW50WSA9IChldmVudCkgPT4ge1xuICAgIGNvbnN0IHt0eXBlfSA9IGV2ZW50O1xuXG4gICAgaWYgKHR5cGUuc3RhcnRzV2l0aCgndG91Y2gnKSkge1xuICAgICAgICByZXR1cm4gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZO1xuICAgIH1cblxuICAgIHJldHVybiBldmVudC5jbGllbnRZO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzVmVydGljYWxNb3ZlID0gKFtzdGFydENsaWVudFgsIHN0YXJ0Q2xpZW50WV0sIFtjbGllbnRYLCBjbGllbnRZXSkgPT4gKFxuICAgIE1hdGguYWJzKHN0YXJ0Q2xpZW50WCAtIGNsaWVudFgpIDwgTWF0aC5hYnMoc3RhcnRDbGllbnRZIC0gY2xpZW50WSlcbik7XG5cbmV4cG9ydCBjb25zdCBzdGFydE1vdmUgPSAobm9kZSwgb25Nb3ZlLCBjbGVhciwgZXZlbnQpID0+IHtcbiAgICBjb25zdCBjYW5jZWxFdmVudHMgPSAoY2FuY2VsRXZlbnQpID0+IHtcbiAgICAgICAgcmVtb3ZlRXZlbnQobm9kZSwgJ21vdXNlbW92ZScsIG9uTW92ZSk7XG4gICAgICAgIHJlbW92ZUV2ZW50KHdpbmRvdywgJ3RvdWNobW92ZScsIG9uTW92ZSk7XG4gICAgICAgIHJlbW92ZUV2ZW50KG5vZGUsICdtb3VzZWxlYXZlJywgY2FuY2VsRXZlbnRzKTtcbiAgICAgICAgcmVtb3ZlRXZlbnQod2luZG93LCAndG91Y2hlbmQnLCBjYW5jZWxFdmVudHMpO1xuICAgICAgICByZW1vdmVFdmVudCh3aW5kb3csICdzY3JvbGwnLCBjYW5jZWxFdmVudHMsIHRydWUpO1xuICAgICAgICBjbGVhcihjYW5jZWxFdmVudCk7XG4gICAgfTtcblxuICAgIGFkZEV2ZW50KG5vZGUsICdtb3VzZW1vdmUnLCBvbk1vdmUpO1xuICAgIGFkZEV2ZW50KHdpbmRvdywgJ3RvdWNobW92ZScsIG9uTW92ZSk7XG4gICAgYWRkRXZlbnQobm9kZSwgJ21vdXNlbGVhdmUnLCBjYW5jZWxFdmVudHMpO1xuICAgIGFkZEV2ZW50KHdpbmRvdywgJ3RvdWNoZW5kJywgY2FuY2VsRXZlbnRzKTtcbiAgICBhZGRFdmVudCh3aW5kb3csICdzY3JvbGwnLCBjYW5jZWxFdmVudHMsIHRydWUpO1xuXG4gICAgcmV0dXJuIGNhbmNlbEV2ZW50cztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRJbmRleCA9IChub2RlLCBzdG9yZSwgZXZlbnQpID0+IHtcbiAgICBjb25zdCB7cG9pbnRzLCBzaXplOiBbLCBbd2lkdGhdXSwgdmlld0JveDoge2JveH19ID0gc3RvcmU7XG5cbiAgICBjb25zdCB7c2NhbGVTdGFydFBvaW50LCBzY2FsZUVuZFBvaW50fSA9IGJveDtcblxuICAgIGNvbnN0IGluZGV4V2lkdGggPSBzY2FsZUVuZFBvaW50IC0gc2NhbGVTdGFydFBvaW50O1xuICAgIGNvbnN0IHtsZWZ0OiBub2RlTGVmdH0gPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGxlZnQgPSBnZXRDbGllbnRYKGV2ZW50KSAtIG5vZGVMZWZ0O1xuXG4gICAgbGV0IGluZGV4ID0gTWF0aC5yb3VuZChsZWZ0ICogaW5kZXhXaWR0aCAvICh3aWR0aCAtIChQQURESU5HICogMikpICsgc2NhbGVTdGFydFBvaW50KTtcbiAgICBpbmRleCA9IE1hdGgubWluKGluZGV4LCBwb2ludHMubGVuZ3RoIC0gMSk7XG4gICAgaW5kZXggPSBNYXRoLm1heChpbmRleCwgMCk7XG5cbiAgICByZXR1cm4gaW5kZXg7XG59O1xuXG5leHBvcnQgY29uc3QgcHJldmVudERlZmF1bHQgPSBldmVudCA9PiBldmVudCAmJiBldmVudC50eXBlLnN0YXJ0c1dpdGgoJ21vdXNlJykgJiYgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuLy8gY29uc3QgU0hPUF9QT1BVUF9USU1FT1VUID0gMjAwO1xuXG4vLyBjb25zdCB1cGRhdGVQb3B1cFRocm90dGxlVGltZW91dCA9IG51bGw7XG5cbi8vIGNvbnN0IHRocm90dGxlZFVwZGF0ZVBvcHVwID0gKHBvcHVwLCBwb2ludCwgc3RvcmUsIHdpZHRoLCBsaW5lTGVmdCkgPT4ge1xuLy8gICAgIGNvbnN0IFtwb3B1cE5vZGVdID0gcG9wdXA7XG4vLyAgICAgaWYgKHVwZGF0ZVBvcHVwVGhyb3R0bGVUaW1lb3V0ID09PSBudWxsKSB7XG4vLyAgICAgICAgIHBvcHVwTm9kZS5zdHlsZS5vcGFjaXR5ID0gMDtcbi8vICAgICB9IGVsc2Uge1xuLy8gICAgICAgICBjbGVhclRpbWVvdXQodXBkYXRlUG9wdXBUaHJvdHRsZVRpbWVvdXQpO1xuLy8gICAgIH1cblxuLy8gICAgIHVwZGF0ZVBvcHVwVGhyb3R0bGVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4vLyAgICAgICAgIHVwZGF0ZVBvcHVwVGhyb3R0bGVUaW1lb3V0ID0gbnVsbDtcbi8vICAgICAgICAgcG9wdXBOb2RlLnN0eWxlLm9wYWNpdHkgPSAxO1xuXG4vLyAgICAgICAgIG5leHRGcmFtZSgoKSA9PiB1cGRhdGVQb3B1cChwb3B1cCwgcG9pbnQsIHN0b3JlLCB3aWR0aCwgbGluZUxlZnQpKTtcbi8vICAgICB9LCBTSE9QX1BPUFVQX1RJTUVPVVQpO1xuLy8gfTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/chart/DetailsPopup/helpers.js\n");

/***/ }),

/***/ "./src/chart/DetailsPopup/index.js":
/*!*****************************************!*\
  !*** ./src/chart/DetailsPopup/index.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _DetailsPopup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DetailsPopup */ \"./src/chart/DetailsPopup/DetailsPopup.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _DetailsPopup__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvRGV0YWlsc1BvcHVwL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJ0L0RldGFpbHNQb3B1cC9pbmRleC5qcz84ZWFhIl0sInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IHtkZWZhdWx0fSBmcm9tICcuL0RldGFpbHNQb3B1cCc7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/DetailsPopup/index.js\n");

/***/ }),

/***/ "./src/chart/EventEmitter.js":
/*!***********************************!*\
  !*** ./src/chart/EventEmitter.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\nclass EventEmitter {\n    constructor() {\n        this.lstnrs = {};\n    }\n\n    clearEventListeners() {\n        this.lstnrs = {};\n    }\n\n    on(event, listener) {\n        if (!this.lstnrs[event]) {\n            this.lstnrs[event] = [];\n        }\n\n        this.lstnrs[event].push(listener);\n    }\n\n    off(event, listener) {\n        const listeners = this.lstnrs[event];\n        if (!listeners) {\n            return;\n        }\n\n        for (let i = 0; i < listeners.length; i++) {\n            if (listeners[i] === listener) {\n                listeners.splice(i, 1);\n\n                return;\n            }\n        }\n    }\n\n    trigger(event, data) {\n        const listeners = this.lstnrs[event];\n\n        if (listeners) {\n            listeners.forEach(listener => listener(data));\n        }\n\n        const allEventsListeners = this.lstnrs['*'];\n\n        if (allEventsListeners) {\n            allEventsListeners.forEach(listener => listener(data, event));\n        }\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (EventEmitter);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvRXZlbnRFbWl0dGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJ0L0V2ZW50RW1pdHRlci5qcz9kMDhiIl0sInNvdXJjZXNDb250ZW50IjpbIlxuY2xhc3MgRXZlbnRFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5sc3RucnMgPSB7fTtcbiAgICB9XG5cbiAgICBjbGVhckV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLmxzdG5ycyA9IHt9O1xuICAgIH1cblxuICAgIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoIXRoaXMubHN0bnJzW2V2ZW50XSkge1xuICAgICAgICAgICAgdGhpcy5sc3RucnNbZXZlbnRdID0gW107XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxzdG5yc1tldmVudF0ucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmxzdG5yc1tldmVudF07XG4gICAgICAgIGlmICghbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyc1tpXSA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdHJpZ2dlcihldmVudCwgZGF0YSkge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmxzdG5yc1tldmVudF07XG5cbiAgICAgICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgICAgICAgbGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIoZGF0YSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYWxsRXZlbnRzTGlzdGVuZXJzID0gdGhpcy5sc3RucnNbJyonXTtcblxuICAgICAgICBpZiAoYWxsRXZlbnRzTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBhbGxFdmVudHNMaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcihkYXRhLCBldmVudCkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFdmVudEVtaXR0ZXI7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/EventEmitter.js\n");

/***/ }),

/***/ "./src/chart/Grid/Grid.js":
/*!********************************!*\
  !*** ./src/chart/Grid/Grid.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers */ \"./src/chart/helpers.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/chart/constants.js\");\n/* harmony import */ var _nextFrame__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../nextFrame */ \"./src/chart/nextFrame.js\");\n/* harmony import */ var _Grid_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Grid.styl */ \"./src/chart/Grid/Grid.styl\");\n/* harmony import */ var _Grid_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_Grid_styl__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\n\nconst setSize = (node, [, [width, height]]) => {\n    node.style.width = `${width}px`;\n    node.style.height = `${height}px`;\n};\n\nconst createNode = (store) => {\n    const node = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_Grid_styl__WEBPACK_IMPORTED_MODULE_3___default.a.grid);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"withTheme\"])(store, node, _Grid_styl__WEBPACK_IMPORTED_MODULE_3___default.a);\n\n    if (store.isArea) {\n        node.classList.add(_Grid_styl__WEBPACK_IMPORTED_MODULE_3___default.a.isArea);\n    }\n\n    if (store.yScaled) {\n        node.classList.add(_Grid_styl__WEBPACK_IMPORTED_MODULE_3___default.a.yScaled);\n    }\n\n    return node;\n};\n\nconst roundLabels = (labels, step) => {\n    const [, digit] = step.toExponential().split('e');\n\n    let roundCount = Math.round((1 / Number(`1e${digit}`)) * 10);\n\n    if (roundCount < 1) {\n        roundCount = 1;\n    }\n\n    return labels.map(label => Math.round(label * roundCount) / roundCount);\n};\n\nconst getLabels = (store) => {\n    const {minY, maxY, gridStep} = store.viewBox.box;\n    const [, [, height]] = store.size;\n\n    let max = maxY;\n\n    if (store.isArea) {\n        max += (maxY - minY) * (22 / height);\n    } else {\n        // на 22 пикселя меньше, чтобы линии не вылезали за границы\n        max -= (maxY - minY) * (22 / height);\n    }\n\n    const gridLabels = [];\n    let item = minY;\n\n    while (item < max) {\n        gridLabels.push(item);\n\n        item += gridStep;\n    }\n\n    return roundLabels(gridLabels, gridStep);\n};\n\nconst formatLabel = label => label;\n\nconst createItem = (store, root, label) => {\n    const node = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_Grid_styl__WEBPACK_IMPORTED_MODULE_3___default.a.gridLine);\n    const textNode = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_Grid_styl__WEBPACK_IMPORTED_MODULE_3___default.a.lineText);\n\n    const text = document.createTextNode(formatLabel(label));\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(textNode, text);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(node, textNode);\n\n    // node.style.display = 'none';\n    // node.style.opacity = 0;\n\n    // appendChild(root, node);\n\n    if (store.yScaled) {\n        const secondaryTextNode = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_Grid_styl__WEBPACK_IMPORTED_MODULE_3___default.a.lineText);\n        const secondaryText = document.createTextNode('');\n\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(secondaryTextNode, secondaryText);\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(node, secondaryTextNode);\n\n        const [mainLineId, secondaryLineId] = store.allLineIds;\n\n        textNode.style.color = store.lineColors[mainLineId];\n        secondaryTextNode.style.color = store.lineColors[secondaryLineId];\n\n        return {label, node, secondaryText};\n    }\n\n    return {label, node};\n};\n\nconst removeLabel = (store, node, activeLabels, labelCache, label) => {\n    const item = labelCache[label];\n\n    if (!item) {\n        return;\n    }\n\n    if (item.removeTimeout) {\n        return;\n    }\n\n    item.node.style.opacity = 0;\n\n    item.removeTimeout = setTimeout(() => Object(_nextFrame__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(() => {\n        // если за время от тика таймаута до nextFrame кто-то решил показать элемент - не убираем его\n        if (!item.removeTimeout) {\n            return;\n        }\n\n        const indexOfLabel = activeLabels.indexOf(label);\n\n        if (indexOfLabel !== -1) {\n            activeLabels.splice(indexOfLabel, 1);\n        }\n\n        if (node.contains(item.node)) {\n            node.removeChild(item.node);\n        }\n\n        // item.node.style.display = 'none';\n\n        item.removeTimeout = null;\n    }), 300);\n};\n\nconst addLabel = (store, node, activeLabels, labelCache, label) => {\n    const item = labelCache[label] || (labelCache[label] = createItem(store, node, label));\n\n    if (item.removeTimeout) {\n        clearTimeout(item.removeTimeout);\n\n        item.node.style.opacity = 1;\n\n        item.removeTimeout = null;\n    }\n\n    if (activeLabels.includes(label)) {\n        return;\n    }\n\n    activeLabels.push(label);\n\n    node.appendChild(item.node);\n    // item.node.style.display = store.yScaled ? 'flex' : 'block';\n\n    Object(_nextFrame__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(() => {\n        if (!item.removeTimeout) {\n            item.node.style.opacity = 1;\n        }\n    });\n};\n\nconst updatePositions = (store, activeLabels, labelCache) => {\n    const [, [, height]] = store.size;\n    const {minY, maxY} = store.viewBox.animationBox;\n    const scaleHeight = maxY - minY;\n    const factor = height / scaleHeight;\n\n    for (let i = 0; i < activeLabels.length; i++) {\n        const item = labelCache[activeLabels[i]];\n\n        if (!item) {\n            continue;\n        }\n\n        const position = factor * (item.label - minY);\n\n        item.node.style.transform = `translate(0, ${-position}px)`;\n    }\n};\n\nconst updateSecondaryLineValues = (store, activeLabels, labelCache) => {\n    const {minY, maxY} = store.viewBox.box;\n    const {minY: secondaryMinY, maxY: secondaryMaxY} = store.secondaryViewBox.box;\n    const factor = (secondaryMaxY - secondaryMinY) / (maxY - minY);\n\n    for (let i = 0; i < activeLabels.length; i++) {\n        const {label, secondaryText} = labelCache[activeLabels[i]];\n\n        secondaryText.nodeValue = formatLabel(Math.round((label - minY) * factor + secondaryMinY));\n    }\n};\n\nconst updateGrid = (store, node, labelCache, activeLabels) => {\n    const newLabels = getLabels(store);\n\n    const labelsToRemove = [];\n\n    for (let i = 0; i < activeLabels.length; i++) {\n        const label = activeLabels[i];\n\n        if (!newLabels.includes(label)) {\n            labelsToRemove.push(label);\n        }\n    }\n\n    for (let i = 0; i < labelsToRemove.length; i++) {\n        removeLabel(store, node, activeLabels, labelCache, labelsToRemove[i]);\n    }\n\n    for (let i = 0; i < newLabels.length; i++) {\n        addLabel(store, node, activeLabels, labelCache, newLabels[i]);\n    }\n\n    updatePositions(store, activeLabels, labelCache);\n\n    if (store.yScaled) {\n        updateSecondaryLineValues(store, activeLabels, labelCache);\n    }\n\n    // console.log(Object.keys(labelCache).length);\n};\n\nconst toggleLines = (store, node, lineId) => {\n    if (store.yScaled) {\n        const [mainLineId, secondaryLineId] = store.allLineIds;\n\n        if (lineId === mainLineId) {\n            node.classList.toggle(_Grid_styl__WEBPACK_IMPORTED_MODULE_3___default.a.mainLineOff);\n        }\n        if (lineId === secondaryLineId) {\n            node.classList.toggle(_Grid_styl__WEBPACK_IMPORTED_MODULE_3___default.a.secondaryLineOff);\n        }\n    }\n};\n\nconst Grid = (store) => {\n    const node = createNode(store);\n\n    const labelCache = {};\n    const activeLabels = [];\n\n    const update = () => updateGrid(store.subStore || store, node, labelCache, activeLabels);\n\n    const toggleLine = (lineId) => {\n        toggleLines(store, node, lineId);\n\n        update();\n    };\n\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"CHANGE_SIZE\"], (size) => { setSize(node, size); update(); });\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"LINE_ON\"], toggleLine);\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"LINE_OFF\"], toggleLine);\n    store.viewBox.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"ANIMATE_VIEW_BOX\"], update);\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"SHOW_SUB_STORE\"], () => {\n        if (store.subStore) {\n            store.subStore.viewBox.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"ANIMATE_VIEW_BOX\"], update);\n\n            if (store.subStore.isPie) {\n                node.style.opacity = 0;\n            } else {\n                node.style.opacity = 1;\n            }\n        } else {\n            node.style.opacity = 1;\n        }\n    });\n\n    return {node};\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Grid);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvR3JpZC9HcmlkLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJ0L0dyaWQvR3JpZC5qcz9jMTJiIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHtjcmVhdGVFbGVtZW50LCBhcHBlbmRDaGlsZCwgd2l0aFRoZW1lfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCB7Q0hBTkdFX1NJWkUsIEFOSU1BVEVfVklFV19CT1gsIExJTkVfT04sIExJTkVfT0ZGLCBTSE9XX1NVQl9TVE9SRX0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBuZXh0RnJhbWUgZnJvbSAnLi4vbmV4dEZyYW1lJztcbmltcG9ydCBjc3MgZnJvbSAnLi9HcmlkLnN0eWwnO1xuXG5jb25zdCBzZXRTaXplID0gKG5vZGUsIFssIFt3aWR0aCwgaGVpZ2h0XV0pID0+IHtcbiAgICBub2RlLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICAgIG5vZGUuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcbn07XG5cbmNvbnN0IGNyZWF0ZU5vZGUgPSAoc3RvcmUpID0+IHtcbiAgICBjb25zdCBub2RlID0gY3JlYXRlRWxlbWVudChjc3MuZ3JpZCk7XG4gICAgd2l0aFRoZW1lKHN0b3JlLCBub2RlLCBjc3MpO1xuXG4gICAgaWYgKHN0b3JlLmlzQXJlYSkge1xuICAgICAgICBub2RlLmNsYXNzTGlzdC5hZGQoY3NzLmlzQXJlYSk7XG4gICAgfVxuXG4gICAgaWYgKHN0b3JlLnlTY2FsZWQpIHtcbiAgICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKGNzcy55U2NhbGVkKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbn07XG5cbmNvbnN0IHJvdW5kTGFiZWxzID0gKGxhYmVscywgc3RlcCkgPT4ge1xuICAgIGNvbnN0IFssIGRpZ2l0XSA9IHN0ZXAudG9FeHBvbmVudGlhbCgpLnNwbGl0KCdlJyk7XG5cbiAgICBsZXQgcm91bmRDb3VudCA9IE1hdGgucm91bmQoKDEgLyBOdW1iZXIoYDFlJHtkaWdpdH1gKSkgKiAxMCk7XG5cbiAgICBpZiAocm91bmRDb3VudCA8IDEpIHtcbiAgICAgICAgcm91bmRDb3VudCA9IDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhYmVscy5tYXAobGFiZWwgPT4gTWF0aC5yb3VuZChsYWJlbCAqIHJvdW5kQ291bnQpIC8gcm91bmRDb3VudCk7XG59O1xuXG5jb25zdCBnZXRMYWJlbHMgPSAoc3RvcmUpID0+IHtcbiAgICBjb25zdCB7bWluWSwgbWF4WSwgZ3JpZFN0ZXB9ID0gc3RvcmUudmlld0JveC5ib3g7XG4gICAgY29uc3QgWywgWywgaGVpZ2h0XV0gPSBzdG9yZS5zaXplO1xuXG4gICAgbGV0IG1heCA9IG1heFk7XG5cbiAgICBpZiAoc3RvcmUuaXNBcmVhKSB7XG4gICAgICAgIG1heCArPSAobWF4WSAtIG1pblkpICogKDIyIC8gaGVpZ2h0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyDQvdCwIDIyINC/0LjQutGB0LXQu9GPINC80LXQvdGM0YjQtSwg0YfRgtC+0LHRiyDQu9C40L3QuNC4INC90LUg0LLRi9C70LXQt9Cw0LvQuCDQt9CwINCz0YDQsNC90LjRhtGLXG4gICAgICAgIG1heCAtPSAobWF4WSAtIG1pblkpICogKDIyIC8gaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBjb25zdCBncmlkTGFiZWxzID0gW107XG4gICAgbGV0IGl0ZW0gPSBtaW5ZO1xuXG4gICAgd2hpbGUgKGl0ZW0gPCBtYXgpIHtcbiAgICAgICAgZ3JpZExhYmVscy5wdXNoKGl0ZW0pO1xuXG4gICAgICAgIGl0ZW0gKz0gZ3JpZFN0ZXA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJvdW5kTGFiZWxzKGdyaWRMYWJlbHMsIGdyaWRTdGVwKTtcbn07XG5cbmNvbnN0IGZvcm1hdExhYmVsID0gbGFiZWwgPT4gbGFiZWw7XG5cbmNvbnN0IGNyZWF0ZUl0ZW0gPSAoc3RvcmUsIHJvb3QsIGxhYmVsKSA9PiB7XG4gICAgY29uc3Qgbm9kZSA9IGNyZWF0ZUVsZW1lbnQoY3NzLmdyaWRMaW5lKTtcbiAgICBjb25zdCB0ZXh0Tm9kZSA9IGNyZWF0ZUVsZW1lbnQoY3NzLmxpbmVUZXh0KTtcblxuICAgIGNvbnN0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShmb3JtYXRMYWJlbChsYWJlbCkpO1xuXG4gICAgYXBwZW5kQ2hpbGQodGV4dE5vZGUsIHRleHQpO1xuICAgIGFwcGVuZENoaWxkKG5vZGUsIHRleHROb2RlKTtcblxuICAgIC8vIG5vZGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAvLyBub2RlLnN0eWxlLm9wYWNpdHkgPSAwO1xuXG4gICAgLy8gYXBwZW5kQ2hpbGQocm9vdCwgbm9kZSk7XG5cbiAgICBpZiAoc3RvcmUueVNjYWxlZCkge1xuICAgICAgICBjb25zdCBzZWNvbmRhcnlUZXh0Tm9kZSA9IGNyZWF0ZUVsZW1lbnQoY3NzLmxpbmVUZXh0KTtcbiAgICAgICAgY29uc3Qgc2Vjb25kYXJ5VGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcblxuICAgICAgICBhcHBlbmRDaGlsZChzZWNvbmRhcnlUZXh0Tm9kZSwgc2Vjb25kYXJ5VGV4dCk7XG4gICAgICAgIGFwcGVuZENoaWxkKG5vZGUsIHNlY29uZGFyeVRleHROb2RlKTtcblxuICAgICAgICBjb25zdCBbbWFpbkxpbmVJZCwgc2Vjb25kYXJ5TGluZUlkXSA9IHN0b3JlLmFsbExpbmVJZHM7XG5cbiAgICAgICAgdGV4dE5vZGUuc3R5bGUuY29sb3IgPSBzdG9yZS5saW5lQ29sb3JzW21haW5MaW5lSWRdO1xuICAgICAgICBzZWNvbmRhcnlUZXh0Tm9kZS5zdHlsZS5jb2xvciA9IHN0b3JlLmxpbmVDb2xvcnNbc2Vjb25kYXJ5TGluZUlkXTtcblxuICAgICAgICByZXR1cm4ge2xhYmVsLCBub2RlLCBzZWNvbmRhcnlUZXh0fTtcbiAgICB9XG5cbiAgICByZXR1cm4ge2xhYmVsLCBub2RlfTtcbn07XG5cbmNvbnN0IHJlbW92ZUxhYmVsID0gKHN0b3JlLCBub2RlLCBhY3RpdmVMYWJlbHMsIGxhYmVsQ2FjaGUsIGxhYmVsKSA9PiB7XG4gICAgY29uc3QgaXRlbSA9IGxhYmVsQ2FjaGVbbGFiZWxdO1xuXG4gICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXRlbS5yZW1vdmVUaW1lb3V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpdGVtLm5vZGUuc3R5bGUub3BhY2l0eSA9IDA7XG5cbiAgICBpdGVtLnJlbW92ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IG5leHRGcmFtZSgoKSA9PiB7XG4gICAgICAgIC8vINC10YHQu9C4INC30LAg0LLRgNC10LzRjyDQvtGCINGC0LjQutCwINGC0LDQudC80LDRg9GC0LAg0LTQviBuZXh0RnJhbWUg0LrRgtC+LdGC0L4g0YDQtdGI0LjQuyDQv9C+0LrQsNC30LDRgtGMINGN0LvQtdC80LXQvdGCIC0g0L3QtSDRg9Cx0LjRgNCw0LXQvCDQtdCz0L5cbiAgICAgICAgaWYgKCFpdGVtLnJlbW92ZVRpbWVvdXQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGluZGV4T2ZMYWJlbCA9IGFjdGl2ZUxhYmVscy5pbmRleE9mKGxhYmVsKTtcblxuICAgICAgICBpZiAoaW5kZXhPZkxhYmVsICE9PSAtMSkge1xuICAgICAgICAgICAgYWN0aXZlTGFiZWxzLnNwbGljZShpbmRleE9mTGFiZWwsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5vZGUuY29udGFpbnMoaXRlbS5ub2RlKSkge1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVDaGlsZChpdGVtLm5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaXRlbS5ub2RlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgaXRlbS5yZW1vdmVUaW1lb3V0ID0gbnVsbDtcbiAgICB9KSwgMzAwKTtcbn07XG5cbmNvbnN0IGFkZExhYmVsID0gKHN0b3JlLCBub2RlLCBhY3RpdmVMYWJlbHMsIGxhYmVsQ2FjaGUsIGxhYmVsKSA9PiB7XG4gICAgY29uc3QgaXRlbSA9IGxhYmVsQ2FjaGVbbGFiZWxdIHx8IChsYWJlbENhY2hlW2xhYmVsXSA9IGNyZWF0ZUl0ZW0oc3RvcmUsIG5vZGUsIGxhYmVsKSk7XG5cbiAgICBpZiAoaXRlbS5yZW1vdmVUaW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dChpdGVtLnJlbW92ZVRpbWVvdXQpO1xuXG4gICAgICAgIGl0ZW0ubm9kZS5zdHlsZS5vcGFjaXR5ID0gMTtcblxuICAgICAgICBpdGVtLnJlbW92ZVRpbWVvdXQgPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChhY3RpdmVMYWJlbHMuaW5jbHVkZXMobGFiZWwpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhY3RpdmVMYWJlbHMucHVzaChsYWJlbCk7XG5cbiAgICBub2RlLmFwcGVuZENoaWxkKGl0ZW0ubm9kZSk7XG4gICAgLy8gaXRlbS5ub2RlLnN0eWxlLmRpc3BsYXkgPSBzdG9yZS55U2NhbGVkID8gJ2ZsZXgnIDogJ2Jsb2NrJztcblxuICAgIG5leHRGcmFtZSgoKSA9PiB7XG4gICAgICAgIGlmICghaXRlbS5yZW1vdmVUaW1lb3V0KSB7XG4gICAgICAgICAgICBpdGVtLm5vZGUuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmNvbnN0IHVwZGF0ZVBvc2l0aW9ucyA9IChzdG9yZSwgYWN0aXZlTGFiZWxzLCBsYWJlbENhY2hlKSA9PiB7XG4gICAgY29uc3QgWywgWywgaGVpZ2h0XV0gPSBzdG9yZS5zaXplO1xuICAgIGNvbnN0IHttaW5ZLCBtYXhZfSA9IHN0b3JlLnZpZXdCb3guYW5pbWF0aW9uQm94O1xuICAgIGNvbnN0IHNjYWxlSGVpZ2h0ID0gbWF4WSAtIG1pblk7XG4gICAgY29uc3QgZmFjdG9yID0gaGVpZ2h0IC8gc2NhbGVIZWlnaHQ7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFjdGl2ZUxhYmVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBpdGVtID0gbGFiZWxDYWNoZVthY3RpdmVMYWJlbHNbaV1dO1xuXG4gICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGZhY3RvciAqIChpdGVtLmxhYmVsIC0gbWluWSk7XG5cbiAgICAgICAgaXRlbS5ub2RlLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoMCwgJHstcG9zaXRpb259cHgpYDtcbiAgICB9XG59O1xuXG5jb25zdCB1cGRhdGVTZWNvbmRhcnlMaW5lVmFsdWVzID0gKHN0b3JlLCBhY3RpdmVMYWJlbHMsIGxhYmVsQ2FjaGUpID0+IHtcbiAgICBjb25zdCB7bWluWSwgbWF4WX0gPSBzdG9yZS52aWV3Qm94LmJveDtcbiAgICBjb25zdCB7bWluWTogc2Vjb25kYXJ5TWluWSwgbWF4WTogc2Vjb25kYXJ5TWF4WX0gPSBzdG9yZS5zZWNvbmRhcnlWaWV3Qm94LmJveDtcbiAgICBjb25zdCBmYWN0b3IgPSAoc2Vjb25kYXJ5TWF4WSAtIHNlY29uZGFyeU1pblkpIC8gKG1heFkgLSBtaW5ZKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aXZlTGFiZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHtsYWJlbCwgc2Vjb25kYXJ5VGV4dH0gPSBsYWJlbENhY2hlW2FjdGl2ZUxhYmVsc1tpXV07XG5cbiAgICAgICAgc2Vjb25kYXJ5VGV4dC5ub2RlVmFsdWUgPSBmb3JtYXRMYWJlbChNYXRoLnJvdW5kKChsYWJlbCAtIG1pblkpICogZmFjdG9yICsgc2Vjb25kYXJ5TWluWSkpO1xuICAgIH1cbn07XG5cbmNvbnN0IHVwZGF0ZUdyaWQgPSAoc3RvcmUsIG5vZGUsIGxhYmVsQ2FjaGUsIGFjdGl2ZUxhYmVscykgPT4ge1xuICAgIGNvbnN0IG5ld0xhYmVscyA9IGdldExhYmVscyhzdG9yZSk7XG5cbiAgICBjb25zdCBsYWJlbHNUb1JlbW92ZSA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhY3RpdmVMYWJlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBhY3RpdmVMYWJlbHNbaV07XG5cbiAgICAgICAgaWYgKCFuZXdMYWJlbHMuaW5jbHVkZXMobGFiZWwpKSB7XG4gICAgICAgICAgICBsYWJlbHNUb1JlbW92ZS5wdXNoKGxhYmVsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFiZWxzVG9SZW1vdmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVtb3ZlTGFiZWwoc3RvcmUsIG5vZGUsIGFjdGl2ZUxhYmVscywgbGFiZWxDYWNoZSwgbGFiZWxzVG9SZW1vdmVbaV0pO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3TGFiZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFkZExhYmVsKHN0b3JlLCBub2RlLCBhY3RpdmVMYWJlbHMsIGxhYmVsQ2FjaGUsIG5ld0xhYmVsc1tpXSk7XG4gICAgfVxuXG4gICAgdXBkYXRlUG9zaXRpb25zKHN0b3JlLCBhY3RpdmVMYWJlbHMsIGxhYmVsQ2FjaGUpO1xuXG4gICAgaWYgKHN0b3JlLnlTY2FsZWQpIHtcbiAgICAgICAgdXBkYXRlU2Vjb25kYXJ5TGluZVZhbHVlcyhzdG9yZSwgYWN0aXZlTGFiZWxzLCBsYWJlbENhY2hlKTtcbiAgICB9XG5cbiAgICAvLyBjb25zb2xlLmxvZyhPYmplY3Qua2V5cyhsYWJlbENhY2hlKS5sZW5ndGgpO1xufTtcblxuY29uc3QgdG9nZ2xlTGluZXMgPSAoc3RvcmUsIG5vZGUsIGxpbmVJZCkgPT4ge1xuICAgIGlmIChzdG9yZS55U2NhbGVkKSB7XG4gICAgICAgIGNvbnN0IFttYWluTGluZUlkLCBzZWNvbmRhcnlMaW5lSWRdID0gc3RvcmUuYWxsTGluZUlkcztcblxuICAgICAgICBpZiAobGluZUlkID09PSBtYWluTGluZUlkKSB7XG4gICAgICAgICAgICBub2RlLmNsYXNzTGlzdC50b2dnbGUoY3NzLm1haW5MaW5lT2ZmKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGluZUlkID09PSBzZWNvbmRhcnlMaW5lSWQpIHtcbiAgICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LnRvZ2dsZShjc3Muc2Vjb25kYXJ5TGluZU9mZik7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5jb25zdCBHcmlkID0gKHN0b3JlKSA9PiB7XG4gICAgY29uc3Qgbm9kZSA9IGNyZWF0ZU5vZGUoc3RvcmUpO1xuXG4gICAgY29uc3QgbGFiZWxDYWNoZSA9IHt9O1xuICAgIGNvbnN0IGFjdGl2ZUxhYmVscyA9IFtdO1xuXG4gICAgY29uc3QgdXBkYXRlID0gKCkgPT4gdXBkYXRlR3JpZChzdG9yZS5zdWJTdG9yZSB8fCBzdG9yZSwgbm9kZSwgbGFiZWxDYWNoZSwgYWN0aXZlTGFiZWxzKTtcblxuICAgIGNvbnN0IHRvZ2dsZUxpbmUgPSAobGluZUlkKSA9PiB7XG4gICAgICAgIHRvZ2dsZUxpbmVzKHN0b3JlLCBub2RlLCBsaW5lSWQpO1xuXG4gICAgICAgIHVwZGF0ZSgpO1xuICAgIH07XG5cbiAgICBzdG9yZS5vbihDSEFOR0VfU0laRSwgKHNpemUpID0+IHsgc2V0U2l6ZShub2RlLCBzaXplKTsgdXBkYXRlKCk7IH0pO1xuICAgIHN0b3JlLm9uKExJTkVfT04sIHRvZ2dsZUxpbmUpO1xuICAgIHN0b3JlLm9uKExJTkVfT0ZGLCB0b2dnbGVMaW5lKTtcbiAgICBzdG9yZS52aWV3Qm94Lm9uKEFOSU1BVEVfVklFV19CT1gsIHVwZGF0ZSk7XG4gICAgc3RvcmUub24oU0hPV19TVUJfU1RPUkUsICgpID0+IHtcbiAgICAgICAgaWYgKHN0b3JlLnN1YlN0b3JlKSB7XG4gICAgICAgICAgICBzdG9yZS5zdWJTdG9yZS52aWV3Qm94Lm9uKEFOSU1BVEVfVklFV19CT1gsIHVwZGF0ZSk7XG5cbiAgICAgICAgICAgIGlmIChzdG9yZS5zdWJTdG9yZS5pc1BpZSkge1xuICAgICAgICAgICAgICAgIG5vZGUuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2RlLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge25vZGV9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgR3JpZDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/Grid/Grid.js\n");

/***/ }),

/***/ "./src/chart/Grid/Grid.styl":
/*!**********************************!*\
  !*** ./src/chart/Grid/Grid.styl ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin\nmodule.exports = {\"grid\":\"Grid__grid\",\"isArea\":\"Grid__isArea\",\"yScaled\":\"Grid__yScaled\",\"gridLine\":\"Grid__gridLine\",\"mainLineOff\":\"Grid__mainLineOff\",\"lineText\":\"Grid__lineText\",\"secondaryLineOff\":\"Grid__secondaryLineOff\",\"theme_light\":\"Grid__theme_light\",\"theme_dark\":\"Grid__theme_dark\"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvR3JpZC9HcmlkLnN0eWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQvR3JpZC9HcmlkLnN0eWw/N2NmYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJncmlkXCI6XCJHcmlkX19ncmlkXCIsXCJpc0FyZWFcIjpcIkdyaWRfX2lzQXJlYVwiLFwieVNjYWxlZFwiOlwiR3JpZF9feVNjYWxlZFwiLFwiZ3JpZExpbmVcIjpcIkdyaWRfX2dyaWRMaW5lXCIsXCJtYWluTGluZU9mZlwiOlwiR3JpZF9fbWFpbkxpbmVPZmZcIixcImxpbmVUZXh0XCI6XCJHcmlkX19saW5lVGV4dFwiLFwic2Vjb25kYXJ5TGluZU9mZlwiOlwiR3JpZF9fc2Vjb25kYXJ5TGluZU9mZlwiLFwidGhlbWVfbGlnaHRcIjpcIkdyaWRfX3RoZW1lX2xpZ2h0XCIsXCJ0aGVtZV9kYXJrXCI6XCJHcmlkX190aGVtZV9kYXJrXCJ9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/chart/Grid/Grid.styl\n");

/***/ }),

/***/ "./src/chart/Grid/index.js":
/*!*********************************!*\
  !*** ./src/chart/Grid/index.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Grid */ \"./src/chart/Grid/Grid.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _Grid__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvR3JpZC9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9HcmlkL2luZGV4LmpzPzUxZDQiXSwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQge2RlZmF1bHR9IGZyb20gJy4vR3JpZCc7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/Grid/index.js\n");

/***/ }),

/***/ "./src/chart/Header/Header.js":
/*!************************************!*\
  !*** ./src/chart/Header/Header.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers */ \"./src/chart/helpers.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/chart/constants.js\");\n/* harmony import */ var _Header_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Header.styl */ \"./src/chart/Header/Header.styl\");\n/* harmony import */ var _Header_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Header_styl__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\n\nconst zoomSvg = `<svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\">\n    <path fill=\"#000000\" d=\"M15.5,14H14.71L14.43,13.73C15.41,12.59 16,11.11 16,9.5A6.5,6.5 0 0,0 9.5,3A6.5,6.5 0 0,0 3,9.5A6.5,6.5 0 0,0 9.5,16C11.11,16 12.59,15.41 13.73,14.43L14,14.71V15.5L19,20.5L20.5,19L15.5,14M9.5,14C7,14 5,12 5,9.5C5,7 7,5 9.5,5C12,5 14,7 14,9.5C14,12 12,14 9.5,14M7,9H12V10H7V9Z\" />\n</svg>`;\n\nconst toggleState = (store, node) => {\n    if (store.subStore && !node.classList.contains(_Header_styl__WEBPACK_IMPORTED_MODULE_2___default.a.subChart)) {\n        node.classList.add(_Header_styl__WEBPACK_IMPORTED_MODULE_2___default.a.subChart);\n    }\n\n    if (!store.subStore && node.classList.contains(_Header_styl__WEBPACK_IMPORTED_MODULE_2___default.a.subChart)) {\n        node.classList.remove(_Header_styl__WEBPACK_IMPORTED_MODULE_2___default.a.subChart);\n    }\n};\n\nconst getDateString = (timestamp) => {\n    const date = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"getDate\"])(timestamp);\n\n    return `${Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"getMonthDay\"])(date)} ${Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"getMonth\"])(date, true)} ${Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"getYear\"])(date)}`;\n};\n\nconst getDateRange = (store) => {\n    store = store.subStore || store;\n\n    const {viewBox, points} = store;\n\n    const {scaleStartPoint, scaleEndPoint} = viewBox.box;\n\n    const startIndex = Math.max(Math.round(scaleStartPoint), 0);\n    const endIndex = Math.min(Math.round(scaleEndPoint), points.length - 1);\n\n    if (startIndex >= endIndex) {\n        return getDateString(points[startIndex].x);\n    }\n\n    const startStr = getDateString(points[startIndex].x);\n    const endStr = getDateString(points[endIndex].x - 1);\n\n    if (startStr === endStr) {\n        const weekDay = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"getWeekDayString\"])(Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"getDate\"])(points[startIndex].x), true);\n        return `${weekDay}, ${startStr}`;\n    }\n\n    return `${startStr} - ${endStr}`;\n};\n\nconst renderDateRange = (store, node) => {\n    const dateNode = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_Header_styl__WEBPACK_IMPORTED_MODULE_2___default.a.dateRange);\n    const textNode = document.createTextNode(getDateRange(store));\n\n    const updateText = () => textNode.textContent = getDateRange(store);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(dateNode, textNode);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(node, dateNode);\n\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"CHANGE_SCALE\"], updateText);\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"SHOW_SUB_STORE\"], () => {\n        if (store.subStore) {\n            store.subStore.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"CHANGE_SCALE\"], updateText);\n        }\n\n        updateText();\n    });\n};\n\nconst ThemeSwitcher = (store) => {\n    const node = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_Header_styl__WEBPACK_IMPORTED_MODULE_2___default.a.header);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"withTheme\"])(store, node, _Header_styl__WEBPACK_IMPORTED_MODULE_2___default.a);\n\n    const title = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_Header_styl__WEBPACK_IMPORTED_MODULE_2___default.a.title);\n\n    const zoomOutBtn = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_Header_styl__WEBPACK_IMPORTED_MODULE_2___default.a.zoomOut);\n    const zoomIcon = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_Header_styl__WEBPACK_IMPORTED_MODULE_2___default.a.zoomIcon);\n    zoomIcon.innerHTML = zoomSvg;\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(zoomOutBtn, zoomIcon);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(zoomOutBtn, document.createTextNode('Zoom Out'));\n\n    renderDateRange(store, node);\n\n    const toggle = () => toggleState(store, node);\n\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"SHOW_SUB_STORE\"], toggle);\n    toggle();\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"addEvent\"])(zoomOutBtn, 'click', () => store.showFull());\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(title, document.createTextNode(store.name));\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(node, title);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(node, zoomOutBtn);\n\n    return {node};\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ThemeSwitcher);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvSGVhZGVyL0hlYWRlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9IZWFkZXIvSGVhZGVyLmpzPzdjNzMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQge2NyZWF0ZUVsZW1lbnQsIGFwcGVuZENoaWxkLCBhZGRFdmVudCwgd2l0aFRoZW1lLCBnZXREYXRlLCBnZXRNb250aERheSwgZ2V0TW9udGgsIGdldFllYXIsIGdldFdlZWtEYXlTdHJpbmd9IGZyb20gJy4uL2hlbHBlcnMnO1xuaW1wb3J0IHtDSEFOR0VfVEhFTUUsIENIQU5HRV9TQ0FMRSwgU0hPV19TVUJfU1RPUkV9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgY3NzIGZyb20gJy4vSGVhZGVyLnN0eWwnO1xuXG5jb25zdCB6b29tU3ZnID0gYDxzdmcgc3R5bGU9XCJ3aWR0aDoyNHB4O2hlaWdodDoyNHB4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgIDxwYXRoIGZpbGw9XCIjMDAwMDAwXCIgZD1cIk0xNS41LDE0SDE0LjcxTDE0LjQzLDEzLjczQzE1LjQxLDEyLjU5IDE2LDExLjExIDE2LDkuNUE2LjUsNi41IDAgMCwwIDkuNSwzQTYuNSw2LjUgMCAwLDAgMyw5LjVBNi41LDYuNSAwIDAsMCA5LjUsMTZDMTEuMTEsMTYgMTIuNTksMTUuNDEgMTMuNzMsMTQuNDNMMTQsMTQuNzFWMTUuNUwxOSwyMC41TDIwLjUsMTlMMTUuNSwxNE05LjUsMTRDNywxNCA1LDEyIDUsOS41QzUsNyA3LDUgOS41LDVDMTIsNSAxNCw3IDE0LDkuNUMxNCwxMiAxMiwxNCA5LjUsMTRNNyw5SDEyVjEwSDdWOVpcIiAvPlxuPC9zdmc+YDtcblxuY29uc3QgdG9nZ2xlU3RhdGUgPSAoc3RvcmUsIG5vZGUpID0+IHtcbiAgICBpZiAoc3RvcmUuc3ViU3RvcmUgJiYgIW5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKGNzcy5zdWJDaGFydCkpIHtcbiAgICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKGNzcy5zdWJDaGFydCk7XG4gICAgfVxuXG4gICAgaWYgKCFzdG9yZS5zdWJTdG9yZSAmJiBub2RlLmNsYXNzTGlzdC5jb250YWlucyhjc3Muc3ViQ2hhcnQpKSB7XG4gICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZShjc3Muc3ViQ2hhcnQpO1xuICAgIH1cbn07XG5cbmNvbnN0IGdldERhdGVTdHJpbmcgPSAodGltZXN0YW1wKSA9PiB7XG4gICAgY29uc3QgZGF0ZSA9IGdldERhdGUodGltZXN0YW1wKTtcblxuICAgIHJldHVybiBgJHtnZXRNb250aERheShkYXRlKX0gJHtnZXRNb250aChkYXRlLCB0cnVlKX0gJHtnZXRZZWFyKGRhdGUpfWA7XG59O1xuXG5jb25zdCBnZXREYXRlUmFuZ2UgPSAoc3RvcmUpID0+IHtcbiAgICBzdG9yZSA9IHN0b3JlLnN1YlN0b3JlIHx8IHN0b3JlO1xuXG4gICAgY29uc3Qge3ZpZXdCb3gsIHBvaW50c30gPSBzdG9yZTtcblxuICAgIGNvbnN0IHtzY2FsZVN0YXJ0UG9pbnQsIHNjYWxlRW5kUG9pbnR9ID0gdmlld0JveC5ib3g7XG5cbiAgICBjb25zdCBzdGFydEluZGV4ID0gTWF0aC5tYXgoTWF0aC5yb3VuZChzY2FsZVN0YXJ0UG9pbnQpLCAwKTtcbiAgICBjb25zdCBlbmRJbmRleCA9IE1hdGgubWluKE1hdGgucm91bmQoc2NhbGVFbmRQb2ludCksIHBvaW50cy5sZW5ndGggLSAxKTtcblxuICAgIGlmIChzdGFydEluZGV4ID49IGVuZEluZGV4KSB7XG4gICAgICAgIHJldHVybiBnZXREYXRlU3RyaW5nKHBvaW50c1tzdGFydEluZGV4XS54KTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGFydFN0ciA9IGdldERhdGVTdHJpbmcocG9pbnRzW3N0YXJ0SW5kZXhdLngpO1xuICAgIGNvbnN0IGVuZFN0ciA9IGdldERhdGVTdHJpbmcocG9pbnRzW2VuZEluZGV4XS54IC0gMSk7XG5cbiAgICBpZiAoc3RhcnRTdHIgPT09IGVuZFN0cikge1xuICAgICAgICBjb25zdCB3ZWVrRGF5ID0gZ2V0V2Vla0RheVN0cmluZyhnZXREYXRlKHBvaW50c1tzdGFydEluZGV4XS54KSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBgJHt3ZWVrRGF5fSwgJHtzdGFydFN0cn1gO1xuICAgIH1cblxuICAgIHJldHVybiBgJHtzdGFydFN0cn0gLSAke2VuZFN0cn1gO1xufTtcblxuY29uc3QgcmVuZGVyRGF0ZVJhbmdlID0gKHN0b3JlLCBub2RlKSA9PiB7XG4gICAgY29uc3QgZGF0ZU5vZGUgPSBjcmVhdGVFbGVtZW50KGNzcy5kYXRlUmFuZ2UpO1xuICAgIGNvbnN0IHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZ2V0RGF0ZVJhbmdlKHN0b3JlKSk7XG5cbiAgICBjb25zdCB1cGRhdGVUZXh0ID0gKCkgPT4gdGV4dE5vZGUudGV4dENvbnRlbnQgPSBnZXREYXRlUmFuZ2Uoc3RvcmUpO1xuXG4gICAgYXBwZW5kQ2hpbGQoZGF0ZU5vZGUsIHRleHROb2RlKTtcbiAgICBhcHBlbmRDaGlsZChub2RlLCBkYXRlTm9kZSk7XG5cbiAgICBzdG9yZS5vbihDSEFOR0VfU0NBTEUsIHVwZGF0ZVRleHQpO1xuICAgIHN0b3JlLm9uKFNIT1dfU1VCX1NUT1JFLCAoKSA9PiB7XG4gICAgICAgIGlmIChzdG9yZS5zdWJTdG9yZSkge1xuICAgICAgICAgICAgc3RvcmUuc3ViU3RvcmUub24oQ0hBTkdFX1NDQUxFLCB1cGRhdGVUZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHVwZGF0ZVRleHQoKTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IFRoZW1lU3dpdGNoZXIgPSAoc3RvcmUpID0+IHtcbiAgICBjb25zdCBub2RlID0gY3JlYXRlRWxlbWVudChjc3MuaGVhZGVyKTtcbiAgICB3aXRoVGhlbWUoc3RvcmUsIG5vZGUsIGNzcyk7XG5cbiAgICBjb25zdCB0aXRsZSA9IGNyZWF0ZUVsZW1lbnQoY3NzLnRpdGxlKTtcblxuICAgIGNvbnN0IHpvb21PdXRCdG4gPSBjcmVhdGVFbGVtZW50KGNzcy56b29tT3V0KTtcbiAgICBjb25zdCB6b29tSWNvbiA9IGNyZWF0ZUVsZW1lbnQoY3NzLnpvb21JY29uKTtcbiAgICB6b29tSWNvbi5pbm5lckhUTUwgPSB6b29tU3ZnO1xuXG4gICAgYXBwZW5kQ2hpbGQoem9vbU91dEJ0biwgem9vbUljb24pO1xuICAgIGFwcGVuZENoaWxkKHpvb21PdXRCdG4sIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdab29tIE91dCcpKTtcblxuICAgIHJlbmRlckRhdGVSYW5nZShzdG9yZSwgbm9kZSk7XG5cbiAgICBjb25zdCB0b2dnbGUgPSAoKSA9PiB0b2dnbGVTdGF0ZShzdG9yZSwgbm9kZSk7XG5cbiAgICBzdG9yZS5vbihTSE9XX1NVQl9TVE9SRSwgdG9nZ2xlKTtcbiAgICB0b2dnbGUoKTtcblxuICAgIGFkZEV2ZW50KHpvb21PdXRCdG4sICdjbGljaycsICgpID0+IHN0b3JlLnNob3dGdWxsKCkpO1xuXG4gICAgYXBwZW5kQ2hpbGQodGl0bGUsIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0b3JlLm5hbWUpKTtcbiAgICBhcHBlbmRDaGlsZChub2RlLCB0aXRsZSk7XG4gICAgYXBwZW5kQ2hpbGQobm9kZSwgem9vbU91dEJ0bik7XG5cbiAgICByZXR1cm4ge25vZGV9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVGhlbWVTd2l0Y2hlcjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/Header/Header.js\n");

/***/ }),

/***/ "./src/chart/Header/Header.styl":
/*!**************************************!*\
  !*** ./src/chart/Header/Header.styl ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin\nmodule.exports = {\"theme_light\":\"Header__theme_light\",\"theme_dark\":\"Header__theme_dark\",\"header\":\"Header__header\",\"title\":\"Header__title\",\"zoomOut\":\"Header__zoomOut\",\"zoomIcon\":\"Header__zoomIcon\",\"dateRange\":\"Header__dateRange\",\"subChart\":\"Header__subChart\"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvSGVhZGVyL0hlYWRlci5zdHlsLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJ0L0hlYWRlci9IZWFkZXIuc3R5bD9mYWVhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInRoZW1lX2xpZ2h0XCI6XCJIZWFkZXJfX3RoZW1lX2xpZ2h0XCIsXCJ0aGVtZV9kYXJrXCI6XCJIZWFkZXJfX3RoZW1lX2RhcmtcIixcImhlYWRlclwiOlwiSGVhZGVyX19oZWFkZXJcIixcInRpdGxlXCI6XCJIZWFkZXJfX3RpdGxlXCIsXCJ6b29tT3V0XCI6XCJIZWFkZXJfX3pvb21PdXRcIixcInpvb21JY29uXCI6XCJIZWFkZXJfX3pvb21JY29uXCIsXCJkYXRlUmFuZ2VcIjpcIkhlYWRlcl9fZGF0ZVJhbmdlXCIsXCJzdWJDaGFydFwiOlwiSGVhZGVyX19zdWJDaGFydFwifTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/Header/Header.styl\n");

/***/ }),

/***/ "./src/chart/Header/index.js":
/*!***********************************!*\
  !*** ./src/chart/Header/index.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Header__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Header */ \"./src/chart/Header/Header.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _Header__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvSGVhZGVyL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJ0L0hlYWRlci9pbmRleC5qcz82OGFiIl0sInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IHtkZWZhdWx0fSBmcm9tICcuL0hlYWRlcic7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/Header/index.js\n");

/***/ }),

/***/ "./src/chart/Store/Store.js":
/*!**********************************!*\
  !*** ./src/chart/Store/Store.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _EventEmitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EventEmitter */ \"./src/chart/EventEmitter.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/chart/constants.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers */ \"./src/chart/helpers.js\");\n/* harmony import */ var _nextFrame__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../nextFrame */ \"./src/chart/nextFrame.js\");\n/* harmony import */ var _ViewBox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ViewBox */ \"./src/chart/Store/ViewBox.js\");\n\n\n\n\n\n\n\nconst themes = {\n    light: 'light',\n    dark: 'dark',\n};\n\nlet storeFramePrefix = 1;\n\nconst weekMiddleDayScale = (() => {\n    const weekHours = 24 * 7;\n\n    // данные до 23:00 последнего дня\n    const weekScaleSize = weekHours - 1;\n\n    const scaleStartHours = 24 * 3;\n\n    const scaleEndHours = 24 * 3 - 1;\n\n    return [scaleStartHours / weekScaleSize, scaleEndHours / weekScaleSize];\n})();\n\nconst getDataUrl = (prefix, date) => {\n    const year = date.getFullYear();\n    let month = date.getMonth() + 1;\n\n    if (month > 9) {\n        month = String(month);\n    } else {\n        month = `0${month}`;\n    }\n\n    let day = date.getDate();\n\n    if (day > 9) {\n        day = String(day);\n    } else {\n        day = `0${day}`;\n    }\n\n    return `${prefix}/${year}-${month}/${day}.json`;\n};\n\nconst getSize = (width, chartViewHeight) => {\n    const height = chartViewHeight + _constants__WEBPACK_IMPORTED_MODULE_1__[\"VIEW_SCALER_SPACE\"] + _constants__WEBPACK_IMPORTED_MODULE_1__[\"CHART_SCALER_HEIGHT\"];\n\n    return ([\n        // total size\n        [width, height, 0],\n        // chart view size\n        [\n            width,\n            chartViewHeight,\n        ],\n        // scaler size\n        [\n            width - (_constants__WEBPACK_IMPORTED_MODULE_1__[\"PADDING\"] * 2),\n            _constants__WEBPACK_IMPORTED_MODULE_1__[\"CHART_SCALER_HEIGHT\"],\n            chartViewHeight + _constants__WEBPACK_IMPORTED_MODULE_1__[\"VIEW_SCALER_SPACE\"],\n        ],\n    ]);\n};\n\nclass Store extends _EventEmitter__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(\n        {points, lineIds: allLineIds, names, colors, yScaled},\n        {\n            startFromZero = false,\n            theme = themes.light,\n            chartHeight = 500,\n            isBar = false,\n            isArea = false,\n            isPie = false,\n            name,\n            dataLink = null,\n            defaultYScale = null,\n            secondaryDefaultYScale = null,\n            weekDetailed = false,\n            dayDetailed = false,\n            defaultScale = [0, 0],\n            visibleLineIds = null,\n            transformToLineChart = false,\n        } = {},\n    ) {\n        super();\n\n        if (isBar || isArea || isPie) {\n            startFromZero = true;\n        }\n\n        const lineIds = visibleLineIds || allLineIds;\n\n        this.nextFramePrefix = `${storeFramePrefix++}`;\n        this.points = points;\n        this.lineIds = lineIds;\n        this.allLineIds = allLineIds;\n        this.lineNames = names;\n        this.lineColors = colors;\n        this.isVisible = false;\n        this.chartHeight = chartHeight;\n        this.yScaled = yScaled;\n        this.isBar = isBar;\n        this.isArea = isArea;\n        this.isPie = isPie;\n        this.isLine = !isBar && !isArea && !isPie;\n        this.startFromZero = startFromZero;\n        this.themes = themes;\n        this.theme = themes[theme] || themes.light;\n        this.name = name;\n        this.dataLink = dataLink;\n        this.weekDetailed = weekDetailed;\n        this.dayDetailed = dayDetailed;\n        this.transformToLineChart = transformToLineChart;\n        this.canShowPoint = Boolean(dataLink);\n        this.dragging = false;\n        this.rgbaColors = Object.entries(colors).reduce(\n            (acc, [key, value]) => Object.assign(acc, {[key]: Object(_helpers__WEBPACK_IMPORTED_MODULE_2__[\"getRgbaColors\"])(value)}),\n            {},\n        );\n        this.rgbaColorsWebgl = Object.entries(this.rgbaColors).reduce(\n            (acc, [key, value]) => Object.assign(acc, {[key]: value.split(',').map(val => Number(val) / 255)}),\n            {},\n        );\n\n        this.size = getSize(300, chartHeight);\n\n        this.scale = defaultScale;\n        const fullScale = [0, 0];\n\n        const mainLineIds = yScaled ? [allLineIds[0]] : lineIds;\n        this.viewBox = new _ViewBox__WEBPACK_IMPORTED_MODULE_4__[\"default\"](\n            this, defaultScale, mainLineIds, {calcGridStep: true, defaultYScale},\n        );\n        this.fullViewBox = new _ViewBox__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this, fullScale, mainLineIds);\n\n        if (yScaled) {\n            const secondaryLineIds = [allLineIds[1]];\n            this.secondaryViewBox = new _ViewBox__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this, defaultScale, secondaryLineIds, {\n                calcGridStep: true,\n                mainViewBox: this.viewBox,\n                defaultYScale: secondaryDefaultYScale,\n            });\n            this.secondaryFullViewBox = new _ViewBox__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this, fullScale, secondaryLineIds, {\n                calcGridStep: false,\n                mainViewBox: this.fullViewBox,\n            });\n        }\n\n        if (defaultYScale) {\n            this.updateViewBox();\n        }\n\n        this.getColor = (lineId, opacity) => this._getColor(lineId, opacity);\n    }\n\n    _getColor(lineId, opacity = 1) {\n        return `rgba(${this.rgbaColors[lineId]},${opacity})`;\n    }\n\n    setTheme(newTheme) {\n        const oldTheme = this.theme;\n\n        this.theme = themes[newTheme] || themes.light;\n\n        if (oldTheme === this.theme) {\n            return;\n        }\n\n        Object(_nextFrame__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(() => this.trigger(_constants__WEBPACK_IMPORTED_MODULE_1__[\"CHANGE_THEME\"], this.theme));\n    }\n\n    // высота пока никак не используется, рассчитывается по контенту\n    // eslint-disable-next-line no-unused-vars\n    changeSize(width, height) {\n        this.size = getSize(width, this.chartHeight);\n\n        if (this.subStore) {\n            this.subStore.changeSize(width, height);\n        }\n\n        Object(_nextFrame__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(() => this.trigger(_constants__WEBPACK_IMPORTED_MODULE_1__[\"CHANGE_SIZE\"], this.size));\n    }\n\n    updateViewBox(withFullViewBox) {\n        const {lineIds, allLineIds} = this;\n\n        const mainLineIds = this.yScaled ? [allLineIds[0]] : lineIds;\n\n        this.viewBox.update(this.scale, mainLineIds, this.isPie);\n\n        if (withFullViewBox) {\n            this.fullViewBox.update([0, 0], mainLineIds);\n        }\n\n        if (this.yScaled) {\n            const secondaryLineIds = [allLineIds[1]];\n\n            this.secondaryViewBox.update(this.scale, secondaryLineIds);\n\n            if (withFullViewBox) {\n                this.secondaryFullViewBox.update([0, 0], secondaryLineIds);\n            }\n        }\n    }\n\n    dragStart() {\n        if (this.dragging) {\n            return;\n        }\n        this.dragging = true;\n\n        Object(_nextFrame__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(() => this.trigger(_constants__WEBPACK_IMPORTED_MODULE_1__[\"DRAG_STATE_TOGGLE\"], this.dragging));\n    }\n\n    dragEnd() {\n        if (!this.dragging) {\n            return;\n        }\n        this.dragging = false;\n\n        Object(_nextFrame__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(() => this.trigger(_constants__WEBPACK_IMPORTED_MODULE_1__[\"DRAG_STATE_TOGGLE\"], this.dragging));\n    }\n\n    changeScale(start, end) {\n        if (this.subStore) {\n            this.subStore.changeScale(start, end);\n        } else {\n            this.scale = [start, end];\n\n            this.updateViewBox();\n\n            Object(_nextFrame__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(() => this.trigger(_constants__WEBPACK_IMPORTED_MODULE_1__[\"CHANGE_SCALE\"], this.scale));\n        }\n    }\n\n    toggleLine(lineId) {\n        const {lineIds, allLineIds} = this;\n        const action = lineIds.includes(lineId) ? _constants__WEBPACK_IMPORTED_MODULE_1__[\"LINE_OFF\"] : _constants__WEBPACK_IMPORTED_MODULE_1__[\"LINE_ON\"];\n\n        const newLineIds = [];\n\n        for (let i = 0; i < allLineIds.length; i++) {\n            if (allLineIds[i] === lineId) {\n                if (action === _constants__WEBPACK_IMPORTED_MODULE_1__[\"LINE_ON\"]) {\n                    newLineIds.push(lineId);\n                }\n\n                continue;\n            }\n\n            if (lineIds.includes(allLineIds[i])) {\n                newLineIds.push(allLineIds[i]);\n            }\n        }\n\n        this.lineIds = newLineIds;\n\n        if (this.subStore) {\n            this.subStore.toggleLine(lineId);\n        } else {\n            this.updateViewBox(true);\n        }\n\n        Object(_nextFrame__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(() => this.trigger(action, lineId));\n    }\n\n    showLine(lineId) {\n        const {lineIds, allLineIds} = this;\n\n        allLineIds.forEach((id) => {\n            if (id === lineId && !lineIds.includes(id)) {\n                this.toggleLine(id);\n            }\n\n            if (id !== lineId && lineIds.includes(id)) {\n                this.toggleLine(id);\n            }\n        });\n    }\n\n    showFull() {\n        this.subStore.clearEventListeners();\n        const {maxY, minY} = this.subStore.viewBox.animationBox;\n\n        this.viewBox.animationBox = Object.assign(this.viewBox.animationBox, {maxY, minY});\n\n        if (this.yScaled && this.subStore.yScaled) {\n            const {maxY: secMaxY, minY: secMinY} = this.subStore.secondaryViewBox.animationBox;\n            this.secondaryViewBox.animationBox = Object.assign(\n                this.secondaryViewBox.animationBox,\n                {maxY: secMaxY, minY: secMinY},\n            );\n        }\n\n        this.subStore = null;\n\n        this.updateViewBox(true);\n\n        this.trigger(_constants__WEBPACK_IMPORTED_MODULE_1__[\"SHOW_SUB_STORE\"], this.subStore);\n    }\n\n    _showPoint(point, data) {\n        const {size: [[width]], chartHeight, transformToLineChart} = this;\n        const {maxY, minY} = this.viewBox.box;\n        console.log(data);\n\n        this.subStore = new Store(data, {\n            chartHeight,\n            defaultYScale: {maxY, minY},\n            secondaryDefaultYScale: this.yScaled\n                ? {maxY: this.secondaryViewBox.box.maxY, minY: this.secondaryViewBox.box.minY}\n                : null,\n            weekDetailed: !transformToLineChart,\n            dayDetailed: transformToLineChart,\n            defaultScale: transformToLineChart ? [0, 0] : weekMiddleDayScale,\n            isBar: transformToLineChart ? false : this.isBar,\n            isPie: this.isArea,\n            isArea: false,\n            visibleLineIds: transformToLineChart ? null : this.lineIds,\n            transformToLineChart,\n        });\n\n        this.subStore.changeSize(width, chartHeight);\n\n        Object(_nextFrame__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(() => this.trigger(_constants__WEBPACK_IMPORTED_MODULE_1__[\"SHOW_SUB_STORE\"], this.subStore));\n    }\n\n    showPoint(index) {\n        if (this.subStore) {\n            return;\n        }\n\n        if (this.isArea) {\n            const {points, lineColors, lineNames, allLineIds} = this;\n            const point = points[index];\n            const startPoint = Math.max(index - 3, 0);\n            const endPoint = Math.min(index + 4, points.length);\n\n            const scalePoints = points.slice(startPoint, endPoint);\n\n            this._showPoint(point, {\n                points: scalePoints,\n                colors: lineColors,\n                lineIds: allLineIds,\n                names: lineNames,\n            });\n        }\n        if (!this.canShowPoint) {\n            return;\n        }\n\n        const {points, dataLink} = this;\n        const point = points[index];\n        const date = new Date(point.x + _constants__WEBPACK_IMPORTED_MODULE_1__[\"TIMEZONE_OFFSET\"]);\n\n        const dataUrl = getDataUrl(dataLink, date);\n\n        fetch(dataUrl)\n            .then((result) => {\n                if (result.ok) {\n                    return result.json();\n                }\n\n                return Promise.reject(result.text());\n            })\n            .then(data => this._showPoint(point, Object(_helpers__WEBPACK_IMPORTED_MODULE_2__[\"prepareChartData\"])(data)))\n            .catch(error => console.error(`Point data load failed, url: ${dataUrl}`, error));\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Store);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvU3RvcmUvU3RvcmUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQvU3RvcmUvU3RvcmUuanM/M2JiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnLi4vRXZlbnRFbWl0dGVyJztcbmltcG9ydCB7XG4gICAgQ0hBUlRfU0NBTEVSX0hFSUdIVCxcbiAgICBQQURESU5HLFxuICAgIFZJRVdfU0NBTEVSX1NQQUNFLFxuICAgIENIQU5HRV9TSVpFLFxuICAgIENIQU5HRV9TQ0FMRSxcbiAgICBMSU5FX09GRixcbiAgICBMSU5FX09OLFxuICAgIENIQU5HRV9USEVNRSxcbiAgICBTSE9XX1NVQl9TVE9SRSxcbiAgICBUSU1FWk9ORV9PRkZTRVQsXG4gICAgRFJBR19TVEFURV9UT0dHTEUsXG59IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQge2dldFJnYmFDb2xvcnMsIHByZXBhcmVDaGFydERhdGF9IGZyb20gJy4uL2hlbHBlcnMnO1xuaW1wb3J0IG5leHRGcmFtZSBmcm9tICcuLi9uZXh0RnJhbWUnO1xuaW1wb3J0IFZpZXdCb3ggZnJvbSAnLi9WaWV3Qm94JztcblxuY29uc3QgdGhlbWVzID0ge1xuICAgIGxpZ2h0OiAnbGlnaHQnLFxuICAgIGRhcms6ICdkYXJrJyxcbn07XG5cbmxldCBzdG9yZUZyYW1lUHJlZml4ID0gMTtcblxuY29uc3Qgd2Vla01pZGRsZURheVNjYWxlID0gKCgpID0+IHtcbiAgICBjb25zdCB3ZWVrSG91cnMgPSAyNCAqIDc7XG5cbiAgICAvLyDQtNCw0L3QvdGL0LUg0LTQviAyMzowMCDQv9C+0YHQu9C10LTQvdC10LPQviDQtNC90Y9cbiAgICBjb25zdCB3ZWVrU2NhbGVTaXplID0gd2Vla0hvdXJzIC0gMTtcblxuICAgIGNvbnN0IHNjYWxlU3RhcnRIb3VycyA9IDI0ICogMztcblxuICAgIGNvbnN0IHNjYWxlRW5kSG91cnMgPSAyNCAqIDMgLSAxO1xuXG4gICAgcmV0dXJuIFtzY2FsZVN0YXJ0SG91cnMgLyB3ZWVrU2NhbGVTaXplLCBzY2FsZUVuZEhvdXJzIC8gd2Vla1NjYWxlU2l6ZV07XG59KSgpO1xuXG5jb25zdCBnZXREYXRhVXJsID0gKHByZWZpeCwgZGF0ZSkgPT4ge1xuICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgbGV0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMTtcblxuICAgIGlmIChtb250aCA+IDkpIHtcbiAgICAgICAgbW9udGggPSBTdHJpbmcobW9udGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG1vbnRoID0gYDAke21vbnRofWA7XG4gICAgfVxuXG4gICAgbGV0IGRheSA9IGRhdGUuZ2V0RGF0ZSgpO1xuXG4gICAgaWYgKGRheSA+IDkpIHtcbiAgICAgICAgZGF5ID0gU3RyaW5nKGRheSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGF5ID0gYDAke2RheX1gO1xuICAgIH1cblxuICAgIHJldHVybiBgJHtwcmVmaXh9LyR7eWVhcn0tJHttb250aH0vJHtkYXl9Lmpzb25gO1xufTtcblxuY29uc3QgZ2V0U2l6ZSA9ICh3aWR0aCwgY2hhcnRWaWV3SGVpZ2h0KSA9PiB7XG4gICAgY29uc3QgaGVpZ2h0ID0gY2hhcnRWaWV3SGVpZ2h0ICsgVklFV19TQ0FMRVJfU1BBQ0UgKyBDSEFSVF9TQ0FMRVJfSEVJR0hUO1xuXG4gICAgcmV0dXJuIChbXG4gICAgICAgIC8vIHRvdGFsIHNpemVcbiAgICAgICAgW3dpZHRoLCBoZWlnaHQsIDBdLFxuICAgICAgICAvLyBjaGFydCB2aWV3IHNpemVcbiAgICAgICAgW1xuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBjaGFydFZpZXdIZWlnaHQsXG4gICAgICAgIF0sXG4gICAgICAgIC8vIHNjYWxlciBzaXplXG4gICAgICAgIFtcbiAgICAgICAgICAgIHdpZHRoIC0gKFBBRERJTkcgKiAyKSxcbiAgICAgICAgICAgIENIQVJUX1NDQUxFUl9IRUlHSFQsXG4gICAgICAgICAgICBjaGFydFZpZXdIZWlnaHQgKyBWSUVXX1NDQUxFUl9TUEFDRSxcbiAgICAgICAgXSxcbiAgICBdKTtcbn07XG5cbmNsYXNzIFN0b3JlIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAge3BvaW50cywgbGluZUlkczogYWxsTGluZUlkcywgbmFtZXMsIGNvbG9ycywgeVNjYWxlZH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN0YXJ0RnJvbVplcm8gPSBmYWxzZSxcbiAgICAgICAgICAgIHRoZW1lID0gdGhlbWVzLmxpZ2h0LFxuICAgICAgICAgICAgY2hhcnRIZWlnaHQgPSA1MDAsXG4gICAgICAgICAgICBpc0JhciA9IGZhbHNlLFxuICAgICAgICAgICAgaXNBcmVhID0gZmFsc2UsXG4gICAgICAgICAgICBpc1BpZSA9IGZhbHNlLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGRhdGFMaW5rID0gbnVsbCxcbiAgICAgICAgICAgIGRlZmF1bHRZU2NhbGUgPSBudWxsLFxuICAgICAgICAgICAgc2Vjb25kYXJ5RGVmYXVsdFlTY2FsZSA9IG51bGwsXG4gICAgICAgICAgICB3ZWVrRGV0YWlsZWQgPSBmYWxzZSxcbiAgICAgICAgICAgIGRheURldGFpbGVkID0gZmFsc2UsXG4gICAgICAgICAgICBkZWZhdWx0U2NhbGUgPSBbMCwgMF0sXG4gICAgICAgICAgICB2aXNpYmxlTGluZUlkcyA9IG51bGwsXG4gICAgICAgICAgICB0cmFuc2Zvcm1Ub0xpbmVDaGFydCA9IGZhbHNlLFxuICAgICAgICB9ID0ge30sXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgaWYgKGlzQmFyIHx8IGlzQXJlYSB8fCBpc1BpZSkge1xuICAgICAgICAgICAgc3RhcnRGcm9tWmVybyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsaW5lSWRzID0gdmlzaWJsZUxpbmVJZHMgfHwgYWxsTGluZUlkcztcblxuICAgICAgICB0aGlzLm5leHRGcmFtZVByZWZpeCA9IGAke3N0b3JlRnJhbWVQcmVmaXgrK31gO1xuICAgICAgICB0aGlzLnBvaW50cyA9IHBvaW50cztcbiAgICAgICAgdGhpcy5saW5lSWRzID0gbGluZUlkcztcbiAgICAgICAgdGhpcy5hbGxMaW5lSWRzID0gYWxsTGluZUlkcztcbiAgICAgICAgdGhpcy5saW5lTmFtZXMgPSBuYW1lcztcbiAgICAgICAgdGhpcy5saW5lQ29sb3JzID0gY29sb3JzO1xuICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNoYXJ0SGVpZ2h0ID0gY2hhcnRIZWlnaHQ7XG4gICAgICAgIHRoaXMueVNjYWxlZCA9IHlTY2FsZWQ7XG4gICAgICAgIHRoaXMuaXNCYXIgPSBpc0JhcjtcbiAgICAgICAgdGhpcy5pc0FyZWEgPSBpc0FyZWE7XG4gICAgICAgIHRoaXMuaXNQaWUgPSBpc1BpZTtcbiAgICAgICAgdGhpcy5pc0xpbmUgPSAhaXNCYXIgJiYgIWlzQXJlYSAmJiAhaXNQaWU7XG4gICAgICAgIHRoaXMuc3RhcnRGcm9tWmVybyA9IHN0YXJ0RnJvbVplcm87XG4gICAgICAgIHRoaXMudGhlbWVzID0gdGhlbWVzO1xuICAgICAgICB0aGlzLnRoZW1lID0gdGhlbWVzW3RoZW1lXSB8fCB0aGVtZXMubGlnaHQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuZGF0YUxpbmsgPSBkYXRhTGluaztcbiAgICAgICAgdGhpcy53ZWVrRGV0YWlsZWQgPSB3ZWVrRGV0YWlsZWQ7XG4gICAgICAgIHRoaXMuZGF5RGV0YWlsZWQgPSBkYXlEZXRhaWxlZDtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1Ub0xpbmVDaGFydCA9IHRyYW5zZm9ybVRvTGluZUNoYXJ0O1xuICAgICAgICB0aGlzLmNhblNob3dQb2ludCA9IEJvb2xlYW4oZGF0YUxpbmspO1xuICAgICAgICB0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmdiYUNvbG9ycyA9IE9iamVjdC5lbnRyaWVzKGNvbG9ycykucmVkdWNlKFxuICAgICAgICAgICAgKGFjYywgW2tleSwgdmFsdWVdKSA9PiBPYmplY3QuYXNzaWduKGFjYywge1trZXldOiBnZXRSZ2JhQ29sb3JzKHZhbHVlKX0pLFxuICAgICAgICAgICAge30sXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMucmdiYUNvbG9yc1dlYmdsID0gT2JqZWN0LmVudHJpZXModGhpcy5yZ2JhQ29sb3JzKS5yZWR1Y2UoXG4gICAgICAgICAgICAoYWNjLCBba2V5LCB2YWx1ZV0pID0+IE9iamVjdC5hc3NpZ24oYWNjLCB7W2tleV06IHZhbHVlLnNwbGl0KCcsJykubWFwKHZhbCA9PiBOdW1iZXIodmFsKSAvIDI1NSl9KSxcbiAgICAgICAgICAgIHt9LFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuc2l6ZSA9IGdldFNpemUoMzAwLCBjaGFydEhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5zY2FsZSA9IGRlZmF1bHRTY2FsZTtcbiAgICAgICAgY29uc3QgZnVsbFNjYWxlID0gWzAsIDBdO1xuXG4gICAgICAgIGNvbnN0IG1haW5MaW5lSWRzID0geVNjYWxlZCA/IFthbGxMaW5lSWRzWzBdXSA6IGxpbmVJZHM7XG4gICAgICAgIHRoaXMudmlld0JveCA9IG5ldyBWaWV3Qm94KFxuICAgICAgICAgICAgdGhpcywgZGVmYXVsdFNjYWxlLCBtYWluTGluZUlkcywge2NhbGNHcmlkU3RlcDogdHJ1ZSwgZGVmYXVsdFlTY2FsZX0sXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZnVsbFZpZXdCb3ggPSBuZXcgVmlld0JveCh0aGlzLCBmdWxsU2NhbGUsIG1haW5MaW5lSWRzKTtcblxuICAgICAgICBpZiAoeVNjYWxlZCkge1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kYXJ5TGluZUlkcyA9IFthbGxMaW5lSWRzWzFdXTtcbiAgICAgICAgICAgIHRoaXMuc2Vjb25kYXJ5Vmlld0JveCA9IG5ldyBWaWV3Qm94KHRoaXMsIGRlZmF1bHRTY2FsZSwgc2Vjb25kYXJ5TGluZUlkcywge1xuICAgICAgICAgICAgICAgIGNhbGNHcmlkU3RlcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtYWluVmlld0JveDogdGhpcy52aWV3Qm94LFxuICAgICAgICAgICAgICAgIGRlZmF1bHRZU2NhbGU6IHNlY29uZGFyeURlZmF1bHRZU2NhbGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuc2Vjb25kYXJ5RnVsbFZpZXdCb3ggPSBuZXcgVmlld0JveCh0aGlzLCBmdWxsU2NhbGUsIHNlY29uZGFyeUxpbmVJZHMsIHtcbiAgICAgICAgICAgICAgICBjYWxjR3JpZFN0ZXA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1haW5WaWV3Qm94OiB0aGlzLmZ1bGxWaWV3Qm94LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVmYXVsdFlTY2FsZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVWaWV3Qm94KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdldENvbG9yID0gKGxpbmVJZCwgb3BhY2l0eSkgPT4gdGhpcy5fZ2V0Q29sb3IobGluZUlkLCBvcGFjaXR5KTtcbiAgICB9XG5cbiAgICBfZ2V0Q29sb3IobGluZUlkLCBvcGFjaXR5ID0gMSkge1xuICAgICAgICByZXR1cm4gYHJnYmEoJHt0aGlzLnJnYmFDb2xvcnNbbGluZUlkXX0sJHtvcGFjaXR5fSlgO1xuICAgIH1cblxuICAgIHNldFRoZW1lKG5ld1RoZW1lKSB7XG4gICAgICAgIGNvbnN0IG9sZFRoZW1lID0gdGhpcy50aGVtZTtcblxuICAgICAgICB0aGlzLnRoZW1lID0gdGhlbWVzW25ld1RoZW1lXSB8fCB0aGVtZXMubGlnaHQ7XG5cbiAgICAgICAgaWYgKG9sZFRoZW1lID09PSB0aGlzLnRoZW1lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0RnJhbWUoKCkgPT4gdGhpcy50cmlnZ2VyKENIQU5HRV9USEVNRSwgdGhpcy50aGVtZSkpO1xuICAgIH1cblxuICAgIC8vINCy0YvRgdC+0YLQsCDQv9C+0LrQsCDQvdC40LrQsNC6INC90LUg0LjRgdC/0L7Qu9GM0LfRg9C10YLRgdGPLCDRgNCw0YHRgdGH0LjRgtGL0LLQsNC10YLRgdGPINC/0L4g0LrQvtC90YLQtdC90YLRg1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIGNoYW5nZVNpemUod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLnNpemUgPSBnZXRTaXplKHdpZHRoLCB0aGlzLmNoYXJ0SGVpZ2h0KTtcblxuICAgICAgICBpZiAodGhpcy5zdWJTdG9yZSkge1xuICAgICAgICAgICAgdGhpcy5zdWJTdG9yZS5jaGFuZ2VTaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV4dEZyYW1lKCgpID0+IHRoaXMudHJpZ2dlcihDSEFOR0VfU0laRSwgdGhpcy5zaXplKSk7XG4gICAgfVxuXG4gICAgdXBkYXRlVmlld0JveCh3aXRoRnVsbFZpZXdCb3gpIHtcbiAgICAgICAgY29uc3Qge2xpbmVJZHMsIGFsbExpbmVJZHN9ID0gdGhpcztcblxuICAgICAgICBjb25zdCBtYWluTGluZUlkcyA9IHRoaXMueVNjYWxlZCA/IFthbGxMaW5lSWRzWzBdXSA6IGxpbmVJZHM7XG5cbiAgICAgICAgdGhpcy52aWV3Qm94LnVwZGF0ZSh0aGlzLnNjYWxlLCBtYWluTGluZUlkcywgdGhpcy5pc1BpZSk7XG5cbiAgICAgICAgaWYgKHdpdGhGdWxsVmlld0JveCkge1xuICAgICAgICAgICAgdGhpcy5mdWxsVmlld0JveC51cGRhdGUoWzAsIDBdLCBtYWluTGluZUlkcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy55U2NhbGVkKSB7XG4gICAgICAgICAgICBjb25zdCBzZWNvbmRhcnlMaW5lSWRzID0gW2FsbExpbmVJZHNbMV1dO1xuXG4gICAgICAgICAgICB0aGlzLnNlY29uZGFyeVZpZXdCb3gudXBkYXRlKHRoaXMuc2NhbGUsIHNlY29uZGFyeUxpbmVJZHMpO1xuXG4gICAgICAgICAgICBpZiAod2l0aEZ1bGxWaWV3Qm94KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnlGdWxsVmlld0JveC51cGRhdGUoWzAsIDBdLCBzZWNvbmRhcnlMaW5lSWRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRyYWdTdGFydCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRyYWdnaW5nID0gdHJ1ZTtcblxuICAgICAgICBuZXh0RnJhbWUoKCkgPT4gdGhpcy50cmlnZ2VyKERSQUdfU1RBVEVfVE9HR0xFLCB0aGlzLmRyYWdnaW5nKSk7XG4gICAgfVxuXG4gICAgZHJhZ0VuZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRyYWdnaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgICAgIG5leHRGcmFtZSgoKSA9PiB0aGlzLnRyaWdnZXIoRFJBR19TVEFURV9UT0dHTEUsIHRoaXMuZHJhZ2dpbmcpKTtcbiAgICB9XG5cbiAgICBjaGFuZ2VTY2FsZShzdGFydCwgZW5kKSB7XG4gICAgICAgIGlmICh0aGlzLnN1YlN0b3JlKSB7XG4gICAgICAgICAgICB0aGlzLnN1YlN0b3JlLmNoYW5nZVNjYWxlKHN0YXJ0LCBlbmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zY2FsZSA9IFtzdGFydCwgZW5kXTtcblxuICAgICAgICAgICAgdGhpcy51cGRhdGVWaWV3Qm94KCk7XG5cbiAgICAgICAgICAgIG5leHRGcmFtZSgoKSA9PiB0aGlzLnRyaWdnZXIoQ0hBTkdFX1NDQUxFLCB0aGlzLnNjYWxlKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b2dnbGVMaW5lKGxpbmVJZCkge1xuICAgICAgICBjb25zdCB7bGluZUlkcywgYWxsTGluZUlkc30gPSB0aGlzO1xuICAgICAgICBjb25zdCBhY3Rpb24gPSBsaW5lSWRzLmluY2x1ZGVzKGxpbmVJZCkgPyBMSU5FX09GRiA6IExJTkVfT047XG5cbiAgICAgICAgY29uc3QgbmV3TGluZUlkcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsTGluZUlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFsbExpbmVJZHNbaV0gPT09IGxpbmVJZCkge1xuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24gPT09IExJTkVfT04pIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3TGluZUlkcy5wdXNoKGxpbmVJZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsaW5lSWRzLmluY2x1ZGVzKGFsbExpbmVJZHNbaV0pKSB7XG4gICAgICAgICAgICAgICAgbmV3TGluZUlkcy5wdXNoKGFsbExpbmVJZHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5saW5lSWRzID0gbmV3TGluZUlkcztcblxuICAgICAgICBpZiAodGhpcy5zdWJTdG9yZSkge1xuICAgICAgICAgICAgdGhpcy5zdWJTdG9yZS50b2dnbGVMaW5lKGxpbmVJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpZXdCb3godHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0RnJhbWUoKCkgPT4gdGhpcy50cmlnZ2VyKGFjdGlvbiwgbGluZUlkKSk7XG4gICAgfVxuXG4gICAgc2hvd0xpbmUobGluZUlkKSB7XG4gICAgICAgIGNvbnN0IHtsaW5lSWRzLCBhbGxMaW5lSWRzfSA9IHRoaXM7XG5cbiAgICAgICAgYWxsTGluZUlkcy5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlkID09PSBsaW5lSWQgJiYgIWxpbmVJZHMuaW5jbHVkZXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVMaW5lKGlkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlkICE9PSBsaW5lSWQgJiYgbGluZUlkcy5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUxpbmUoaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzaG93RnVsbCgpIHtcbiAgICAgICAgdGhpcy5zdWJTdG9yZS5jbGVhckV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIGNvbnN0IHttYXhZLCBtaW5ZfSA9IHRoaXMuc3ViU3RvcmUudmlld0JveC5hbmltYXRpb25Cb3g7XG5cbiAgICAgICAgdGhpcy52aWV3Qm94LmFuaW1hdGlvbkJveCA9IE9iamVjdC5hc3NpZ24odGhpcy52aWV3Qm94LmFuaW1hdGlvbkJveCwge21heFksIG1pbll9KTtcblxuICAgICAgICBpZiAodGhpcy55U2NhbGVkICYmIHRoaXMuc3ViU3RvcmUueVNjYWxlZCkge1xuICAgICAgICAgICAgY29uc3Qge21heFk6IHNlY01heFksIG1pblk6IHNlY01pbll9ID0gdGhpcy5zdWJTdG9yZS5zZWNvbmRhcnlWaWV3Qm94LmFuaW1hdGlvbkJveDtcbiAgICAgICAgICAgIHRoaXMuc2Vjb25kYXJ5Vmlld0JveC5hbmltYXRpb25Cb3ggPSBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAgICAgIHRoaXMuc2Vjb25kYXJ5Vmlld0JveC5hbmltYXRpb25Cb3gsXG4gICAgICAgICAgICAgICAge21heFk6IHNlY01heFksIG1pblk6IHNlY01pbll9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3ViU3RvcmUgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudXBkYXRlVmlld0JveCh0cnVlKTtcblxuICAgICAgICB0aGlzLnRyaWdnZXIoU0hPV19TVUJfU1RPUkUsIHRoaXMuc3ViU3RvcmUpO1xuICAgIH1cblxuICAgIF9zaG93UG9pbnQocG9pbnQsIGRhdGEpIHtcbiAgICAgICAgY29uc3Qge3NpemU6IFtbd2lkdGhdXSwgY2hhcnRIZWlnaHQsIHRyYW5zZm9ybVRvTGluZUNoYXJ0fSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHttYXhZLCBtaW5ZfSA9IHRoaXMudmlld0JveC5ib3g7XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuXG4gICAgICAgIHRoaXMuc3ViU3RvcmUgPSBuZXcgU3RvcmUoZGF0YSwge1xuICAgICAgICAgICAgY2hhcnRIZWlnaHQsXG4gICAgICAgICAgICBkZWZhdWx0WVNjYWxlOiB7bWF4WSwgbWluWX0sXG4gICAgICAgICAgICBzZWNvbmRhcnlEZWZhdWx0WVNjYWxlOiB0aGlzLnlTY2FsZWRcbiAgICAgICAgICAgICAgICA/IHttYXhZOiB0aGlzLnNlY29uZGFyeVZpZXdCb3guYm94Lm1heFksIG1pblk6IHRoaXMuc2Vjb25kYXJ5Vmlld0JveC5ib3gubWluWX1cbiAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICB3ZWVrRGV0YWlsZWQ6ICF0cmFuc2Zvcm1Ub0xpbmVDaGFydCxcbiAgICAgICAgICAgIGRheURldGFpbGVkOiB0cmFuc2Zvcm1Ub0xpbmVDaGFydCxcbiAgICAgICAgICAgIGRlZmF1bHRTY2FsZTogdHJhbnNmb3JtVG9MaW5lQ2hhcnQgPyBbMCwgMF0gOiB3ZWVrTWlkZGxlRGF5U2NhbGUsXG4gICAgICAgICAgICBpc0JhcjogdHJhbnNmb3JtVG9MaW5lQ2hhcnQgPyBmYWxzZSA6IHRoaXMuaXNCYXIsXG4gICAgICAgICAgICBpc1BpZTogdGhpcy5pc0FyZWEsXG4gICAgICAgICAgICBpc0FyZWE6IGZhbHNlLFxuICAgICAgICAgICAgdmlzaWJsZUxpbmVJZHM6IHRyYW5zZm9ybVRvTGluZUNoYXJ0ID8gbnVsbCA6IHRoaXMubGluZUlkcyxcbiAgICAgICAgICAgIHRyYW5zZm9ybVRvTGluZUNoYXJ0LFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnN1YlN0b3JlLmNoYW5nZVNpemUod2lkdGgsIGNoYXJ0SGVpZ2h0KTtcblxuICAgICAgICBuZXh0RnJhbWUoKCkgPT4gdGhpcy50cmlnZ2VyKFNIT1dfU1VCX1NUT1JFLCB0aGlzLnN1YlN0b3JlKSk7XG4gICAgfVxuXG4gICAgc2hvd1BvaW50KGluZGV4KSB7XG4gICAgICAgIGlmICh0aGlzLnN1YlN0b3JlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc0FyZWEpIHtcbiAgICAgICAgICAgIGNvbnN0IHtwb2ludHMsIGxpbmVDb2xvcnMsIGxpbmVOYW1lcywgYWxsTGluZUlkc30gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRQb2ludCA9IE1hdGgubWF4KGluZGV4IC0gMywgMCk7XG4gICAgICAgICAgICBjb25zdCBlbmRQb2ludCA9IE1hdGgubWluKGluZGV4ICsgNCwgcG9pbnRzLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNjYWxlUG9pbnRzID0gcG9pbnRzLnNsaWNlKHN0YXJ0UG9pbnQsIGVuZFBvaW50KTtcblxuICAgICAgICAgICAgdGhpcy5fc2hvd1BvaW50KHBvaW50LCB7XG4gICAgICAgICAgICAgICAgcG9pbnRzOiBzY2FsZVBvaW50cyxcbiAgICAgICAgICAgICAgICBjb2xvcnM6IGxpbmVDb2xvcnMsXG4gICAgICAgICAgICAgICAgbGluZUlkczogYWxsTGluZUlkcyxcbiAgICAgICAgICAgICAgICBuYW1lczogbGluZU5hbWVzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNhblNob3dQb2ludCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge3BvaW50cywgZGF0YUxpbmt9ID0gdGhpcztcbiAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaW5kZXhdO1xuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUocG9pbnQueCArIFRJTUVaT05FX09GRlNFVCk7XG5cbiAgICAgICAgY29uc3QgZGF0YVVybCA9IGdldERhdGFVcmwoZGF0YUxpbmssIGRhdGUpO1xuXG4gICAgICAgIGZldGNoKGRhdGFVcmwpXG4gICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5vaykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0Lmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzdWx0LnRleHQoKSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB0aGlzLl9zaG93UG9pbnQocG9pbnQsIHByZXBhcmVDaGFydERhdGEoZGF0YSkpKVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoYFBvaW50IGRhdGEgbG9hZCBmYWlsZWQsIHVybDogJHtkYXRhVXJsfWAsIGVycm9yKSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdG9yZTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/Store/Store.js\n");

/***/ }),

/***/ "./src/chart/Store/ViewBox.js":
/*!************************************!*\
  !*** ./src/chart/Store/ViewBox.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _EventEmitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EventEmitter */ \"./src/chart/EventEmitter.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/chart/constants.js\");\n/* harmony import */ var _getViewBox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getViewBox */ \"./src/chart/Store/getViewBox.js\");\n/* harmony import */ var _getYScalePrecalc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getYScalePrecalc */ \"./src/chart/Store/getYScalePrecalc.js\");\n/* harmony import */ var _nextFrame__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../nextFrame */ \"./src/chart/nextFrame.js\");\n\n\n\n\n\n\n\nconst ANIMATION_TIMEOUT = 1000 / 60;\n\nconst getPosition = (target, current, speed, boxDiff, timeDiff) => {\n    const diff = target - current;\n    const absDiff = Math.abs(diff);\n\n    if (absDiff < boxDiff / 500) {\n        return [target, 0];\n    }\n\n    const timeFactor = speed === 0 ? 1 : (timeDiff / ANIMATION_TIMEOUT);\n\n    const targetHits = ((absDiff / boxDiff) * 9 + 11) / 2;\n\n    const targetSpeed = (diff / targetHits);\n    speed = (speed + targetSpeed) / 2;\n\n    const shift = (speed + speed * timeFactor) / 2;\n\n    if (Math.abs(shift) > absDiff) {\n        return [target, 0];\n    }\n\n    return [current + shift, speed];\n};\n\nclass ViewBox extends _EventEmitter__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(store, scale, lineIds, {calcGridStep = false, mainViewBox, defaultYScale} = {}) {\n        super();\n\n        this.store = store;\n\n        this.animation = {\n            speed: [0, 0],\n            timestamp: 0,\n            timeout: null,\n        };\n\n        this.yScalePrecalc = Object(_getYScalePrecalc__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(store);\n\n        this.mainViewBox = mainViewBox;\n        this.calcGridStep = calcGridStep;\n        this.box = Object(_getViewBox__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.store, this.yScalePrecalc, scale, lineIds, calcGridStep, this.mainViewBox);\n        this.animationBox = this.box;\n\n        this.nextFrameAnimationPlanned = false;\n\n        if (defaultYScale) {\n            this.box = Object.assign(this.box, defaultYScale);\n        }\n    }\n\n    update(scale, lineIds, keepYScale) {\n        lineIds = lineIds || this.store.lineIds;\n\n        if (!lineIds.length) {\n            return;\n        }\n\n        this.box = Object(_getViewBox__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n            this.store, this.yScalePrecalc, scale, lineIds, this.calcGridStep, this.mainViewBox, keepYScale,\n        );\n\n        this.trigger(_constants__WEBPACK_IMPORTED_MODULE_1__[\"CHANGE_VIEW_BOX\"], this.box);\n\n        this.animateViewBox();\n    }\n\n    animateViewBox() {\n        if (this.nextFrameAnimationPlanned) {\n            return;\n        }\n\n        this.nextFrameAnimationPlanned = true;\n\n        Object(_nextFrame__WEBPACK_IMPORTED_MODULE_4__[\"default\"])((timeFactor, timestamp) => {\n            this.nextFrameAnimationPlanned = false;\n\n            const {animation} = this;\n            const {timestamp: previousTimestamp} = animation;\n\n            animation.timestamp = timestamp;\n\n            const {scaleStartPoint, scaleEndPoint, minY, maxY, gridStep, minYShift} = this.box;\n            const {minY: minYCurr, maxY: maxYCurr} = this.animationBox;\n\n            if (minY === minYCurr && maxY === maxYCurr) {\n                this.animationBox = {\n                    scaleStartPoint,\n                    scaleEndPoint,\n                    minY,\n                    maxY,\n                    gridStep,\n                    minYShift,\n                };\n                animation.speed = [0, 0];\n\n                this.trigger(_constants__WEBPACK_IMPORTED_MODULE_1__[\"ANIMATE_VIEW_BOX\"], this.animationBox);\n\n                return;\n            }\n\n            const boxDiff = maxYCurr - minYCurr;\n            const timeDiff = timestamp - previousTimestamp;\n            const [maxYSpeed, minYSpeed] = animation.speed;\n\n            const [maxYNext, maxYSpeedNext] = getPosition(maxY, maxYCurr, maxYSpeed, boxDiff, timeDiff);\n            const [minYNext, minYSpeedNext] = getPosition(minY, minYCurr, minYSpeed, boxDiff, timeDiff);\n\n            this.animationBox = {\n                scaleStartPoint,\n                scaleEndPoint,\n                minY: minYNext,\n                maxY: maxYNext,\n                gridStep,\n                minYShift,\n            };\n            animation.speed = [maxYSpeedNext, minYSpeedNext];\n\n            this.trigger(_constants__WEBPACK_IMPORTED_MODULE_1__[\"ANIMATE_VIEW_BOX\"], this.animationBox);\n\n            this.animateViewBox();\n        });\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ViewBox);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvU3RvcmUvVmlld0JveC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9TdG9yZS9WaWV3Qm94LmpzPzNhMjciXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJy4uL0V2ZW50RW1pdHRlcic7XG5pbXBvcnQge0FOSU1BVEVfVklFV19CT1gsIENIQU5HRV9WSUVXX0JPWH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBnZXRWaWV3Qm94IGZyb20gJy4vZ2V0Vmlld0JveCc7XG5pbXBvcnQgZ2V0WVNjYWxlUHJlY2FsYyBmcm9tICcuL2dldFlTY2FsZVByZWNhbGMnO1xuaW1wb3J0IG5leHRGcmFtZSBmcm9tICcuLi9uZXh0RnJhbWUnO1xuXG5jb25zdCBBTklNQVRJT05fVElNRU9VVCA9IDEwMDAgLyA2MDtcblxuY29uc3QgZ2V0UG9zaXRpb24gPSAodGFyZ2V0LCBjdXJyZW50LCBzcGVlZCwgYm94RGlmZiwgdGltZURpZmYpID0+IHtcbiAgICBjb25zdCBkaWZmID0gdGFyZ2V0IC0gY3VycmVudDtcbiAgICBjb25zdCBhYnNEaWZmID0gTWF0aC5hYnMoZGlmZik7XG5cbiAgICBpZiAoYWJzRGlmZiA8IGJveERpZmYgLyA1MDApIHtcbiAgICAgICAgcmV0dXJuIFt0YXJnZXQsIDBdO1xuICAgIH1cblxuICAgIGNvbnN0IHRpbWVGYWN0b3IgPSBzcGVlZCA9PT0gMCA/IDEgOiAodGltZURpZmYgLyBBTklNQVRJT05fVElNRU9VVCk7XG5cbiAgICBjb25zdCB0YXJnZXRIaXRzID0gKChhYnNEaWZmIC8gYm94RGlmZikgKiA5ICsgMTEpIC8gMjtcblxuICAgIGNvbnN0IHRhcmdldFNwZWVkID0gKGRpZmYgLyB0YXJnZXRIaXRzKTtcbiAgICBzcGVlZCA9IChzcGVlZCArIHRhcmdldFNwZWVkKSAvIDI7XG5cbiAgICBjb25zdCBzaGlmdCA9IChzcGVlZCArIHNwZWVkICogdGltZUZhY3RvcikgLyAyO1xuXG4gICAgaWYgKE1hdGguYWJzKHNoaWZ0KSA+IGFic0RpZmYpIHtcbiAgICAgICAgcmV0dXJuIFt0YXJnZXQsIDBdO1xuICAgIH1cblxuICAgIHJldHVybiBbY3VycmVudCArIHNoaWZ0LCBzcGVlZF07XG59O1xuXG5jbGFzcyBWaWV3Qm94IGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihzdG9yZSwgc2NhbGUsIGxpbmVJZHMsIHtjYWxjR3JpZFN0ZXAgPSBmYWxzZSwgbWFpblZpZXdCb3gsIGRlZmF1bHRZU2NhbGV9ID0ge30pIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLnN0b3JlID0gc3RvcmU7XG5cbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSB7XG4gICAgICAgICAgICBzcGVlZDogWzAsIDBdLFxuICAgICAgICAgICAgdGltZXN0YW1wOiAwLFxuICAgICAgICAgICAgdGltZW91dDogbnVsbCxcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnlTY2FsZVByZWNhbGMgPSBnZXRZU2NhbGVQcmVjYWxjKHN0b3JlKTtcblxuICAgICAgICB0aGlzLm1haW5WaWV3Qm94ID0gbWFpblZpZXdCb3g7XG4gICAgICAgIHRoaXMuY2FsY0dyaWRTdGVwID0gY2FsY0dyaWRTdGVwO1xuICAgICAgICB0aGlzLmJveCA9IGdldFZpZXdCb3godGhpcy5zdG9yZSwgdGhpcy55U2NhbGVQcmVjYWxjLCBzY2FsZSwgbGluZUlkcywgY2FsY0dyaWRTdGVwLCB0aGlzLm1haW5WaWV3Qm94KTtcbiAgICAgICAgdGhpcy5hbmltYXRpb25Cb3ggPSB0aGlzLmJveDtcblxuICAgICAgICB0aGlzLm5leHRGcmFtZUFuaW1hdGlvblBsYW5uZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAoZGVmYXVsdFlTY2FsZSkge1xuICAgICAgICAgICAgdGhpcy5ib3ggPSBPYmplY3QuYXNzaWduKHRoaXMuYm94LCBkZWZhdWx0WVNjYWxlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZShzY2FsZSwgbGluZUlkcywga2VlcFlTY2FsZSkge1xuICAgICAgICBsaW5lSWRzID0gbGluZUlkcyB8fCB0aGlzLnN0b3JlLmxpbmVJZHM7XG5cbiAgICAgICAgaWYgKCFsaW5lSWRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ib3ggPSBnZXRWaWV3Qm94KFxuICAgICAgICAgICAgdGhpcy5zdG9yZSwgdGhpcy55U2NhbGVQcmVjYWxjLCBzY2FsZSwgbGluZUlkcywgdGhpcy5jYWxjR3JpZFN0ZXAsIHRoaXMubWFpblZpZXdCb3gsIGtlZXBZU2NhbGUsXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy50cmlnZ2VyKENIQU5HRV9WSUVXX0JPWCwgdGhpcy5ib3gpO1xuXG4gICAgICAgIHRoaXMuYW5pbWF0ZVZpZXdCb3goKTtcbiAgICB9XG5cbiAgICBhbmltYXRlVmlld0JveCgpIHtcbiAgICAgICAgaWYgKHRoaXMubmV4dEZyYW1lQW5pbWF0aW9uUGxhbm5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5uZXh0RnJhbWVBbmltYXRpb25QbGFubmVkID0gdHJ1ZTtcblxuICAgICAgICBuZXh0RnJhbWUoKHRpbWVGYWN0b3IsIHRpbWVzdGFtcCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5uZXh0RnJhbWVBbmltYXRpb25QbGFubmVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGNvbnN0IHthbmltYXRpb259ID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IHt0aW1lc3RhbXA6IHByZXZpb3VzVGltZXN0YW1wfSA9IGFuaW1hdGlvbjtcblxuICAgICAgICAgICAgYW5pbWF0aW9uLnRpbWVzdGFtcCA9IHRpbWVzdGFtcDtcblxuICAgICAgICAgICAgY29uc3Qge3NjYWxlU3RhcnRQb2ludCwgc2NhbGVFbmRQb2ludCwgbWluWSwgbWF4WSwgZ3JpZFN0ZXAsIG1pbllTaGlmdH0gPSB0aGlzLmJveDtcbiAgICAgICAgICAgIGNvbnN0IHttaW5ZOiBtaW5ZQ3VyciwgbWF4WTogbWF4WUN1cnJ9ID0gdGhpcy5hbmltYXRpb25Cb3g7XG5cbiAgICAgICAgICAgIGlmIChtaW5ZID09PSBtaW5ZQ3VyciAmJiBtYXhZID09PSBtYXhZQ3Vycikge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uQm94ID0ge1xuICAgICAgICAgICAgICAgICAgICBzY2FsZVN0YXJ0UG9pbnQsXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlRW5kUG9pbnQsXG4gICAgICAgICAgICAgICAgICAgIG1pblksXG4gICAgICAgICAgICAgICAgICAgIG1heFksXG4gICAgICAgICAgICAgICAgICAgIGdyaWRTdGVwLFxuICAgICAgICAgICAgICAgICAgICBtaW5ZU2hpZnQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24uc3BlZWQgPSBbMCwgMF07XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoQU5JTUFURV9WSUVXX0JPWCwgdGhpcy5hbmltYXRpb25Cb3gpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBib3hEaWZmID0gbWF4WUN1cnIgLSBtaW5ZQ3VycjtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVEaWZmID0gdGltZXN0YW1wIC0gcHJldmlvdXNUaW1lc3RhbXA7XG4gICAgICAgICAgICBjb25zdCBbbWF4WVNwZWVkLCBtaW5ZU3BlZWRdID0gYW5pbWF0aW9uLnNwZWVkO1xuXG4gICAgICAgICAgICBjb25zdCBbbWF4WU5leHQsIG1heFlTcGVlZE5leHRdID0gZ2V0UG9zaXRpb24obWF4WSwgbWF4WUN1cnIsIG1heFlTcGVlZCwgYm94RGlmZiwgdGltZURpZmYpO1xuICAgICAgICAgICAgY29uc3QgW21pbllOZXh0LCBtaW5ZU3BlZWROZXh0XSA9IGdldFBvc2l0aW9uKG1pblksIG1pbllDdXJyLCBtaW5ZU3BlZWQsIGJveERpZmYsIHRpbWVEaWZmKTtcblxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Cb3ggPSB7XG4gICAgICAgICAgICAgICAgc2NhbGVTdGFydFBvaW50LFxuICAgICAgICAgICAgICAgIHNjYWxlRW5kUG9pbnQsXG4gICAgICAgICAgICAgICAgbWluWTogbWluWU5leHQsXG4gICAgICAgICAgICAgICAgbWF4WTogbWF4WU5leHQsXG4gICAgICAgICAgICAgICAgZ3JpZFN0ZXAsXG4gICAgICAgICAgICAgICAgbWluWVNoaWZ0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFuaW1hdGlvbi5zcGVlZCA9IFttYXhZU3BlZWROZXh0LCBtaW5ZU3BlZWROZXh0XTtcblxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKEFOSU1BVEVfVklFV19CT1gsIHRoaXMuYW5pbWF0aW9uQm94KTtcblxuICAgICAgICAgICAgdGhpcy5hbmltYXRlVmlld0JveCgpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZpZXdCb3g7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/Store/ViewBox.js\n");

/***/ }),

/***/ "./src/chart/Store/getViewBox.js":
/*!***************************************!*\
  !*** ./src/chart/Store/getViewBox.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants */ \"./src/chart/constants.js\");\n\n\nconst GRID_LINE_COUNT = 6;\nconst GRID_MIN_HEIGHT = 50;\n\nconst precalcStep = 20;\n\nconst roundStep = (exactStep) => {\n    const [fraction, digit] = Number(exactStep.toPrecision(2)).toExponential().split('e');\n\n    const [intStr, partStr] = fraction.split('.');\n\n    let int = Number(intStr);\n    let part = partStr ? Number(partStr) : 0;\n\n    if (int > 7 && part > 0) {\n        int = 10;\n        part = 0;\n    } else if (int > 2) {\n        if (part >= 5) {\n            int++;\n        }\n\n        part = 0;\n    } else if (part < 3) {\n        part = 0;\n    } else if (part > 7) {\n        int++;\n        part = 0;\n    } else {\n        part = 5;\n    }\n\n    return Number(`${int}.${part}e${digit}`);\n};\n\n// const getSubstep = (step) => {\n//     const [fraction] = step.toExponential().split('e');\n\n//     return step / (Number(fraction) * 10);\n// };\n\nconst getSubstep = (step) => {\n    const [fraction] = step.toExponential().split('e');\n\n    const numFraction = Number(fraction);\n\n    let parts = numFraction;\n\n    if (numFraction < 3) {\n        parts = numFraction * 2;\n    }\n\n    return step / parts;\n};\n\n// const roundYScaledStep = exactStep => Number(exactStep.toPrecision(2));\n\nconst getGridStep = (minY, maxY, store) => {\n    const [, [, height]] = store.size;\n\n    const exactStep = (maxY - minY) / Math.min(Math.floor(height / GRID_MIN_HEIGHT), GRID_LINE_COUNT);\n\n    // return store.yScaled ? roundYScaledStep(exactStep) : roundStep(exactStep);\n    return roundStep(exactStep);\n};\n\nconst getAreaViewBox = (scaleStartPoint, scaleEndPoint) => ({\n    scaleStartPoint,\n    scaleEndPoint,\n    minY: 0,\n    maxY: 100,\n    gridStep: 20,\n});\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ((store, yScalePrecalc, [scaleStart = 0, scaleEnd = 0] = [], lineIds, calcGridStep, mainViewBox, keepYScale) => {\n    const {points, startFromZero, isBar, isPie} = store;\n    const [, [width]] = store.size;\n\n    const firstIndex = 0;\n    const lastIndex = points.length - 1;\n\n    const scaleStartPoint = (lastIndex - firstIndex) * scaleStart + firstIndex;\n    const scaleEndPoint = (lastIndex - firstIndex) * (1 - scaleEnd) + firstIndex;\n\n    const paddingSize = (scaleEndPoint - scaleStartPoint) * _constants__WEBPACK_IMPORTED_MODULE_0__[\"PADDING\"] / (width - (_constants__WEBPACK_IMPORTED_MODULE_0__[\"PADDING\"] * 2));\n\n    const startIndex = Math.max(Math.ceil(scaleStartPoint - paddingSize), 0);\n    const endIndex = Math.min(Math.floor(scaleEndPoint + paddingSize), lastIndex);\n\n    if (store.isArea || keepYScale) {\n        return getAreaViewBox(scaleStartPoint, scaleEndPoint);\n    }\n\n    let minY = startFromZero ? 0 : points[startIndex].lines[lineIds[0]];\n    let maxY = minY;\n\n    const checkMinMax = lines => (id) => {\n        const y = lines[id];\n\n        if (y < minY) {\n            minY = y;\n        }\n\n        if (y > maxY) {\n            maxY = y;\n        }\n    };\n\n    let index = startIndex;\n\n    while (index <= endIndex) {\n        const {lines} = points[index];\n\n        // для столбцов просто складываем все значения\n        if (isBar || isPie) {\n            let y = 0;\n            lineIds.forEach(lineId => y += lines[lineId]);\n\n            if (y > maxY) {\n                maxY = y;\n            }\n        } else {\n            if (index + precalcStep < endIndex) {\n                const precalc = yScalePrecalc[index];\n\n                if (precalc) {\n                    // eslint-disable-next-line no-loop-func\n                    for (let i = 0; i < lineIds.length; i++) {\n                        const lineId = lineIds[i];\n                        const {minY: precalcMinY, maxY: precalcMaxY} = precalc[lineId];\n\n                        if (precalcMinY < minY) {\n                            minY = precalcMinY;\n                        }\n\n                        if (precalcMaxY > maxY) {\n                            maxY = precalcMaxY;\n                        }\n                    }\n\n                    index += precalcStep;\n\n                    continue;\n                }\n            }\n\n            lineIds.forEach(checkMinMax(lines));\n        }\n\n        index++;\n    }\n\n    // for (let i = startIndex; i <= endIndex; i++) {\n    //     const {lines} = points[i];\n\n    //     // для столбцов просто складываем все значения\n    //     if (isBar) {\n    //         let y = 0;\n    //         lineIds.forEach(lineId => y += lines[lineId]);\n\n    //         if (y > maxY) {\n    //             maxY = y;\n    //         }\n    //     } else {\n    //         lineIds.forEach(checkMinMax(lines));\n    //     }\n    // }\n\n    // увеличиваем maxY на 10%\n    maxY += Math.round((maxY - minY) / 10);\n\n    if (minY === maxY) {\n        maxY += 1;\n    }\n\n    let gridStep = maxY - minY;\n\n    const minYSaved = minY;\n\n    if (calcGridStep) {\n        gridStep = getGridStep(minY, maxY, store);\n\n        // minY = Math.floor(minY / gridStep) * gridStep;\n\n        if (store.yScaled) {\n            // const goodMinY -= Math.round((maxY - minY) / 50);\n            if (mainViewBox) {\n                // выравниваем нижний отступ второстепенного графика относительно основного\n                const {minYShift: mainYShift, minY: mainMinY, maxY: mainMaxY} = mainViewBox.box;\n\n                minY -= Math.round((maxY - minY) * mainYShift / (mainMaxY - mainMinY));\n\n                if (minY < 0) {\n                    minY = 0;\n                }\n            } else {\n                let nextMinY = Math.floor(minY / gridStep) * gridStep + gridStep;\n\n                const substep = getSubstep(gridStep);\n\n                while (nextMinY > minY) {\n                    nextMinY -= substep;\n                }\n\n                minY = nextMinY;\n            }\n        } else if (!startFromZero) {\n            minY = Math.floor(minY / gridStep) * gridStep;\n        }\n    }\n\n    const minYShift = minYSaved - minY;\n\n    return {scaleStartPoint, scaleEndPoint, minY, maxY, gridStep, minYShift};\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvU3RvcmUvZ2V0Vmlld0JveC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9TdG9yZS9nZXRWaWV3Qm94LmpzPzM3MDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtQQURESU5HfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5jb25zdCBHUklEX0xJTkVfQ09VTlQgPSA2O1xuY29uc3QgR1JJRF9NSU5fSEVJR0hUID0gNTA7XG5cbmNvbnN0IHByZWNhbGNTdGVwID0gMjA7XG5cbmNvbnN0IHJvdW5kU3RlcCA9IChleGFjdFN0ZXApID0+IHtcbiAgICBjb25zdCBbZnJhY3Rpb24sIGRpZ2l0XSA9IE51bWJlcihleGFjdFN0ZXAudG9QcmVjaXNpb24oMikpLnRvRXhwb25lbnRpYWwoKS5zcGxpdCgnZScpO1xuXG4gICAgY29uc3QgW2ludFN0ciwgcGFydFN0cl0gPSBmcmFjdGlvbi5zcGxpdCgnLicpO1xuXG4gICAgbGV0IGludCA9IE51bWJlcihpbnRTdHIpO1xuICAgIGxldCBwYXJ0ID0gcGFydFN0ciA/IE51bWJlcihwYXJ0U3RyKSA6IDA7XG5cbiAgICBpZiAoaW50ID4gNyAmJiBwYXJ0ID4gMCkge1xuICAgICAgICBpbnQgPSAxMDtcbiAgICAgICAgcGFydCA9IDA7XG4gICAgfSBlbHNlIGlmIChpbnQgPiAyKSB7XG4gICAgICAgIGlmIChwYXJ0ID49IDUpIHtcbiAgICAgICAgICAgIGludCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFydCA9IDA7XG4gICAgfSBlbHNlIGlmIChwYXJ0IDwgMykge1xuICAgICAgICBwYXJ0ID0gMDtcbiAgICB9IGVsc2UgaWYgKHBhcnQgPiA3KSB7XG4gICAgICAgIGludCsrO1xuICAgICAgICBwYXJ0ID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwYXJ0ID0gNTtcbiAgICB9XG5cbiAgICByZXR1cm4gTnVtYmVyKGAke2ludH0uJHtwYXJ0fWUke2RpZ2l0fWApO1xufTtcblxuLy8gY29uc3QgZ2V0U3Vic3RlcCA9IChzdGVwKSA9PiB7XG4vLyAgICAgY29uc3QgW2ZyYWN0aW9uXSA9IHN0ZXAudG9FeHBvbmVudGlhbCgpLnNwbGl0KCdlJyk7XG5cbi8vICAgICByZXR1cm4gc3RlcCAvIChOdW1iZXIoZnJhY3Rpb24pICogMTApO1xuLy8gfTtcblxuY29uc3QgZ2V0U3Vic3RlcCA9IChzdGVwKSA9PiB7XG4gICAgY29uc3QgW2ZyYWN0aW9uXSA9IHN0ZXAudG9FeHBvbmVudGlhbCgpLnNwbGl0KCdlJyk7XG5cbiAgICBjb25zdCBudW1GcmFjdGlvbiA9IE51bWJlcihmcmFjdGlvbik7XG5cbiAgICBsZXQgcGFydHMgPSBudW1GcmFjdGlvbjtcblxuICAgIGlmIChudW1GcmFjdGlvbiA8IDMpIHtcbiAgICAgICAgcGFydHMgPSBudW1GcmFjdGlvbiAqIDI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0ZXAgLyBwYXJ0cztcbn07XG5cbi8vIGNvbnN0IHJvdW5kWVNjYWxlZFN0ZXAgPSBleGFjdFN0ZXAgPT4gTnVtYmVyKGV4YWN0U3RlcC50b1ByZWNpc2lvbigyKSk7XG5cbmNvbnN0IGdldEdyaWRTdGVwID0gKG1pblksIG1heFksIHN0b3JlKSA9PiB7XG4gICAgY29uc3QgWywgWywgaGVpZ2h0XV0gPSBzdG9yZS5zaXplO1xuXG4gICAgY29uc3QgZXhhY3RTdGVwID0gKG1heFkgLSBtaW5ZKSAvIE1hdGgubWluKE1hdGguZmxvb3IoaGVpZ2h0IC8gR1JJRF9NSU5fSEVJR0hUKSwgR1JJRF9MSU5FX0NPVU5UKTtcblxuICAgIC8vIHJldHVybiBzdG9yZS55U2NhbGVkID8gcm91bmRZU2NhbGVkU3RlcChleGFjdFN0ZXApIDogcm91bmRTdGVwKGV4YWN0U3RlcCk7XG4gICAgcmV0dXJuIHJvdW5kU3RlcChleGFjdFN0ZXApO1xufTtcblxuY29uc3QgZ2V0QXJlYVZpZXdCb3ggPSAoc2NhbGVTdGFydFBvaW50LCBzY2FsZUVuZFBvaW50KSA9PiAoe1xuICAgIHNjYWxlU3RhcnRQb2ludCxcbiAgICBzY2FsZUVuZFBvaW50LFxuICAgIG1pblk6IDAsXG4gICAgbWF4WTogMTAwLFxuICAgIGdyaWRTdGVwOiAyMCxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCAoc3RvcmUsIHlTY2FsZVByZWNhbGMsIFtzY2FsZVN0YXJ0ID0gMCwgc2NhbGVFbmQgPSAwXSA9IFtdLCBsaW5lSWRzLCBjYWxjR3JpZFN0ZXAsIG1haW5WaWV3Qm94LCBrZWVwWVNjYWxlKSA9PiB7XG4gICAgY29uc3Qge3BvaW50cywgc3RhcnRGcm9tWmVybywgaXNCYXIsIGlzUGllfSA9IHN0b3JlO1xuICAgIGNvbnN0IFssIFt3aWR0aF1dID0gc3RvcmUuc2l6ZTtcblxuICAgIGNvbnN0IGZpcnN0SW5kZXggPSAwO1xuICAgIGNvbnN0IGxhc3RJbmRleCA9IHBvaW50cy5sZW5ndGggLSAxO1xuXG4gICAgY29uc3Qgc2NhbGVTdGFydFBvaW50ID0gKGxhc3RJbmRleCAtIGZpcnN0SW5kZXgpICogc2NhbGVTdGFydCArIGZpcnN0SW5kZXg7XG4gICAgY29uc3Qgc2NhbGVFbmRQb2ludCA9IChsYXN0SW5kZXggLSBmaXJzdEluZGV4KSAqICgxIC0gc2NhbGVFbmQpICsgZmlyc3RJbmRleDtcblxuICAgIGNvbnN0IHBhZGRpbmdTaXplID0gKHNjYWxlRW5kUG9pbnQgLSBzY2FsZVN0YXJ0UG9pbnQpICogUEFERElORyAvICh3aWR0aCAtIChQQURESU5HICogMikpO1xuXG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IE1hdGgubWF4KE1hdGguY2VpbChzY2FsZVN0YXJ0UG9pbnQgLSBwYWRkaW5nU2l6ZSksIDApO1xuICAgIGNvbnN0IGVuZEluZGV4ID0gTWF0aC5taW4oTWF0aC5mbG9vcihzY2FsZUVuZFBvaW50ICsgcGFkZGluZ1NpemUpLCBsYXN0SW5kZXgpO1xuXG4gICAgaWYgKHN0b3JlLmlzQXJlYSB8fCBrZWVwWVNjYWxlKSB7XG4gICAgICAgIHJldHVybiBnZXRBcmVhVmlld0JveChzY2FsZVN0YXJ0UG9pbnQsIHNjYWxlRW5kUG9pbnQpO1xuICAgIH1cblxuICAgIGxldCBtaW5ZID0gc3RhcnRGcm9tWmVybyA/IDAgOiBwb2ludHNbc3RhcnRJbmRleF0ubGluZXNbbGluZUlkc1swXV07XG4gICAgbGV0IG1heFkgPSBtaW5ZO1xuXG4gICAgY29uc3QgY2hlY2tNaW5NYXggPSBsaW5lcyA9PiAoaWQpID0+IHtcbiAgICAgICAgY29uc3QgeSA9IGxpbmVzW2lkXTtcblxuICAgICAgICBpZiAoeSA8IG1pblkpIHtcbiAgICAgICAgICAgIG1pblkgPSB5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHkgPiBtYXhZKSB7XG4gICAgICAgICAgICBtYXhZID0geTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBsZXQgaW5kZXggPSBzdGFydEluZGV4O1xuXG4gICAgd2hpbGUgKGluZGV4IDw9IGVuZEluZGV4KSB7XG4gICAgICAgIGNvbnN0IHtsaW5lc30gPSBwb2ludHNbaW5kZXhdO1xuXG4gICAgICAgIC8vINC00LvRjyDRgdGC0L7Qu9Cx0YbQvtCyINC/0YDQvtGB0YLQviDRgdC60LvQsNC00YvQstCw0LXQvCDQstGB0LUg0LfQvdCw0YfQtdC90LjRj1xuICAgICAgICBpZiAoaXNCYXIgfHwgaXNQaWUpIHtcbiAgICAgICAgICAgIGxldCB5ID0gMDtcbiAgICAgICAgICAgIGxpbmVJZHMuZm9yRWFjaChsaW5lSWQgPT4geSArPSBsaW5lc1tsaW5lSWRdKTtcblxuICAgICAgICAgICAgaWYgKHkgPiBtYXhZKSB7XG4gICAgICAgICAgICAgICAgbWF4WSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaW5kZXggKyBwcmVjYWxjU3RlcCA8IGVuZEluZGV4KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJlY2FsYyA9IHlTY2FsZVByZWNhbGNbaW5kZXhdO1xuXG4gICAgICAgICAgICAgICAgaWYgKHByZWNhbGMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWxvb3AtZnVuY1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVJZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVJZCA9IGxpbmVJZHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7bWluWTogcHJlY2FsY01pblksIG1heFk6IHByZWNhbGNNYXhZfSA9IHByZWNhbGNbbGluZUlkXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZWNhbGNNaW5ZIDwgbWluWSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pblkgPSBwcmVjYWxjTWluWTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZWNhbGNNYXhZID4gbWF4WSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFkgPSBwcmVjYWxjTWF4WTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGluZGV4ICs9IHByZWNhbGNTdGVwO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGluZUlkcy5mb3JFYWNoKGNoZWNrTWluTWF4KGxpbmVzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpbmRleCsrO1xuICAgIH1cblxuICAgIC8vIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDw9IGVuZEluZGV4OyBpKyspIHtcbiAgICAvLyAgICAgY29uc3Qge2xpbmVzfSA9IHBvaW50c1tpXTtcblxuICAgIC8vICAgICAvLyDQtNC70Y8g0YHRgtC+0LvQsdGG0L7QsiDQv9GA0L7RgdGC0L4g0YHQutC70LDQtNGL0LLQsNC10Lwg0LLRgdC1INC30L3QsNGH0LXQvdC40Y9cbiAgICAvLyAgICAgaWYgKGlzQmFyKSB7XG4gICAgLy8gICAgICAgICBsZXQgeSA9IDA7XG4gICAgLy8gICAgICAgICBsaW5lSWRzLmZvckVhY2gobGluZUlkID0+IHkgKz0gbGluZXNbbGluZUlkXSk7XG5cbiAgICAvLyAgICAgICAgIGlmICh5ID4gbWF4WSkge1xuICAgIC8vICAgICAgICAgICAgIG1heFkgPSB5O1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9IGVsc2Uge1xuICAgIC8vICAgICAgICAgbGluZUlkcy5mb3JFYWNoKGNoZWNrTWluTWF4KGxpbmVzKSk7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICAvLyDRg9Cy0LXQu9C40YfQuNCy0LDQtdC8IG1heFkg0L3QsCAxMCVcbiAgICBtYXhZICs9IE1hdGgucm91bmQoKG1heFkgLSBtaW5ZKSAvIDEwKTtcblxuICAgIGlmIChtaW5ZID09PSBtYXhZKSB7XG4gICAgICAgIG1heFkgKz0gMTtcbiAgICB9XG5cbiAgICBsZXQgZ3JpZFN0ZXAgPSBtYXhZIC0gbWluWTtcblxuICAgIGNvbnN0IG1pbllTYXZlZCA9IG1pblk7XG5cbiAgICBpZiAoY2FsY0dyaWRTdGVwKSB7XG4gICAgICAgIGdyaWRTdGVwID0gZ2V0R3JpZFN0ZXAobWluWSwgbWF4WSwgc3RvcmUpO1xuXG4gICAgICAgIC8vIG1pblkgPSBNYXRoLmZsb29yKG1pblkgLyBncmlkU3RlcCkgKiBncmlkU3RlcDtcblxuICAgICAgICBpZiAoc3RvcmUueVNjYWxlZCkge1xuICAgICAgICAgICAgLy8gY29uc3QgZ29vZE1pblkgLT0gTWF0aC5yb3VuZCgobWF4WSAtIG1pblkpIC8gNTApO1xuICAgICAgICAgICAgaWYgKG1haW5WaWV3Qm94KSB7XG4gICAgICAgICAgICAgICAgLy8g0LLRi9GA0LDQstC90LjQstCw0LXQvCDQvdC40LbQvdC40Lkg0L7RgtGB0YLRg9C/INCy0YLQvtGA0L7RgdGC0LXQv9C10L3QvdC+0LPQviDQs9GA0LDRhNC40LrQsCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L4g0L7RgdC90L7QstC90L7Qs9C+XG4gICAgICAgICAgICAgICAgY29uc3Qge21pbllTaGlmdDogbWFpbllTaGlmdCwgbWluWTogbWFpbk1pblksIG1heFk6IG1haW5NYXhZfSA9IG1haW5WaWV3Qm94LmJveDtcblxuICAgICAgICAgICAgICAgIG1pblkgLT0gTWF0aC5yb3VuZCgobWF4WSAtIG1pblkpICogbWFpbllTaGlmdCAvIChtYWluTWF4WSAtIG1haW5NaW5ZKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAobWluWSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWluWSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dE1pblkgPSBNYXRoLmZsb29yKG1pblkgLyBncmlkU3RlcCkgKiBncmlkU3RlcCArIGdyaWRTdGVwO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3Vic3RlcCA9IGdldFN1YnN0ZXAoZ3JpZFN0ZXApO1xuXG4gICAgICAgICAgICAgICAgd2hpbGUgKG5leHRNaW5ZID4gbWluWSkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0TWluWSAtPSBzdWJzdGVwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG1pblkgPSBuZXh0TWluWTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghc3RhcnRGcm9tWmVybykge1xuICAgICAgICAgICAgbWluWSA9IE1hdGguZmxvb3IobWluWSAvIGdyaWRTdGVwKSAqIGdyaWRTdGVwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgbWluWVNoaWZ0ID0gbWluWVNhdmVkIC0gbWluWTtcblxuICAgIHJldHVybiB7c2NhbGVTdGFydFBvaW50LCBzY2FsZUVuZFBvaW50LCBtaW5ZLCBtYXhZLCBncmlkU3RlcCwgbWluWVNoaWZ0fTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/Store/getViewBox.js\n");

/***/ }),

/***/ "./src/chart/Store/getYScalePrecalc.js":
/*!*********************************************!*\
  !*** ./src/chart/Store/getYScalePrecalc.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ((store) => {\n    if (!store.isLine) {\n        return {};\n    }\n\n    const {points, allLineIds} = store;\n    const step = 20;\n    const pointsCount = points.length;\n    const collection = {};\n\n    for (let i = 0; i < pointsCount - step; i += step) {\n        const pointCollection = {};\n        collection[i] = pointCollection;\n\n        const firstPoint = points[i];\n\n        for (let j = 0; j < allLineIds.length; j++) {\n            const lineId = allLineIds[j];\n            const firstPointY = firstPoint.lines[lineId];\n            let minY = firstPointY;\n            let maxY = firstPointY;\n\n            for (let k = i + 1; k < i + step; k++) {\n                const pointY = points[k].lines[lineId];\n                if (pointY > maxY) {\n                    maxY = pointY;\n                }\n                if (pointY < minY) {\n                    minY = pointY;\n                }\n            }\n\n            pointCollection[lineId] = {minY, maxY};\n        }\n    }\n\n    return collection;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvU3RvcmUvZ2V0WVNjYWxlUHJlY2FsYy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9TdG9yZS9nZXRZU2NhbGVQcmVjYWxjLmpzPzE0MTIiXSwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgZGVmYXVsdCAoc3RvcmUpID0+IHtcbiAgICBpZiAoIXN0b3JlLmlzTGluZSkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgY29uc3Qge3BvaW50cywgYWxsTGluZUlkc30gPSBzdG9yZTtcbiAgICBjb25zdCBzdGVwID0gMjA7XG4gICAgY29uc3QgcG9pbnRzQ291bnQgPSBwb2ludHMubGVuZ3RoO1xuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSB7fTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzQ291bnQgLSBzdGVwOyBpICs9IHN0ZXApIHtcbiAgICAgICAgY29uc3QgcG9pbnRDb2xsZWN0aW9uID0ge307XG4gICAgICAgIGNvbGxlY3Rpb25baV0gPSBwb2ludENvbGxlY3Rpb247XG5cbiAgICAgICAgY29uc3QgZmlyc3RQb2ludCA9IHBvaW50c1tpXTtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFsbExpbmVJZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVJZCA9IGFsbExpbmVJZHNbal07XG4gICAgICAgICAgICBjb25zdCBmaXJzdFBvaW50WSA9IGZpcnN0UG9pbnQubGluZXNbbGluZUlkXTtcbiAgICAgICAgICAgIGxldCBtaW5ZID0gZmlyc3RQb2ludFk7XG4gICAgICAgICAgICBsZXQgbWF4WSA9IGZpcnN0UG9pbnRZO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBrID0gaSArIDE7IGsgPCBpICsgc3RlcDsgaysrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnRZID0gcG9pbnRzW2tdLmxpbmVzW2xpbmVJZF07XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50WSA+IG1heFkpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4WSA9IHBvaW50WTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50WSA8IG1pblkpIHtcbiAgICAgICAgICAgICAgICAgICAgbWluWSA9IHBvaW50WTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBvaW50Q29sbGVjdGlvbltsaW5lSWRdID0ge21pblksIG1heFl9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbGxlY3Rpb247XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/Store/getYScalePrecalc.js\n");

/***/ }),

/***/ "./src/chart/Store/index.js":
/*!**********************************!*\
  !*** ./src/chart/Store/index.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Store */ \"./src/chart/Store/Store.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _Store__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvU3RvcmUvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQvU3RvcmUvaW5kZXguanM/NzY1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCB7ZGVmYXVsdH0gZnJvbSAnLi9TdG9yZSc7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/Store/index.js\n");

/***/ }),

/***/ "./src/chart/ThemeSwitcher/ThemeSwitcher.js":
/*!**************************************************!*\
  !*** ./src/chart/ThemeSwitcher/ThemeSwitcher.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers */ \"./src/chart/helpers.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/chart/constants.js\");\n/* harmony import */ var _ThemeSwitcher_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ThemeSwitcher.styl */ \"./src/chart/ThemeSwitcher/ThemeSwitcher.styl\");\n/* harmony import */ var _ThemeSwitcher_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_ThemeSwitcher_styl__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\n\n\nconst renderText = (store, textNode) => {\n    const {theme, themes} = store;\n\n    textNode.textContent = theme === themes.light ? 'Switch to Night Mode' : 'Switch to Day Mode';\n};\n\nconst changeTheme = (store) => {\n    const {theme, themes} = store;\n\n    const newTheme = theme === themes.light ? themes.dark : themes.light;\n\n    store.setTheme(newTheme);\n};\n\nconst ThemeSwitcher = (store) => {\n    const node = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_ThemeSwitcher_styl__WEBPACK_IMPORTED_MODULE_2___default.a.themeSwitcher);\n\n    const switcher = Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_ThemeSwitcher_styl__WEBPACK_IMPORTED_MODULE_2___default.a.switcher);\n    const textNode = document.createTextNode('');\n\n    renderText(store, textNode);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(switcher, textNode);\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(node, switcher);\n\n    switcher.addEventListener('click', () => changeTheme(store));\n\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_1__[\"CHANGE_THEME\"], () => renderText(store, textNode));\n\n    return {node};\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ThemeSwitcher);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvVGhlbWVTd2l0Y2hlci9UaGVtZVN3aXRjaGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJ0L1RoZW1lU3dpdGNoZXIvVGhlbWVTd2l0Y2hlci5qcz9iOGM1Il0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHtjcmVhdGVFbGVtZW50LCBhcHBlbmRDaGlsZCwgYWRkRXZlbnQsIHdpdGhUaGVtZX0gZnJvbSAnLi4vaGVscGVycyc7XG5pbXBvcnQge0NIQU5HRV9USEVNRX0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBjc3MgZnJvbSAnLi9UaGVtZVN3aXRjaGVyLnN0eWwnO1xuXG5cbmNvbnN0IHJlbmRlclRleHQgPSAoc3RvcmUsIHRleHROb2RlKSA9PiB7XG4gICAgY29uc3Qge3RoZW1lLCB0aGVtZXN9ID0gc3RvcmU7XG5cbiAgICB0ZXh0Tm9kZS50ZXh0Q29udGVudCA9IHRoZW1lID09PSB0aGVtZXMubGlnaHQgPyAnU3dpdGNoIHRvIE5pZ2h0IE1vZGUnIDogJ1N3aXRjaCB0byBEYXkgTW9kZSc7XG59O1xuXG5jb25zdCBjaGFuZ2VUaGVtZSA9IChzdG9yZSkgPT4ge1xuICAgIGNvbnN0IHt0aGVtZSwgdGhlbWVzfSA9IHN0b3JlO1xuXG4gICAgY29uc3QgbmV3VGhlbWUgPSB0aGVtZSA9PT0gdGhlbWVzLmxpZ2h0ID8gdGhlbWVzLmRhcmsgOiB0aGVtZXMubGlnaHQ7XG5cbiAgICBzdG9yZS5zZXRUaGVtZShuZXdUaGVtZSk7XG59O1xuXG5jb25zdCBUaGVtZVN3aXRjaGVyID0gKHN0b3JlKSA9PiB7XG4gICAgY29uc3Qgbm9kZSA9IGNyZWF0ZUVsZW1lbnQoY3NzLnRoZW1lU3dpdGNoZXIpO1xuXG4gICAgY29uc3Qgc3dpdGNoZXIgPSBjcmVhdGVFbGVtZW50KGNzcy5zd2l0Y2hlcik7XG4gICAgY29uc3QgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG5cbiAgICByZW5kZXJUZXh0KHN0b3JlLCB0ZXh0Tm9kZSk7XG5cbiAgICBhcHBlbmRDaGlsZChzd2l0Y2hlciwgdGV4dE5vZGUpO1xuICAgIGFwcGVuZENoaWxkKG5vZGUsIHN3aXRjaGVyKTtcblxuICAgIHN3aXRjaGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY2hhbmdlVGhlbWUoc3RvcmUpKTtcblxuICAgIHN0b3JlLm9uKENIQU5HRV9USEVNRSwgKCkgPT4gcmVuZGVyVGV4dChzdG9yZSwgdGV4dE5vZGUpKTtcblxuICAgIHJldHVybiB7bm9kZX07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUaGVtZVN3aXRjaGVyO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/chart/ThemeSwitcher/ThemeSwitcher.js\n");

/***/ }),

/***/ "./src/chart/ThemeSwitcher/ThemeSwitcher.styl":
/*!****************************************************!*\
  !*** ./src/chart/ThemeSwitcher/ThemeSwitcher.styl ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin\nmodule.exports = {\"themeSwitcher\":\"ThemeSwitcher__themeSwitcher\",\"switcher\":\"ThemeSwitcher__switcher\"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvVGhlbWVTd2l0Y2hlci9UaGVtZVN3aXRjaGVyLnN0eWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQvVGhlbWVTd2l0Y2hlci9UaGVtZVN3aXRjaGVyLnN0eWw/ZWZhNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJ0aGVtZVN3aXRjaGVyXCI6XCJUaGVtZVN3aXRjaGVyX190aGVtZVN3aXRjaGVyXCIsXCJzd2l0Y2hlclwiOlwiVGhlbWVTd2l0Y2hlcl9fc3dpdGNoZXJcIn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/ThemeSwitcher/ThemeSwitcher.styl\n");

/***/ }),

/***/ "./src/chart/ThemeSwitcher/index.js":
/*!******************************************!*\
  !*** ./src/chart/ThemeSwitcher/index.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ThemeSwitcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ThemeSwitcher */ \"./src/chart/ThemeSwitcher/ThemeSwitcher.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _ThemeSwitcher__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvVGhlbWVTd2l0Y2hlci9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9UaGVtZVN3aXRjaGVyL2luZGV4LmpzPzYwNzkiXSwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQge2RlZmF1bHR9IGZyb20gJy4vVGhlbWVTd2l0Y2hlcic7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/ThemeSwitcher/index.js\n");

/***/ }),

/***/ "./src/chart/Webgl/Webgl.js":
/*!**********************************!*\
  !*** ./src/chart/Webgl/Webgl.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Webgl_styl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Webgl.styl */ \"./src/chart/Webgl/Webgl.styl\");\n/* harmony import */ var _Webgl_styl__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Webgl_styl__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers */ \"./src/chart/helpers.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"./src/chart/constants.js\");\n/* harmony import */ var _nextFrame__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../nextFrame */ \"./src/chart/nextFrame.js\");\n/* harmony import */ var _lineGl_glContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lineGl/glContext */ \"./src/chart/Webgl/lineGl/glContext.js\");\n/* harmony import */ var _barGl_glContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./barGl/glContext */ \"./src/chart/Webgl/barGl/glContext.js\");\n/* harmony import */ var _areaGl_glContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./areaGl/glContext */ \"./src/chart/Webgl/areaGl/glContext.js\");\n/* harmony import */ var _pieGl_glContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pieGl/glContext */ \"./src/chart/Webgl/pieGl/glContext.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./helpers */ \"./src/chart/Webgl/helpers.js\");\n\n// import getPolylinePoints from './getPolylinePoints';\n\n// import Canvas from '../Canvas';\n\n\n\n\n\n\n\n\n\nconst toggleZIndex = (node) => {\n    let zIndex = 1;\n\n    return () => {\n        node.style.zIndex = zIndex;\n\n        zIndex = zIndex === 1 ? 2 : 1;\n    };\n};\n\nlet imagesCount = 0;\nconst bottomPadding = _constants__WEBPACK_IMPORTED_MODULE_2__[\"VIEW_SCALER_SPACE\"] + _constants__WEBPACK_IMPORTED_MODULE_2__[\"CHART_SCALER_HEIGHT\"];\n\nconst changeLineOpacity = (\n    renderCurrent, linesOpacity, lineOpacityFrameMark, lineId, step, fromTimeout, timeFactor = 1,\n) => {\n    renderCurrent();\n\n    const opacity = linesOpacity[lineId];\n\n    if (fromTimeout && (opacity === 0 || opacity === 1)) {\n        return;\n    }\n\n    const actualStep = step * (opacity + 0.3) * (1 + timeFactor) / 2;\n\n    linesOpacity[lineId] += actualStep;\n\n    if (linesOpacity[lineId] <= 0) {\n        linesOpacity[lineId] = 0;\n    } else if (linesOpacity[lineId] >= 1) {\n        linesOpacity[lineId] = 1;\n    }\n\n    const mark = `${lineOpacityFrameMark}${lineId}`;\n\n    // eslint-disable-next-line no-shadow\n    Object(_nextFrame__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(timeFactor => changeLineOpacity(\n        renderCurrent, linesOpacity, lineOpacityFrameMark, lineId, step, true, timeFactor,\n    ), mark);\n};\n\nconst getDiffFactor = (store) => {\n    const {box, animationBox} = store.viewBox;\n\n    return Math.abs(box.maxY - animationBox.maxY) / (animationBox.maxY - animationBox.minY);\n};\n\nconst changeBarHeight = (\n    renderCurrent, barsHeight, store, lineOpacityFrameMark, lineId, target, step = 0, fromTimeout, timeFactor = 1,\n) => {\n    renderCurrent(true);\n\n    const height = barsHeight[lineId];\n\n    if (fromTimeout && ((target === 0 && height === 0) || (target === 1 && height === 1))) {\n        return;\n    }\n\n    const diffFactor = getDiffFactor(store);\n\n    const targetHits = (diffFactor * 9 + 11) / 2;\n\n    const targetStep = ((target - height) / targetHits);\n\n    step = (step + targetStep) / 2;\n\n\n    const shift = (step + step * timeFactor) / 2;\n\n    barsHeight[lineId] += shift;\n\n    if (barsHeight[lineId] <= 0.0001) {\n        barsHeight[lineId] = 0;\n    } else if (barsHeight[lineId] >= 0.9999) {\n        barsHeight[lineId] = 1;\n    }\n\n    const mark = `${lineOpacityFrameMark}${lineId}`;\n\n    // eslint-disable-next-line no-shadow\n    Object(_nextFrame__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(timeFactor => changeBarHeight(\n        renderCurrent, barsHeight, store, lineOpacityFrameMark, lineId, target, step, true, timeFactor,\n    ), mark);\n};\n\nconst getWebgl = (node, store, barsHeight, canvas) => {\n    store = store.subStore || store;\n\n    let glContext = _lineGl_glContext__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n\n    if (store.isBar) {\n        glContext = _barGl_glContext__WEBPACK_IMPORTED_MODULE_5__[\"default\"];\n    } else if (store.isArea) {\n        glContext = _areaGl_glContext__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\n    } else if (store.isPie) {\n        glContext = _pieGl_glContext__WEBPACK_IMPORTED_MODULE_7__[\"default\"];\n    }\n\n    const webgl = glContext(store, barsHeight, canvas);\n\n    if (!canvas) {\n        webgl.canvas.classList.add(_Webgl_styl__WEBPACK_IMPORTED_MODULE_0___default.a.canvas);\n    }\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"appendChild\"])(node, webgl.canvas);\n\n    webgl.canvas.addEventListener('webglcontextlost', () => {\n        webgl.isLost = true;\n\n        destroyWebgl(node, webgl);\n    }, true);\n\n    return webgl;\n};\n\nconst destroyWebgl = (node, webgl) => {\n    if (node.contains(webgl.canvas)) {\n        node.removeChild(webgl.canvas);\n    }\n\n    webgl.destroy();\n};\n\nconst canvas2dHideEffect = (node, webgl, width, height) => {\n    const glCanvas = webgl.gl.canvas;\n    const canvas2d = document.createElement('canvas');\n    canvas2d.classList.add(_Webgl_styl__WEBPACK_IMPORTED_MODULE_0___default.a.canvas2d);\n    const canvas2dCtx = canvas2d.getContext('2d');\n\n    height += bottomPadding;\n    const pixelRatio = Object(_helpers__WEBPACK_IMPORTED_MODULE_8__[\"getPixelRatio\"])();\n    const pixelWidth = width * pixelRatio;\n    const pixelHeight = height * pixelRatio;\n\n    canvas2d.style.width = `${width}px`;\n    canvas2d.style.height = `${height}px`;\n    canvas2d.width = pixelWidth;\n    canvas2d.height = pixelHeight;\n\n    canvas2dCtx.drawImage(glCanvas, 0, 0);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"appendChild\"])(node, canvas2d);\n\n    canvas2d.style.opacity = 1;\n    glCanvas.style.opacity = 0;\n\n    Object(_nextFrame__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(() => {\n        canvas2d.style.opacity = 0;\n        glCanvas.classList.add(_Webgl_styl__WEBPACK_IMPORTED_MODULE_0___default.a.transition);\n        Object(_nextFrame__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(() => {\n            glCanvas.style.opacity = 1;\n        });\n    });\n\n    setTimeout(() => {\n        node.removeChild(canvas2d);\n        glCanvas.classList.remove(_Webgl_styl__WEBPACK_IMPORTED_MODULE_0___default.a.transition);\n    }, 6000);\n};\n\nconst getLinesOpacity = store => store.allLineIds.reduce((acc, id) => Object.assign(acc, {[id]: 1}), {});\n\nconst renderPieNumbers = (store, node) => {\n    const {allLineIds} = store;\n    const pieNode = Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_Webgl_styl__WEBPACK_IMPORTED_MODULE_0___default.a.pieNumbers);\n    const pieItems = {};\n\n    allLineIds.forEach((lineId) => {\n        const elem = Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_Webgl_styl__WEBPACK_IMPORTED_MODULE_0___default.a.pieNumber);\n        const inner = Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_Webgl_styl__WEBPACK_IMPORTED_MODULE_0___default.a.pieNumberInner);\n        const text = document.createTextNode('10');\n\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"appendChild\"])(inner, text);\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"appendChild\"])(elem, inner);\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"appendChild\"])(pieNode, elem);\n\n        pieItems[lineId] = {\n            node: elem,\n            textNode: inner,\n            text,\n        };\n    });\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"appendChild\"])(node, pieNode);\n\n    return {node: pieNode, items: pieItems};\n};\n\nconst Webgl = (store, lineWidth = 2, padding = 0) => {\n    let webgl;\n\n    const node = Object(_helpers__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_Webgl_styl__WEBPACK_IMPORTED_MODULE_0___default.a.image);\n\n    const pieNumbers = renderPieNumbers(store, node);\n\n    let linesOpacity = getLinesOpacity(store);\n    const barsHeight = store.allLineIds.reduce((acc, id) => Object.assign(acc, {[id]: 1}), {});\n\n    webgl = getWebgl(node, store, barsHeight);\n\n\n    let currentWidth = 0;\n    let currentHeight = 0;\n    let needUpdateChartData = false;\n\n    const reRenderFrameMark = `${store.nextFramePrefix}webglRerender${imagesCount++}`;\n    const lineOpacityFrameMark = `${store.nextFramePrefix}webglLineOpacity${imagesCount++}`;\n\n    const reRender = (width, height) => Object(_nextFrame__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(() => {\n        const pixelRatio = Object(_helpers__WEBPACK_IMPORTED_MODULE_8__[\"getPixelRatio\"])();\n\n        if (width !== currentWidth || height !== currentHeight) {\n            // node.style.width = `${width}px`;\n            // node.style.height = `${height + bottomPadding}px`;\n        }\n\n        currentWidth = width;\n        currentHeight = height;\n\n        if (!webgl || webgl.isLost) {\n            webgl = getWebgl(node, store, barsHeight);\n        }\n\n        if (needUpdateChartData) {\n            webgl.updateChartData();\n\n            needUpdateChartData = false;\n        }\n\n        webgl.render(width, height, padding, linesOpacity, pixelRatio, bottomPadding, pieNumbers);\n\n        // toggleNodeZIndex();\n    }, reRenderFrameMark);\n\n    const renderCurrent = (updateChartData) => {\n        needUpdateChartData = updateChartData;\n\n        if (Object(_nextFrame__WEBPACK_IMPORTED_MODULE_3__[\"markHasBeenPlanned\"])(reRenderFrameMark)) {\n            return;\n        }\n\n        reRender(currentWidth, currentHeight);\n    };\n\n    const onLineOff = (lineId) => {\n        const activeStore = store.subStore || store;\n\n        if (activeStore.isBar || activeStore.isArea || activeStore.isPie) {\n            changeBarHeight(renderCurrent, barsHeight, activeStore, lineOpacityFrameMark, lineId, 0);\n        } else {\n            changeLineOpacity(renderCurrent, linesOpacity, lineOpacityFrameMark, lineId, -0.1);\n        }\n    };\n    const onLineOn = (lineId) => {\n        const activeStore = store.subStore || store;\n\n        if (activeStore.isBar || activeStore.isArea || activeStore.isPie) {\n            changeBarHeight(renderCurrent, barsHeight, activeStore, lineOpacityFrameMark, lineId, 1);\n        } else {\n            changeLineOpacity(renderCurrent, linesOpacity, lineOpacityFrameMark, lineId, 0.1);\n        }\n    };\n\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_2__[\"LINE_OFF\"], onLineOff);\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_2__[\"LINE_ON\"], onLineOn);\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_2__[\"SHOW_SUB_STORE\"], () => {\n        webgl.render(currentWidth, currentHeight, padding, linesOpacity, Object(_helpers__WEBPACK_IMPORTED_MODULE_8__[\"getPixelRatio\"])(), bottomPadding);\n\n        canvas2dHideEffect(node, webgl, currentWidth, currentHeight);\n\n        destroyWebgl(node, webgl);\n\n        if (store.transformToLineChart) {\n            const activeStore = store.subStore || store;\n\n            linesOpacity = getLinesOpacity(activeStore);\n            activeStore.on(_constants__WEBPACK_IMPORTED_MODULE_2__[\"LINE_OFF\"], onLineOff);\n            activeStore.on(_constants__WEBPACK_IMPORTED_MODULE_2__[\"LINE_ON\"], onLineOn);\n        }\n\n        if (store.subStore && store.subStore.isPie) {\n            pieNumbers.node.style.opacity = 1;\n        } else {\n            pieNumbers.node.style.opacity = 0;\n        }\n\n        webgl = getWebgl(node, store, barsHeight, webgl.gl.canvas);\n\n        renderCurrent();\n    });\n\n    const destroy = () => {\n        store.off(_constants__WEBPACK_IMPORTED_MODULE_2__[\"LINE_OFF\"], onLineOff);\n        store.off(_constants__WEBPACK_IMPORTED_MODULE_2__[\"LINE_ON\"], onLineOn);\n    };\n\n    return {\n        node,\n        render: reRender,\n        destroy,\n    };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Webgl);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvV2ViZ2wuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQvV2ViZ2wvV2ViZ2wuanM/YmMzOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3NzIGZyb20gJy4vV2ViZ2wuc3R5bCc7XG4vLyBpbXBvcnQgZ2V0UG9seWxpbmVQb2ludHMgZnJvbSAnLi9nZXRQb2x5bGluZVBvaW50cyc7XG5pbXBvcnQge2NyZWF0ZUVsZW1lbnQsIGFwcGVuZENoaWxkfSBmcm9tICcuLi9oZWxwZXJzJztcbi8vIGltcG9ydCBDYW52YXMgZnJvbSAnLi4vQ2FudmFzJztcbmltcG9ydCB7TElORV9PTiwgTElORV9PRkYsIFZJRVdfU0NBTEVSX1NQQUNFLCBDSEFSVF9TQ0FMRVJfSEVJR0hULCBTSE9XX1NVQl9TVE9SRX0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBuZXh0RnJhbWUsIHttYXJrSGFzQmVlblBsYW5uZWR9IGZyb20gJy4uL25leHRGcmFtZSc7XG5pbXBvcnQgbGluZUdsQ29udGV4dCBmcm9tICcuL2xpbmVHbC9nbENvbnRleHQnO1xuaW1wb3J0IGJhckdsQ29udGV4dCBmcm9tICcuL2JhckdsL2dsQ29udGV4dCc7XG5pbXBvcnQgYXJlYUdsQ29udGV4dCBmcm9tICcuL2FyZWFHbC9nbENvbnRleHQnO1xuaW1wb3J0IHBpZUdsQ29udGV4dCBmcm9tICcuL3BpZUdsL2dsQ29udGV4dCc7XG5pbXBvcnQge2dldFBpeGVsUmF0aW99IGZyb20gJy4vaGVscGVycyc7XG5cblxuY29uc3QgdG9nZ2xlWkluZGV4ID0gKG5vZGUpID0+IHtcbiAgICBsZXQgekluZGV4ID0gMTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIG5vZGUuc3R5bGUuekluZGV4ID0gekluZGV4O1xuXG4gICAgICAgIHpJbmRleCA9IHpJbmRleCA9PT0gMSA/IDIgOiAxO1xuICAgIH07XG59O1xuXG5sZXQgaW1hZ2VzQ291bnQgPSAwO1xuY29uc3QgYm90dG9tUGFkZGluZyA9IFZJRVdfU0NBTEVSX1NQQUNFICsgQ0hBUlRfU0NBTEVSX0hFSUdIVDtcblxuY29uc3QgY2hhbmdlTGluZU9wYWNpdHkgPSAoXG4gICAgcmVuZGVyQ3VycmVudCwgbGluZXNPcGFjaXR5LCBsaW5lT3BhY2l0eUZyYW1lTWFyaywgbGluZUlkLCBzdGVwLCBmcm9tVGltZW91dCwgdGltZUZhY3RvciA9IDEsXG4pID0+IHtcbiAgICByZW5kZXJDdXJyZW50KCk7XG5cbiAgICBjb25zdCBvcGFjaXR5ID0gbGluZXNPcGFjaXR5W2xpbmVJZF07XG5cbiAgICBpZiAoZnJvbVRpbWVvdXQgJiYgKG9wYWNpdHkgPT09IDAgfHwgb3BhY2l0eSA9PT0gMSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGFjdHVhbFN0ZXAgPSBzdGVwICogKG9wYWNpdHkgKyAwLjMpICogKDEgKyB0aW1lRmFjdG9yKSAvIDI7XG5cbiAgICBsaW5lc09wYWNpdHlbbGluZUlkXSArPSBhY3R1YWxTdGVwO1xuXG4gICAgaWYgKGxpbmVzT3BhY2l0eVtsaW5lSWRdIDw9IDApIHtcbiAgICAgICAgbGluZXNPcGFjaXR5W2xpbmVJZF0gPSAwO1xuICAgIH0gZWxzZSBpZiAobGluZXNPcGFjaXR5W2xpbmVJZF0gPj0gMSkge1xuICAgICAgICBsaW5lc09wYWNpdHlbbGluZUlkXSA9IDE7XG4gICAgfVxuXG4gICAgY29uc3QgbWFyayA9IGAke2xpbmVPcGFjaXR5RnJhbWVNYXJrfSR7bGluZUlkfWA7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93XG4gICAgbmV4dEZyYW1lKHRpbWVGYWN0b3IgPT4gY2hhbmdlTGluZU9wYWNpdHkoXG4gICAgICAgIHJlbmRlckN1cnJlbnQsIGxpbmVzT3BhY2l0eSwgbGluZU9wYWNpdHlGcmFtZU1hcmssIGxpbmVJZCwgc3RlcCwgdHJ1ZSwgdGltZUZhY3RvcixcbiAgICApLCBtYXJrKTtcbn07XG5cbmNvbnN0IGdldERpZmZGYWN0b3IgPSAoc3RvcmUpID0+IHtcbiAgICBjb25zdCB7Ym94LCBhbmltYXRpb25Cb3h9ID0gc3RvcmUudmlld0JveDtcblxuICAgIHJldHVybiBNYXRoLmFicyhib3gubWF4WSAtIGFuaW1hdGlvbkJveC5tYXhZKSAvIChhbmltYXRpb25Cb3gubWF4WSAtIGFuaW1hdGlvbkJveC5taW5ZKTtcbn07XG5cbmNvbnN0IGNoYW5nZUJhckhlaWdodCA9IChcbiAgICByZW5kZXJDdXJyZW50LCBiYXJzSGVpZ2h0LCBzdG9yZSwgbGluZU9wYWNpdHlGcmFtZU1hcmssIGxpbmVJZCwgdGFyZ2V0LCBzdGVwID0gMCwgZnJvbVRpbWVvdXQsIHRpbWVGYWN0b3IgPSAxLFxuKSA9PiB7XG4gICAgcmVuZGVyQ3VycmVudCh0cnVlKTtcblxuICAgIGNvbnN0IGhlaWdodCA9IGJhcnNIZWlnaHRbbGluZUlkXTtcblxuICAgIGlmIChmcm9tVGltZW91dCAmJiAoKHRhcmdldCA9PT0gMCAmJiBoZWlnaHQgPT09IDApIHx8ICh0YXJnZXQgPT09IDEgJiYgaGVpZ2h0ID09PSAxKSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGRpZmZGYWN0b3IgPSBnZXREaWZmRmFjdG9yKHN0b3JlKTtcblxuICAgIGNvbnN0IHRhcmdldEhpdHMgPSAoZGlmZkZhY3RvciAqIDkgKyAxMSkgLyAyO1xuXG4gICAgY29uc3QgdGFyZ2V0U3RlcCA9ICgodGFyZ2V0IC0gaGVpZ2h0KSAvIHRhcmdldEhpdHMpO1xuXG4gICAgc3RlcCA9IChzdGVwICsgdGFyZ2V0U3RlcCkgLyAyO1xuXG5cbiAgICBjb25zdCBzaGlmdCA9IChzdGVwICsgc3RlcCAqIHRpbWVGYWN0b3IpIC8gMjtcblxuICAgIGJhcnNIZWlnaHRbbGluZUlkXSArPSBzaGlmdDtcblxuICAgIGlmIChiYXJzSGVpZ2h0W2xpbmVJZF0gPD0gMC4wMDAxKSB7XG4gICAgICAgIGJhcnNIZWlnaHRbbGluZUlkXSA9IDA7XG4gICAgfSBlbHNlIGlmIChiYXJzSGVpZ2h0W2xpbmVJZF0gPj0gMC45OTk5KSB7XG4gICAgICAgIGJhcnNIZWlnaHRbbGluZUlkXSA9IDE7XG4gICAgfVxuXG4gICAgY29uc3QgbWFyayA9IGAke2xpbmVPcGFjaXR5RnJhbWVNYXJrfSR7bGluZUlkfWA7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93XG4gICAgbmV4dEZyYW1lKHRpbWVGYWN0b3IgPT4gY2hhbmdlQmFySGVpZ2h0KFxuICAgICAgICByZW5kZXJDdXJyZW50LCBiYXJzSGVpZ2h0LCBzdG9yZSwgbGluZU9wYWNpdHlGcmFtZU1hcmssIGxpbmVJZCwgdGFyZ2V0LCBzdGVwLCB0cnVlLCB0aW1lRmFjdG9yLFxuICAgICksIG1hcmspO1xufTtcblxuY29uc3QgZ2V0V2ViZ2wgPSAobm9kZSwgc3RvcmUsIGJhcnNIZWlnaHQsIGNhbnZhcykgPT4ge1xuICAgIHN0b3JlID0gc3RvcmUuc3ViU3RvcmUgfHwgc3RvcmU7XG5cbiAgICBsZXQgZ2xDb250ZXh0ID0gbGluZUdsQ29udGV4dDtcblxuICAgIGlmIChzdG9yZS5pc0Jhcikge1xuICAgICAgICBnbENvbnRleHQgPSBiYXJHbENvbnRleHQ7XG4gICAgfSBlbHNlIGlmIChzdG9yZS5pc0FyZWEpIHtcbiAgICAgICAgZ2xDb250ZXh0ID0gYXJlYUdsQ29udGV4dDtcbiAgICB9IGVsc2UgaWYgKHN0b3JlLmlzUGllKSB7XG4gICAgICAgIGdsQ29udGV4dCA9IHBpZUdsQ29udGV4dDtcbiAgICB9XG5cbiAgICBjb25zdCB3ZWJnbCA9IGdsQ29udGV4dChzdG9yZSwgYmFyc0hlaWdodCwgY2FudmFzKTtcblxuICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgIHdlYmdsLmNhbnZhcy5jbGFzc0xpc3QuYWRkKGNzcy5jYW52YXMpO1xuICAgIH1cblxuICAgIGFwcGVuZENoaWxkKG5vZGUsIHdlYmdsLmNhbnZhcyk7XG5cbiAgICB3ZWJnbC5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsICgpID0+IHtcbiAgICAgICAgd2ViZ2wuaXNMb3N0ID0gdHJ1ZTtcblxuICAgICAgICBkZXN0cm95V2ViZ2wobm9kZSwgd2ViZ2wpO1xuICAgIH0sIHRydWUpO1xuXG4gICAgcmV0dXJuIHdlYmdsO1xufTtcblxuY29uc3QgZGVzdHJveVdlYmdsID0gKG5vZGUsIHdlYmdsKSA9PiB7XG4gICAgaWYgKG5vZGUuY29udGFpbnMod2ViZ2wuY2FudmFzKSkge1xuICAgICAgICBub2RlLnJlbW92ZUNoaWxkKHdlYmdsLmNhbnZhcyk7XG4gICAgfVxuXG4gICAgd2ViZ2wuZGVzdHJveSgpO1xufTtcblxuY29uc3QgY2FudmFzMmRIaWRlRWZmZWN0ID0gKG5vZGUsIHdlYmdsLCB3aWR0aCwgaGVpZ2h0KSA9PiB7XG4gICAgY29uc3QgZ2xDYW52YXMgPSB3ZWJnbC5nbC5jYW52YXM7XG4gICAgY29uc3QgY2FudmFzMmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjYW52YXMyZC5jbGFzc0xpc3QuYWRkKGNzcy5jYW52YXMyZCk7XG4gICAgY29uc3QgY2FudmFzMmRDdHggPSBjYW52YXMyZC5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgaGVpZ2h0ICs9IGJvdHRvbVBhZGRpbmc7XG4gICAgY29uc3QgcGl4ZWxSYXRpbyA9IGdldFBpeGVsUmF0aW8oKTtcbiAgICBjb25zdCBwaXhlbFdpZHRoID0gd2lkdGggKiBwaXhlbFJhdGlvO1xuICAgIGNvbnN0IHBpeGVsSGVpZ2h0ID0gaGVpZ2h0ICogcGl4ZWxSYXRpbztcblxuICAgIGNhbnZhczJkLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICAgIGNhbnZhczJkLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XG4gICAgY2FudmFzMmQud2lkdGggPSBwaXhlbFdpZHRoO1xuICAgIGNhbnZhczJkLmhlaWdodCA9IHBpeGVsSGVpZ2h0O1xuXG4gICAgY2FudmFzMmRDdHguZHJhd0ltYWdlKGdsQ2FudmFzLCAwLCAwKTtcblxuICAgIGFwcGVuZENoaWxkKG5vZGUsIGNhbnZhczJkKTtcblxuICAgIGNhbnZhczJkLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgIGdsQ2FudmFzLnN0eWxlLm9wYWNpdHkgPSAwO1xuXG4gICAgbmV4dEZyYW1lKCgpID0+IHtcbiAgICAgICAgY2FudmFzMmQuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgIGdsQ2FudmFzLmNsYXNzTGlzdC5hZGQoY3NzLnRyYW5zaXRpb24pO1xuICAgICAgICBuZXh0RnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgZ2xDYW52YXMuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIG5vZGUucmVtb3ZlQ2hpbGQoY2FudmFzMmQpO1xuICAgICAgICBnbENhbnZhcy5jbGFzc0xpc3QucmVtb3ZlKGNzcy50cmFuc2l0aW9uKTtcbiAgICB9LCA2MDAwKTtcbn07XG5cbmNvbnN0IGdldExpbmVzT3BhY2l0eSA9IHN0b3JlID0+IHN0b3JlLmFsbExpbmVJZHMucmVkdWNlKChhY2MsIGlkKSA9PiBPYmplY3QuYXNzaWduKGFjYywge1tpZF06IDF9KSwge30pO1xuXG5jb25zdCByZW5kZXJQaWVOdW1iZXJzID0gKHN0b3JlLCBub2RlKSA9PiB7XG4gICAgY29uc3Qge2FsbExpbmVJZHN9ID0gc3RvcmU7XG4gICAgY29uc3QgcGllTm9kZSA9IGNyZWF0ZUVsZW1lbnQoY3NzLnBpZU51bWJlcnMpO1xuICAgIGNvbnN0IHBpZUl0ZW1zID0ge307XG5cbiAgICBhbGxMaW5lSWRzLmZvckVhY2goKGxpbmVJZCkgPT4ge1xuICAgICAgICBjb25zdCBlbGVtID0gY3JlYXRlRWxlbWVudChjc3MucGllTnVtYmVyKTtcbiAgICAgICAgY29uc3QgaW5uZXIgPSBjcmVhdGVFbGVtZW50KGNzcy5waWVOdW1iZXJJbm5lcik7XG4gICAgICAgIGNvbnN0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnMTAnKTtcblxuICAgICAgICBhcHBlbmRDaGlsZChpbm5lciwgdGV4dCk7XG4gICAgICAgIGFwcGVuZENoaWxkKGVsZW0sIGlubmVyKTtcbiAgICAgICAgYXBwZW5kQ2hpbGQocGllTm9kZSwgZWxlbSk7XG5cbiAgICAgICAgcGllSXRlbXNbbGluZUlkXSA9IHtcbiAgICAgICAgICAgIG5vZGU6IGVsZW0sXG4gICAgICAgICAgICB0ZXh0Tm9kZTogaW5uZXIsXG4gICAgICAgICAgICB0ZXh0LFxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgYXBwZW5kQ2hpbGQobm9kZSwgcGllTm9kZSk7XG5cbiAgICByZXR1cm4ge25vZGU6IHBpZU5vZGUsIGl0ZW1zOiBwaWVJdGVtc307XG59O1xuXG5jb25zdCBXZWJnbCA9IChzdG9yZSwgbGluZVdpZHRoID0gMiwgcGFkZGluZyA9IDApID0+IHtcbiAgICBsZXQgd2ViZ2w7XG5cbiAgICBjb25zdCBub2RlID0gY3JlYXRlRWxlbWVudChjc3MuaW1hZ2UpO1xuXG4gICAgY29uc3QgcGllTnVtYmVycyA9IHJlbmRlclBpZU51bWJlcnMoc3RvcmUsIG5vZGUpO1xuXG4gICAgbGV0IGxpbmVzT3BhY2l0eSA9IGdldExpbmVzT3BhY2l0eShzdG9yZSk7XG4gICAgY29uc3QgYmFyc0hlaWdodCA9IHN0b3JlLmFsbExpbmVJZHMucmVkdWNlKChhY2MsIGlkKSA9PiBPYmplY3QuYXNzaWduKGFjYywge1tpZF06IDF9KSwge30pO1xuXG4gICAgd2ViZ2wgPSBnZXRXZWJnbChub2RlLCBzdG9yZSwgYmFyc0hlaWdodCk7XG5cblxuICAgIGxldCBjdXJyZW50V2lkdGggPSAwO1xuICAgIGxldCBjdXJyZW50SGVpZ2h0ID0gMDtcbiAgICBsZXQgbmVlZFVwZGF0ZUNoYXJ0RGF0YSA9IGZhbHNlO1xuXG4gICAgY29uc3QgcmVSZW5kZXJGcmFtZU1hcmsgPSBgJHtzdG9yZS5uZXh0RnJhbWVQcmVmaXh9d2ViZ2xSZXJlbmRlciR7aW1hZ2VzQ291bnQrK31gO1xuICAgIGNvbnN0IGxpbmVPcGFjaXR5RnJhbWVNYXJrID0gYCR7c3RvcmUubmV4dEZyYW1lUHJlZml4fXdlYmdsTGluZU9wYWNpdHkke2ltYWdlc0NvdW50Kyt9YDtcblxuICAgIGNvbnN0IHJlUmVuZGVyID0gKHdpZHRoLCBoZWlnaHQpID0+IG5leHRGcmFtZSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHBpeGVsUmF0aW8gPSBnZXRQaXhlbFJhdGlvKCk7XG5cbiAgICAgICAgaWYgKHdpZHRoICE9PSBjdXJyZW50V2lkdGggfHwgaGVpZ2h0ICE9PSBjdXJyZW50SGVpZ2h0KSB7XG4gICAgICAgICAgICAvLyBub2RlLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICAgICAgICAgICAgLy8gbm9kZS5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHQgKyBib3R0b21QYWRkaW5nfXB4YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRXaWR0aCA9IHdpZHRoO1xuICAgICAgICBjdXJyZW50SGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIGlmICghd2ViZ2wgfHwgd2ViZ2wuaXNMb3N0KSB7XG4gICAgICAgICAgICB3ZWJnbCA9IGdldFdlYmdsKG5vZGUsIHN0b3JlLCBiYXJzSGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZWVkVXBkYXRlQ2hhcnREYXRhKSB7XG4gICAgICAgICAgICB3ZWJnbC51cGRhdGVDaGFydERhdGEoKTtcblxuICAgICAgICAgICAgbmVlZFVwZGF0ZUNoYXJ0RGF0YSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgd2ViZ2wucmVuZGVyKHdpZHRoLCBoZWlnaHQsIHBhZGRpbmcsIGxpbmVzT3BhY2l0eSwgcGl4ZWxSYXRpbywgYm90dG9tUGFkZGluZywgcGllTnVtYmVycyk7XG5cbiAgICAgICAgLy8gdG9nZ2xlTm9kZVpJbmRleCgpO1xuICAgIH0sIHJlUmVuZGVyRnJhbWVNYXJrKTtcblxuICAgIGNvbnN0IHJlbmRlckN1cnJlbnQgPSAodXBkYXRlQ2hhcnREYXRhKSA9PiB7XG4gICAgICAgIG5lZWRVcGRhdGVDaGFydERhdGEgPSB1cGRhdGVDaGFydERhdGE7XG5cbiAgICAgICAgaWYgKG1hcmtIYXNCZWVuUGxhbm5lZChyZVJlbmRlckZyYW1lTWFyaykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlUmVuZGVyKGN1cnJlbnRXaWR0aCwgY3VycmVudEhlaWdodCk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uTGluZU9mZiA9IChsaW5lSWQpID0+IHtcbiAgICAgICAgY29uc3QgYWN0aXZlU3RvcmUgPSBzdG9yZS5zdWJTdG9yZSB8fCBzdG9yZTtcblxuICAgICAgICBpZiAoYWN0aXZlU3RvcmUuaXNCYXIgfHwgYWN0aXZlU3RvcmUuaXNBcmVhIHx8IGFjdGl2ZVN0b3JlLmlzUGllKSB7XG4gICAgICAgICAgICBjaGFuZ2VCYXJIZWlnaHQocmVuZGVyQ3VycmVudCwgYmFyc0hlaWdodCwgYWN0aXZlU3RvcmUsIGxpbmVPcGFjaXR5RnJhbWVNYXJrLCBsaW5lSWQsIDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlTGluZU9wYWNpdHkocmVuZGVyQ3VycmVudCwgbGluZXNPcGFjaXR5LCBsaW5lT3BhY2l0eUZyYW1lTWFyaywgbGluZUlkLCAtMC4xKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgb25MaW5lT24gPSAobGluZUlkKSA9PiB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVN0b3JlID0gc3RvcmUuc3ViU3RvcmUgfHwgc3RvcmU7XG5cbiAgICAgICAgaWYgKGFjdGl2ZVN0b3JlLmlzQmFyIHx8IGFjdGl2ZVN0b3JlLmlzQXJlYSB8fCBhY3RpdmVTdG9yZS5pc1BpZSkge1xuICAgICAgICAgICAgY2hhbmdlQmFySGVpZ2h0KHJlbmRlckN1cnJlbnQsIGJhcnNIZWlnaHQsIGFjdGl2ZVN0b3JlLCBsaW5lT3BhY2l0eUZyYW1lTWFyaywgbGluZUlkLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoYW5nZUxpbmVPcGFjaXR5KHJlbmRlckN1cnJlbnQsIGxpbmVzT3BhY2l0eSwgbGluZU9wYWNpdHlGcmFtZU1hcmssIGxpbmVJZCwgMC4xKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBzdG9yZS5vbihMSU5FX09GRiwgb25MaW5lT2ZmKTtcbiAgICBzdG9yZS5vbihMSU5FX09OLCBvbkxpbmVPbik7XG4gICAgc3RvcmUub24oU0hPV19TVUJfU1RPUkUsICgpID0+IHtcbiAgICAgICAgd2ViZ2wucmVuZGVyKGN1cnJlbnRXaWR0aCwgY3VycmVudEhlaWdodCwgcGFkZGluZywgbGluZXNPcGFjaXR5LCBnZXRQaXhlbFJhdGlvKCksIGJvdHRvbVBhZGRpbmcpO1xuXG4gICAgICAgIGNhbnZhczJkSGlkZUVmZmVjdChub2RlLCB3ZWJnbCwgY3VycmVudFdpZHRoLCBjdXJyZW50SGVpZ2h0KTtcblxuICAgICAgICBkZXN0cm95V2ViZ2wobm9kZSwgd2ViZ2wpO1xuXG4gICAgICAgIGlmIChzdG9yZS50cmFuc2Zvcm1Ub0xpbmVDaGFydCkge1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlU3RvcmUgPSBzdG9yZS5zdWJTdG9yZSB8fCBzdG9yZTtcblxuICAgICAgICAgICAgbGluZXNPcGFjaXR5ID0gZ2V0TGluZXNPcGFjaXR5KGFjdGl2ZVN0b3JlKTtcbiAgICAgICAgICAgIGFjdGl2ZVN0b3JlLm9uKExJTkVfT0ZGLCBvbkxpbmVPZmYpO1xuICAgICAgICAgICAgYWN0aXZlU3RvcmUub24oTElORV9PTiwgb25MaW5lT24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0b3JlLnN1YlN0b3JlICYmIHN0b3JlLnN1YlN0b3JlLmlzUGllKSB7XG4gICAgICAgICAgICBwaWVOdW1iZXJzLm5vZGUuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwaWVOdW1iZXJzLm5vZGUuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB3ZWJnbCA9IGdldFdlYmdsKG5vZGUsIHN0b3JlLCBiYXJzSGVpZ2h0LCB3ZWJnbC5nbC5jYW52YXMpO1xuXG4gICAgICAgIHJlbmRlckN1cnJlbnQoKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgICAgIHN0b3JlLm9mZihMSU5FX09GRiwgb25MaW5lT2ZmKTtcbiAgICAgICAgc3RvcmUub2ZmKExJTkVfT04sIG9uTGluZU9uKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbm9kZSxcbiAgICAgICAgcmVuZGVyOiByZVJlbmRlcixcbiAgICAgICAgZGVzdHJveSxcbiAgICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgV2ViZ2w7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/Webgl/Webgl.js\n");

/***/ }),

/***/ "./src/chart/Webgl/Webgl.styl":
/*!************************************!*\
  !*** ./src/chart/Webgl/Webgl.styl ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin\nmodule.exports = {\"canvas\":\"Webgl__canvas\",\"transition\":\"Webgl__transition\",\"image\":\"Webgl__image\",\"canvas2d\":\"Webgl__canvas2d\",\"pieNumbers\":\"Webgl__pieNumbers\",\"pieNumber\":\"Webgl__pieNumber\"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvV2ViZ2wuc3R5bC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9XZWJnbC9XZWJnbC5zdHlsPzg3ZmIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wiY2FudmFzXCI6XCJXZWJnbF9fY2FudmFzXCIsXCJ0cmFuc2l0aW9uXCI6XCJXZWJnbF9fdHJhbnNpdGlvblwiLFwiaW1hZ2VcIjpcIldlYmdsX19pbWFnZVwiLFwiY2FudmFzMmRcIjpcIldlYmdsX19jYW52YXMyZFwiLFwicGllTnVtYmVyc1wiOlwiV2ViZ2xfX3BpZU51bWJlcnNcIixcInBpZU51bWJlclwiOlwiV2ViZ2xfX3BpZU51bWJlclwifTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/Webgl/Webgl.styl\n");

/***/ }),

/***/ "./src/chart/Webgl/areaGl/fragmentShader.glsl":
/*!****************************************************!*\
  !*** ./src/chart/Webgl/areaGl/fragmentShader.glsl ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"precision mediump float;\\n\\nvarying vec4 v_color;\\n\\nvoid main() {\\n    gl_FragColor = v_color;\\n}\\n\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvYXJlYUdsL2ZyYWdtZW50U2hhZGVyLmdsc2wuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQvV2ViZ2wvYXJlYUdsL2ZyYWdtZW50U2hhZGVyLmdsc2w/MmQ5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcblxcbnZhcnlpbmcgdmVjNCB2X2NvbG9yO1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdl9jb2xvcjtcXG59XFxuXCIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/Webgl/areaGl/fragmentShader.glsl\n");

/***/ }),

/***/ "./src/chart/Webgl/areaGl/glContext.js":
/*!*********************************************!*\
  !*** ./src/chart/Webgl/areaGl/glContext.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _initGl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./initGl */ \"./src/chart/Webgl/areaGl/initGl.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../constants */ \"./src/chart/constants.js\");\n\n\n\nconst VERTEX_PER_POINT = 2;\nconst VALUES_PER_VERTEX = 2;\n\nconst fillLinesData = (store, gl, positions = null, barsHeight = {}) => {\n    const {points, lineIds, allLineIds} = store;\n\n    const pointsCount = points.length - 1;\n\n    const heights = [];\n\n    const linesLength = allLineIds.length;\n\n    // console.log(Object.entries(barsHeight).map(([key, val]) => `${key}: ${val}`).join(', '));\n\n    for (let i = 0; i <= pointsCount; i++) {\n        const vals = [];\n        let total = 0;\n\n        for (let j = 0; j < linesLength; j++) {\n            const lineId = allLineIds[j];\n            // console.log(barsHeight[lineId]);\n            vals[j] = (total += points[i].lines[lineId] * (barsHeight[lineId]));\n\n            // total += (vals[j] = points[i].lines[lineId] * (barsHeight[lineId] || 1));\n        }\n\n        vals[linesLength] = total;\n\n        heights[i] = vals;\n    }\n\n    if (!positions) {\n        positions = [];\n\n        for (let j = 0; j < linesLength; j++) {\n        // const lineId = allLineIds[j];\n\n            for (let i = 0; i <= pointsCount; i++) {\n                positions.push(\n                    i, (j ? heights[i][j - 1] : 0) / heights[i][linesLength],\n                    i, heights[i][j] / heights[i][linesLength],\n                );\n            }\n        }\n    } else {\n        for (let j = 0; j < linesLength; j++) {\n        // const lineId = allLineIds[j];\n\n            const offset = j * VERTEX_PER_POINT * VALUES_PER_VERTEX * (pointsCount + 1);\n\n            for (let i = 0; i <= pointsCount; i++) {\n                const start = offset + (VERTEX_PER_POINT * VALUES_PER_VERTEX * i) - 1;\n\n                positions[start + (VALUES_PER_VERTEX * 1)] = (j ? heights[i][j - 1] : 0) / heights[i][linesLength];\n                positions[start + (VALUES_PER_VERTEX * 2)] = heights[i][j] / heights[i][linesLength];\n            }\n        }\n    }\n\n\n    // const buildArray = performance.now();\n\n    gl.bufferData(\n        gl.ARRAY_BUFFER,\n        new Float32Array(positions),\n        gl.STATIC_DRAW,\n    );\n\n    return positions;\n};\n\nconst updateSize = (canvas, gl, width, height, pixelRatio, {resolutionUniformLocation}) => {\n    const renderWidth = width * pixelRatio;\n    const renderHeight = height * pixelRatio;\n\n    canvas.style.width = `${width}px`;\n    canvas.style.height = `${height}px`;\n    canvas.width = renderWidth;\n    canvas.height = renderHeight;\n\n    gl.viewport(0, 0, renderWidth, renderHeight);\n\n    // установка разрешения\n    gl.uniform2f(resolutionUniformLocation, renderWidth, renderHeight);\n};\n\nconst renderLines = (store, lineIds, gl, glOptions, linesOpacity, skipLines) => {\n    const {points} = store;\n\n    const pointsCount = points.length;\n\n    for (let j = 0; j < lineIds.length; j++) {\n        const lineId = lineIds[j];\n\n        // if (!store.lineIds.includes(lineId)) {\n        //     continue;\n        // }\n\n        const [red, green, blue] = store.rgbaColorsWebgl[lineId];\n\n        const {colorUniformLocation, opacityUniformLocation} = glOptions;\n\n        const opacity = linesOpacity[lineId];\n\n        // gl.uniform4f(colorUniformLocation, red * opacity, green * opacity, blue * opacity, opacity);\n        gl.uniform4f(colorUniformLocation, red, green, blue, 1);\n        gl.uniform1f(opacityUniformLocation, opacity);\n\n        const primitiveType = gl.TRIANGLE_STRIP;\n        const count = pointsCount * VERTEX_PER_POINT;\n        const offset = count * (j + skipLines);\n        gl.drawArrays(primitiveType, offset, count);\n    }\n};\n\nconst render = (\n    store, lineIds, gl, glOptions, viewBox,\n    width, height, padding, lineWidth,\n    linesOpacity, pixelRatio, bottomPadding, skipLines, ignoreOpacity,\n) => {\n    const {\n        scaleFactorUniformLocation,\n        lineHalfWidthUniformLocation,\n        scaleStartUniformLocation,\n        bottomPaddingUniformLocation,\n        heightUniformLocation,\n    } = glOptions;\n    const {scaleStartPoint, scaleEndPoint} = viewBox;\n    const {minY, maxY} = viewBox;\n\n    // scaleStartPoint -= 0.5;\n    // scaleEndPoint += 0.5;\n\n    const pixelWidth = (width - (padding * 2)) * pixelRatio;\n    const pixelHeight = height * pixelRatio;\n\n    // чтобы нижняя точка графика не обрезалась\n    // height -= 1;\n\n    const indexWidth = scaleEndPoint - scaleStartPoint;\n    // потому что проценты\n    const originalHeight = maxY / 100;\n\n    const factorX = pixelWidth / indexWidth;\n    const factorY = pixelHeight / originalHeight;\n\n    const pixelMinY = minY * factorY;\n\n    const pixelBottomPadding = (bottomPadding * pixelRatio) - pixelMinY;\n\n    const heightUniform = ignoreOpacity\n        ? pixelHeight * 1000\n        : pixelHeight + pixelBottomPadding + pixelHeight / 2 + pixelMinY;\n\n    gl.uniform2f(scaleFactorUniformLocation, factorX, factorY);\n    gl.uniform1f(lineHalfWidthUniformLocation, lineWidth * pixelRatio / 2);\n    gl.uniform1f(scaleStartUniformLocation, scaleStartPoint - (pixelRatio * padding / factorX));\n    gl.uniform1f(bottomPaddingUniformLocation, pixelBottomPadding);\n    gl.uniform1f(heightUniformLocation, heightUniform);\n\n    renderLines(store, lineIds, gl, glOptions, linesOpacity, skipLines);\n};\n\nconst glContext = (store, barsHeight, canvas) => {\n    if (!canvas) {\n        canvas = document.createElement('canvas');\n    }\n    let gl = canvas.getContext('webgl', {\n        antialias: true,\n        powerPreference: 'high-performance',\n    });\n\n    if (!gl) {\n        throw new Error('not support webgl');\n    }\n\n    const glOptions = Object(_initGl__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(gl);\n\n    let currentWidth = 0;\n    let currentHeight = 0;\n    // let currentViewBox = null;\n    let currentPixelRatio = 1;\n\n    const positions = fillLinesData(store, gl, null, barsHeight);\n\n    const updateChartData = () => {\n        fillLinesData(store, gl, positions, barsHeight);\n    };\n\n    let reRender = (width, height, padding, linesOpacity, pixelRatio) => {\n        const bottomPadding = _constants__WEBPACK_IMPORTED_MODULE_1__[\"VIEW_SCALER_SPACE\"] + _constants__WEBPACK_IMPORTED_MODULE_1__[\"CHART_SCALER_HEIGHT\"];\n        const scalerBottomPadding = 0;\n        const scalerHeight = _constants__WEBPACK_IMPORTED_MODULE_1__[\"CHART_SCALER_HEIGHT\"] - scalerBottomPadding;\n        // pixel ratio can change if drag browser window from one screen to another\n        if (currentWidth !== width || currentHeight !== height || currentPixelRatio !== pixelRatio) {\n            updateSize(canvas, gl, width, height + bottomPadding, pixelRatio, glOptions);\n\n            currentWidth = width;\n            currentHeight = height;\n            currentPixelRatio = pixelRatio;\n        }\n\n        // gl.clear(gl.COLOR_BUFFER_BIT);\n\n        const mainLineWidth = 2;\n        const scalerLineWidth = 1;\n\n        const skipLines = 0;\n\n        render(\n            store, store.allLineIds, gl, glOptions, store.fullViewBox.animationBox,\n            width, scalerHeight, padding, scalerLineWidth,\n            linesOpacity, pixelRatio, scalerBottomPadding, skipLines, true,\n        );\n\n        render(\n            store, store.allLineIds, gl, glOptions, store.viewBox.animationBox,\n            width, height, padding, mainLineWidth,\n            linesOpacity, pixelRatio, bottomPadding, skipLines, true,\n        );\n\n        return canvas;\n    };\n\n    let destroy = () => {\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        canvas.width = 1;\n        canvas.height = 1;\n        store = null;\n        reRender = null;\n        canvas = null;\n        gl = null;\n        destroy = null;\n    };\n\n    return {\n        canvas,\n        gl,\n        destroy,\n        updateChartData,\n        render: reRender,\n    };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (glContext);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvYXJlYUdsL2dsQ29udGV4dC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9XZWJnbC9hcmVhR2wvZ2xDb250ZXh0LmpzPzc2MjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGluaXRHbCBmcm9tICcuL2luaXRHbCc7XG5pbXBvcnQge1ZJRVdfU0NBTEVSX1NQQUNFLCBDSEFSVF9TQ0FMRVJfSEVJR0hUfSBmcm9tICcuLi8uLi9jb25zdGFudHMnO1xuXG5jb25zdCBWRVJURVhfUEVSX1BPSU5UID0gMjtcbmNvbnN0IFZBTFVFU19QRVJfVkVSVEVYID0gMjtcblxuY29uc3QgZmlsbExpbmVzRGF0YSA9IChzdG9yZSwgZ2wsIHBvc2l0aW9ucyA9IG51bGwsIGJhcnNIZWlnaHQgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHtwb2ludHMsIGxpbmVJZHMsIGFsbExpbmVJZHN9ID0gc3RvcmU7XG5cbiAgICBjb25zdCBwb2ludHNDb3VudCA9IHBvaW50cy5sZW5ndGggLSAxO1xuXG4gICAgY29uc3QgaGVpZ2h0cyA9IFtdO1xuXG4gICAgY29uc3QgbGluZXNMZW5ndGggPSBhbGxMaW5lSWRzLmxlbmd0aDtcblxuICAgIC8vIGNvbnNvbGUubG9nKE9iamVjdC5lbnRyaWVzKGJhcnNIZWlnaHQpLm1hcCgoW2tleSwgdmFsXSkgPT4gYCR7a2V5fTogJHt2YWx9YCkuam9pbignLCAnKSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBwb2ludHNDb3VudDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHZhbHMgPSBbXTtcbiAgICAgICAgbGV0IHRvdGFsID0gMDtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxpbmVzTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVJZCA9IGFsbExpbmVJZHNbal07XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhiYXJzSGVpZ2h0W2xpbmVJZF0pO1xuICAgICAgICAgICAgdmFsc1tqXSA9ICh0b3RhbCArPSBwb2ludHNbaV0ubGluZXNbbGluZUlkXSAqIChiYXJzSGVpZ2h0W2xpbmVJZF0pKTtcblxuICAgICAgICAgICAgLy8gdG90YWwgKz0gKHZhbHNbal0gPSBwb2ludHNbaV0ubGluZXNbbGluZUlkXSAqIChiYXJzSGVpZ2h0W2xpbmVJZF0gfHwgMSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFsc1tsaW5lc0xlbmd0aF0gPSB0b3RhbDtcblxuICAgICAgICBoZWlnaHRzW2ldID0gdmFscztcbiAgICB9XG5cbiAgICBpZiAoIXBvc2l0aW9ucykge1xuICAgICAgICBwb3NpdGlvbnMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxpbmVzTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgLy8gY29uc3QgbGluZUlkID0gYWxsTGluZUlkc1tqXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gcG9pbnRzQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBpLCAoaiA/IGhlaWdodHNbaV1baiAtIDFdIDogMCkgLyBoZWlnaHRzW2ldW2xpbmVzTGVuZ3RoXSxcbiAgICAgICAgICAgICAgICAgICAgaSwgaGVpZ2h0c1tpXVtqXSAvIGhlaWdodHNbaV1bbGluZXNMZW5ndGhdLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxpbmVzTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgLy8gY29uc3QgbGluZUlkID0gYWxsTGluZUlkc1tqXTtcblxuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gaiAqIFZFUlRFWF9QRVJfUE9JTlQgKiBWQUxVRVNfUEVSX1ZFUlRFWCAqIChwb2ludHNDb3VudCArIDEpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBwb2ludHNDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBvZmZzZXQgKyAoVkVSVEVYX1BFUl9QT0lOVCAqIFZBTFVFU19QRVJfVkVSVEVYICogaSkgLSAxO1xuXG4gICAgICAgICAgICAgICAgcG9zaXRpb25zW3N0YXJ0ICsgKFZBTFVFU19QRVJfVkVSVEVYICogMSldID0gKGogPyBoZWlnaHRzW2ldW2ogLSAxXSA6IDApIC8gaGVpZ2h0c1tpXVtsaW5lc0xlbmd0aF07XG4gICAgICAgICAgICAgICAgcG9zaXRpb25zW3N0YXJ0ICsgKFZBTFVFU19QRVJfVkVSVEVYICogMildID0gaGVpZ2h0c1tpXVtqXSAvIGhlaWdodHNbaV1bbGluZXNMZW5ndGhdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvLyBjb25zdCBidWlsZEFycmF5ID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICBnbC5idWZmZXJEYXRhKFxuICAgICAgICBnbC5BUlJBWV9CVUZGRVIsXG4gICAgICAgIG5ldyBGbG9hdDMyQXJyYXkocG9zaXRpb25zKSxcbiAgICAgICAgZ2wuU1RBVElDX0RSQVcsXG4gICAgKTtcblxuICAgIHJldHVybiBwb3NpdGlvbnM7XG59O1xuXG5jb25zdCB1cGRhdGVTaXplID0gKGNhbnZhcywgZ2wsIHdpZHRoLCBoZWlnaHQsIHBpeGVsUmF0aW8sIHtyZXNvbHV0aW9uVW5pZm9ybUxvY2F0aW9ufSkgPT4ge1xuICAgIGNvbnN0IHJlbmRlcldpZHRoID0gd2lkdGggKiBwaXhlbFJhdGlvO1xuICAgIGNvbnN0IHJlbmRlckhlaWdodCA9IGhlaWdodCAqIHBpeGVsUmF0aW87XG5cbiAgICBjYW52YXMuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XG4gICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XG4gICAgY2FudmFzLndpZHRoID0gcmVuZGVyV2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IHJlbmRlckhlaWdodDtcblxuICAgIGdsLnZpZXdwb3J0KDAsIDAsIHJlbmRlcldpZHRoLCByZW5kZXJIZWlnaHQpO1xuXG4gICAgLy8g0YPRgdGC0LDQvdC+0LLQutCwINGA0LDQt9GA0LXRiNC10L3QuNGPXG4gICAgZ2wudW5pZm9ybTJmKHJlc29sdXRpb25Vbmlmb3JtTG9jYXRpb24sIHJlbmRlcldpZHRoLCByZW5kZXJIZWlnaHQpO1xufTtcblxuY29uc3QgcmVuZGVyTGluZXMgPSAoc3RvcmUsIGxpbmVJZHMsIGdsLCBnbE9wdGlvbnMsIGxpbmVzT3BhY2l0eSwgc2tpcExpbmVzKSA9PiB7XG4gICAgY29uc3Qge3BvaW50c30gPSBzdG9yZTtcblxuICAgIGNvbnN0IHBvaW50c0NvdW50ID0gcG9pbnRzLmxlbmd0aDtcblxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGluZUlkcy5sZW5ndGg7IGorKykge1xuICAgICAgICBjb25zdCBsaW5lSWQgPSBsaW5lSWRzW2pdO1xuXG4gICAgICAgIC8vIGlmICghc3RvcmUubGluZUlkcy5pbmNsdWRlcyhsaW5lSWQpKSB7XG4gICAgICAgIC8vICAgICBjb250aW51ZTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGNvbnN0IFtyZWQsIGdyZWVuLCBibHVlXSA9IHN0b3JlLnJnYmFDb2xvcnNXZWJnbFtsaW5lSWRdO1xuXG4gICAgICAgIGNvbnN0IHtjb2xvclVuaWZvcm1Mb2NhdGlvbiwgb3BhY2l0eVVuaWZvcm1Mb2NhdGlvbn0gPSBnbE9wdGlvbnM7XG5cbiAgICAgICAgY29uc3Qgb3BhY2l0eSA9IGxpbmVzT3BhY2l0eVtsaW5lSWRdO1xuXG4gICAgICAgIC8vIGdsLnVuaWZvcm00Zihjb2xvclVuaWZvcm1Mb2NhdGlvbiwgcmVkICogb3BhY2l0eSwgZ3JlZW4gKiBvcGFjaXR5LCBibHVlICogb3BhY2l0eSwgb3BhY2l0eSk7XG4gICAgICAgIGdsLnVuaWZvcm00Zihjb2xvclVuaWZvcm1Mb2NhdGlvbiwgcmVkLCBncmVlbiwgYmx1ZSwgMSk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihvcGFjaXR5VW5pZm9ybUxvY2F0aW9uLCBvcGFjaXR5KTtcblxuICAgICAgICBjb25zdCBwcmltaXRpdmVUeXBlID0gZ2wuVFJJQU5HTEVfU1RSSVA7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gcG9pbnRzQ291bnQgKiBWRVJURVhfUEVSX1BPSU5UO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBjb3VudCAqIChqICsgc2tpcExpbmVzKTtcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhwcmltaXRpdmVUeXBlLCBvZmZzZXQsIGNvdW50KTtcbiAgICB9XG59O1xuXG5jb25zdCByZW5kZXIgPSAoXG4gICAgc3RvcmUsIGxpbmVJZHMsIGdsLCBnbE9wdGlvbnMsIHZpZXdCb3gsXG4gICAgd2lkdGgsIGhlaWdodCwgcGFkZGluZywgbGluZVdpZHRoLFxuICAgIGxpbmVzT3BhY2l0eSwgcGl4ZWxSYXRpbywgYm90dG9tUGFkZGluZywgc2tpcExpbmVzLCBpZ25vcmVPcGFjaXR5LFxuKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgICBzY2FsZUZhY3RvclVuaWZvcm1Mb2NhdGlvbixcbiAgICAgICAgbGluZUhhbGZXaWR0aFVuaWZvcm1Mb2NhdGlvbixcbiAgICAgICAgc2NhbGVTdGFydFVuaWZvcm1Mb2NhdGlvbixcbiAgICAgICAgYm90dG9tUGFkZGluZ1VuaWZvcm1Mb2NhdGlvbixcbiAgICAgICAgaGVpZ2h0VW5pZm9ybUxvY2F0aW9uLFxuICAgIH0gPSBnbE9wdGlvbnM7XG4gICAgY29uc3Qge3NjYWxlU3RhcnRQb2ludCwgc2NhbGVFbmRQb2ludH0gPSB2aWV3Qm94O1xuICAgIGNvbnN0IHttaW5ZLCBtYXhZfSA9IHZpZXdCb3g7XG5cbiAgICAvLyBzY2FsZVN0YXJ0UG9pbnQgLT0gMC41O1xuICAgIC8vIHNjYWxlRW5kUG9pbnQgKz0gMC41O1xuXG4gICAgY29uc3QgcGl4ZWxXaWR0aCA9ICh3aWR0aCAtIChwYWRkaW5nICogMikpICogcGl4ZWxSYXRpbztcbiAgICBjb25zdCBwaXhlbEhlaWdodCA9IGhlaWdodCAqIHBpeGVsUmF0aW87XG5cbiAgICAvLyDRh9GC0L7QsdGLINC90LjQttC90Y/RjyDRgtC+0YfQutCwINCz0YDQsNGE0LjQutCwINC90LUg0L7QsdGA0LXQt9Cw0LvQsNGB0YxcbiAgICAvLyBoZWlnaHQgLT0gMTtcblxuICAgIGNvbnN0IGluZGV4V2lkdGggPSBzY2FsZUVuZFBvaW50IC0gc2NhbGVTdGFydFBvaW50O1xuICAgIC8vINC/0L7RgtC+0LzRgyDRh9GC0L4g0L/RgNC+0YbQtdC90YLRi1xuICAgIGNvbnN0IG9yaWdpbmFsSGVpZ2h0ID0gbWF4WSAvIDEwMDtcblxuICAgIGNvbnN0IGZhY3RvclggPSBwaXhlbFdpZHRoIC8gaW5kZXhXaWR0aDtcbiAgICBjb25zdCBmYWN0b3JZID0gcGl4ZWxIZWlnaHQgLyBvcmlnaW5hbEhlaWdodDtcblxuICAgIGNvbnN0IHBpeGVsTWluWSA9IG1pblkgKiBmYWN0b3JZO1xuXG4gICAgY29uc3QgcGl4ZWxCb3R0b21QYWRkaW5nID0gKGJvdHRvbVBhZGRpbmcgKiBwaXhlbFJhdGlvKSAtIHBpeGVsTWluWTtcblxuICAgIGNvbnN0IGhlaWdodFVuaWZvcm0gPSBpZ25vcmVPcGFjaXR5XG4gICAgICAgID8gcGl4ZWxIZWlnaHQgKiAxMDAwXG4gICAgICAgIDogcGl4ZWxIZWlnaHQgKyBwaXhlbEJvdHRvbVBhZGRpbmcgKyBwaXhlbEhlaWdodCAvIDIgKyBwaXhlbE1pblk7XG5cbiAgICBnbC51bmlmb3JtMmYoc2NhbGVGYWN0b3JVbmlmb3JtTG9jYXRpb24sIGZhY3RvclgsIGZhY3RvclkpO1xuICAgIGdsLnVuaWZvcm0xZihsaW5lSGFsZldpZHRoVW5pZm9ybUxvY2F0aW9uLCBsaW5lV2lkdGggKiBwaXhlbFJhdGlvIC8gMik7XG4gICAgZ2wudW5pZm9ybTFmKHNjYWxlU3RhcnRVbmlmb3JtTG9jYXRpb24sIHNjYWxlU3RhcnRQb2ludCAtIChwaXhlbFJhdGlvICogcGFkZGluZyAvIGZhY3RvclgpKTtcbiAgICBnbC51bmlmb3JtMWYoYm90dG9tUGFkZGluZ1VuaWZvcm1Mb2NhdGlvbiwgcGl4ZWxCb3R0b21QYWRkaW5nKTtcbiAgICBnbC51bmlmb3JtMWYoaGVpZ2h0VW5pZm9ybUxvY2F0aW9uLCBoZWlnaHRVbmlmb3JtKTtcblxuICAgIHJlbmRlckxpbmVzKHN0b3JlLCBsaW5lSWRzLCBnbCwgZ2xPcHRpb25zLCBsaW5lc09wYWNpdHksIHNraXBMaW5lcyk7XG59O1xuXG5jb25zdCBnbENvbnRleHQgPSAoc3RvcmUsIGJhcnNIZWlnaHQsIGNhbnZhcykgPT4ge1xuICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIH1cbiAgICBsZXQgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCB7XG4gICAgICAgIGFudGlhbGlhczogdHJ1ZSxcbiAgICAgICAgcG93ZXJQcmVmZXJlbmNlOiAnaGlnaC1wZXJmb3JtYW5jZScsXG4gICAgfSk7XG5cbiAgICBpZiAoIWdsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IHN1cHBvcnQgd2ViZ2wnKTtcbiAgICB9XG5cbiAgICBjb25zdCBnbE9wdGlvbnMgPSBpbml0R2woZ2wpO1xuXG4gICAgbGV0IGN1cnJlbnRXaWR0aCA9IDA7XG4gICAgbGV0IGN1cnJlbnRIZWlnaHQgPSAwO1xuICAgIC8vIGxldCBjdXJyZW50Vmlld0JveCA9IG51bGw7XG4gICAgbGV0IGN1cnJlbnRQaXhlbFJhdGlvID0gMTtcblxuICAgIGNvbnN0IHBvc2l0aW9ucyA9IGZpbGxMaW5lc0RhdGEoc3RvcmUsIGdsLCBudWxsLCBiYXJzSGVpZ2h0KTtcblxuICAgIGNvbnN0IHVwZGF0ZUNoYXJ0RGF0YSA9ICgpID0+IHtcbiAgICAgICAgZmlsbExpbmVzRGF0YShzdG9yZSwgZ2wsIHBvc2l0aW9ucywgYmFyc0hlaWdodCk7XG4gICAgfTtcblxuICAgIGxldCByZVJlbmRlciA9ICh3aWR0aCwgaGVpZ2h0LCBwYWRkaW5nLCBsaW5lc09wYWNpdHksIHBpeGVsUmF0aW8pID0+IHtcbiAgICAgICAgY29uc3QgYm90dG9tUGFkZGluZyA9IFZJRVdfU0NBTEVSX1NQQUNFICsgQ0hBUlRfU0NBTEVSX0hFSUdIVDtcbiAgICAgICAgY29uc3Qgc2NhbGVyQm90dG9tUGFkZGluZyA9IDA7XG4gICAgICAgIGNvbnN0IHNjYWxlckhlaWdodCA9IENIQVJUX1NDQUxFUl9IRUlHSFQgLSBzY2FsZXJCb3R0b21QYWRkaW5nO1xuICAgICAgICAvLyBwaXhlbCByYXRpbyBjYW4gY2hhbmdlIGlmIGRyYWcgYnJvd3NlciB3aW5kb3cgZnJvbSBvbmUgc2NyZWVuIHRvIGFub3RoZXJcbiAgICAgICAgaWYgKGN1cnJlbnRXaWR0aCAhPT0gd2lkdGggfHwgY3VycmVudEhlaWdodCAhPT0gaGVpZ2h0IHx8IGN1cnJlbnRQaXhlbFJhdGlvICE9PSBwaXhlbFJhdGlvKSB7XG4gICAgICAgICAgICB1cGRhdGVTaXplKGNhbnZhcywgZ2wsIHdpZHRoLCBoZWlnaHQgKyBib3R0b21QYWRkaW5nLCBwaXhlbFJhdGlvLCBnbE9wdGlvbnMpO1xuXG4gICAgICAgICAgICBjdXJyZW50V2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIGN1cnJlbnRIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICBjdXJyZW50UGl4ZWxSYXRpbyA9IHBpeGVsUmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUKTtcblxuICAgICAgICBjb25zdCBtYWluTGluZVdpZHRoID0gMjtcbiAgICAgICAgY29uc3Qgc2NhbGVyTGluZVdpZHRoID0gMTtcblxuICAgICAgICBjb25zdCBza2lwTGluZXMgPSAwO1xuXG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICAgIHN0b3JlLCBzdG9yZS5hbGxMaW5lSWRzLCBnbCwgZ2xPcHRpb25zLCBzdG9yZS5mdWxsVmlld0JveC5hbmltYXRpb25Cb3gsXG4gICAgICAgICAgICB3aWR0aCwgc2NhbGVySGVpZ2h0LCBwYWRkaW5nLCBzY2FsZXJMaW5lV2lkdGgsXG4gICAgICAgICAgICBsaW5lc09wYWNpdHksIHBpeGVsUmF0aW8sIHNjYWxlckJvdHRvbVBhZGRpbmcsIHNraXBMaW5lcywgdHJ1ZSxcbiAgICAgICAgKTtcblxuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgICBzdG9yZSwgc3RvcmUuYWxsTGluZUlkcywgZ2wsIGdsT3B0aW9ucywgc3RvcmUudmlld0JveC5hbmltYXRpb25Cb3gsXG4gICAgICAgICAgICB3aWR0aCwgaGVpZ2h0LCBwYWRkaW5nLCBtYWluTGluZVdpZHRoLFxuICAgICAgICAgICAgbGluZXNPcGFjaXR5LCBwaXhlbFJhdGlvLCBib3R0b21QYWRkaW5nLCBza2lwTGluZXMsIHRydWUsXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIGNhbnZhcztcbiAgICB9O1xuXG4gICAgbGV0IGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcbiAgICAgICAgY2FudmFzLndpZHRoID0gMTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IDE7XG4gICAgICAgIHN0b3JlID0gbnVsbDtcbiAgICAgICAgcmVSZW5kZXIgPSBudWxsO1xuICAgICAgICBjYW52YXMgPSBudWxsO1xuICAgICAgICBnbCA9IG51bGw7XG4gICAgICAgIGRlc3Ryb3kgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjYW52YXMsXG4gICAgICAgIGdsLFxuICAgICAgICBkZXN0cm95LFxuICAgICAgICB1cGRhdGVDaGFydERhdGEsXG4gICAgICAgIHJlbmRlcjogcmVSZW5kZXIsXG4gICAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGdsQ29udGV4dDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/Webgl/areaGl/glContext.js\n");

/***/ }),

/***/ "./src/chart/Webgl/areaGl/initGl.js":
/*!******************************************!*\
  !*** ./src/chart/Webgl/areaGl/initGl.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _vertexShader_glsl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vertexShader.glsl */ \"./src/chart/Webgl/areaGl/vertexShader.glsl\");\n/* harmony import */ var _fragmentShader_glsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fragmentShader.glsl */ \"./src/chart/Webgl/areaGl/fragmentShader.glsl\");\n\n\n\n\n\nconst loadShader = (gl, type, source) => {\n    const shader = gl.createShader(type);\n\n    // Send the source to the shader object\n    gl.shaderSource(shader, source);\n\n    // Compile the shader program\n    gl.compileShader(shader);\n\n    // See if it compiled successfully\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        gl.deleteShader(shader);\n\n        throw new Error(`An error occurred compiling the shaders: ${gl.getShaderInfoLog(shader)}`);\n    }\n\n    return shader;\n};\n\nconst initShaderProgram = (gl) => {\n    const vertexShader = loadShader(gl, gl.VERTEX_SHADER, _vertexShader_glsl__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n    const fragmentShader = loadShader(gl, gl.FRAGMENT_SHADER, _fragmentShader_glsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n\n    // Create the shader program\n    const shaderProgram = gl.createProgram();\n    gl.attachShader(shaderProgram, vertexShader);\n    gl.attachShader(shaderProgram, fragmentShader);\n    gl.linkProgram(shaderProgram);\n\n    // If creating the shader program failed, alert\n    if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\n        throw new Error(`Unable to initialize the shader program: ${gl.getProgramInfoLog(shaderProgram)}`);\n    }\n\n    return shaderProgram;\n};\n\nconst prepareGl = (gl, shaderProgram, positionAttributeLocation) => {\n    // Create a buffer for the positions.\n    const positionBuffer = gl.createBuffer();\n\n    // Select the positionBuffer as the one to apply buffer\n    // operations to from here out.\n    // Привязываем буфер положений\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.clearColor(0, 0, 0, 0);\n\n    gl.useProgram(shaderProgram);\n\n    // включаем аттрибут\n    gl.enableVertexAttribArray(positionAttributeLocation);\n    // gl.enableVertexAttribArray(shiftAttributeLocation);\n\n\n    // Указываем атрибуту, как получать данные от positionBuffer (ARRAY_BUFFER)\n    const size = 2; // 4 компоненты на итерацию\n    const type = gl.FLOAT; // наши данные - 32-битные числа с плавающей точкой\n    const normalize = false; // не нормализовать данные\n    const stride = 0; // 0 = перемещаться на size * sizeof(type) каждую итерацию для получения следующего положения\n    const offset = 0; // начинать с начала буфера\n    gl.vertexAttribPointer(positionAttributeLocation, size, type, normalize, stride, offset);\n    // gl.vertexAttribPointer(shiftAttributeLocation, size, type, normalize, stride, 2);\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n    gl.disable(gl.SCISSOR_TEST);\n\n    // gl.enable(gl.SAMPLE_COVERAGE);\n    // gl.sampleCoverage(1.0, false);\n};\n\nconst initialize = (gl) => {\n    const shaderProgram = initShaderProgram(gl);\n    gl.bindAttribLocation(shaderProgram, 2, 'a_position');\n\n    const positionAttributeLocation = gl.getAttribLocation(shaderProgram, 'a_position');\n    const resolutionUniformLocation = gl.getUniformLocation(shaderProgram, 'u_resolution');\n    const scaleStartUniformLocation = gl.getUniformLocation(shaderProgram, 'u_scaleStart');\n    const bottomPaddingUniformLocation = gl.getUniformLocation(shaderProgram, 'u_bottomPadding');\n    const scaleFactorUniformLocation = gl.getUniformLocation(shaderProgram, 'u_scaleFactor');\n    const lineHalfWidthUniformLocation = gl.getUniformLocation(shaderProgram, 'u_lineHalfWidth');\n    const heightUniformLocation = gl.getUniformLocation(shaderProgram, 'u_height');\n    const colorUniformLocation = gl.getUniformLocation(shaderProgram, 'u_color');\n    const opacityUniformLocation = gl.getUniformLocation(shaderProgram, 'u_opacity');\n\n    prepareGl(gl, shaderProgram, positionAttributeLocation);\n\n    return {\n        shaderProgram,\n        positionAttributeLocation,\n        colorUniformLocation,\n        resolutionUniformLocation,\n        scaleStartUniformLocation,\n        bottomPaddingUniformLocation,\n        scaleFactorUniformLocation,\n        heightUniformLocation,\n        lineHalfWidthUniformLocation,\n        opacityUniformLocation,\n    };\n};\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (initialize);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvYXJlYUdsL2luaXRHbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9XZWJnbC9hcmVhR2wvaW5pdEdsLmpzPzU1OGEiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgdmVydGV4U2hhZGVyU291cmNlIGZyb20gJy4vdmVydGV4U2hhZGVyLmdsc2wnO1xuaW1wb3J0IGZyYWdtZW50U2hhZGVyU291cmNlIGZyb20gJy4vZnJhZ21lbnRTaGFkZXIuZ2xzbCc7XG5cblxuY29uc3QgbG9hZFNoYWRlciA9IChnbCwgdHlwZSwgc291cmNlKSA9PiB7XG4gICAgY29uc3Qgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xuXG4gICAgLy8gU2VuZCB0aGUgc291cmNlIHRvIHRoZSBzaGFkZXIgb2JqZWN0XG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc291cmNlKTtcblxuICAgIC8vIENvbXBpbGUgdGhlIHNoYWRlciBwcm9ncmFtXG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuXG4gICAgLy8gU2VlIGlmIGl0IGNvbXBpbGVkIHN1Y2Nlc3NmdWxseVxuICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcihzaGFkZXIpO1xuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQW4gZXJyb3Igb2NjdXJyZWQgY29tcGlsaW5nIHRoZSBzaGFkZXJzOiAke2dsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKX1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2hhZGVyO1xufTtcblxuY29uc3QgaW5pdFNoYWRlclByb2dyYW0gPSAoZ2wpID0+IHtcbiAgICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSBsb2FkU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCB2ZXJ0ZXhTaGFkZXJTb3VyY2UpO1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyID0gbG9hZFNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNoYWRlclNvdXJjZSk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIHNoYWRlciBwcm9ncmFtXG4gICAgY29uc3Qgc2hhZGVyUHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIoc2hhZGVyUHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIoc2hhZGVyUHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xuICAgIGdsLmxpbmtQcm9ncmFtKHNoYWRlclByb2dyYW0pO1xuXG4gICAgLy8gSWYgY3JlYXRpbmcgdGhlIHNoYWRlciBwcm9ncmFtIGZhaWxlZCwgYWxlcnRcbiAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIoc2hhZGVyUHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGluaXRpYWxpemUgdGhlIHNoYWRlciBwcm9ncmFtOiAke2dsLmdldFByb2dyYW1JbmZvTG9nKHNoYWRlclByb2dyYW0pfWApO1xuICAgIH1cblxuICAgIHJldHVybiBzaGFkZXJQcm9ncmFtO1xufTtcblxuY29uc3QgcHJlcGFyZUdsID0gKGdsLCBzaGFkZXJQcm9ncmFtLCBwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uKSA9PiB7XG4gICAgLy8gQ3JlYXRlIGEgYnVmZmVyIGZvciB0aGUgcG9zaXRpb25zLlxuICAgIGNvbnN0IHBvc2l0aW9uQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG5cbiAgICAvLyBTZWxlY3QgdGhlIHBvc2l0aW9uQnVmZmVyIGFzIHRoZSBvbmUgdG8gYXBwbHkgYnVmZmVyXG4gICAgLy8gb3BlcmF0aW9ucyB0byBmcm9tIGhlcmUgb3V0LlxuICAgIC8vINCf0YDQuNCy0Y/Qt9GL0LLQsNC10Lwg0LHRg9GE0LXRgCDQv9C+0LvQvtC20LXQvdC40LlcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIpO1xuICAgIGdsLmNsZWFyQ29sb3IoMCwgMCwgMCwgMCk7XG5cbiAgICBnbC51c2VQcm9ncmFtKHNoYWRlclByb2dyYW0pO1xuXG4gICAgLy8g0LLQutC70Y7Rh9Cw0LXQvCDQsNGC0YLRgNC40LHRg9GCXG4gICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbik7XG4gICAgLy8gZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoc2hpZnRBdHRyaWJ1dGVMb2NhdGlvbik7XG5cblxuICAgIC8vINCj0LrQsNC30YvQstCw0LXQvCDQsNGC0YDQuNCx0YPRgtGDLCDQutCw0Log0L/QvtC70YPRh9Cw0YLRjCDQtNCw0L3QvdGL0LUg0L7RgiBwb3NpdGlvbkJ1ZmZlciAoQVJSQVlfQlVGRkVSKVxuICAgIGNvbnN0IHNpemUgPSAyOyAvLyA0INC60L7QvNC/0L7QvdC10L3RgtGLINC90LAg0LjRgtC10YDQsNGG0LjRjlxuICAgIGNvbnN0IHR5cGUgPSBnbC5GTE9BVDsgLy8g0L3QsNGI0Lgg0LTQsNC90L3Ri9C1IC0gMzIt0LHQuNGC0L3Ri9C1INGH0LjRgdC70LAg0YEg0L/Qu9Cw0LLQsNGO0YnQtdC5INGC0L7Rh9C60L7QuVxuICAgIGNvbnN0IG5vcm1hbGl6ZSA9IGZhbHNlOyAvLyDQvdC1INC90L7RgNC80LDQu9C40LfQvtCy0LDRgtGMINC00LDQvdC90YvQtVxuICAgIGNvbnN0IHN0cmlkZSA9IDA7IC8vIDAgPSDQv9C10YDQtdC80LXRidCw0YLRjNGB0Y8g0L3QsCBzaXplICogc2l6ZW9mKHR5cGUpINC60LDQttC00YPRjiDQuNGC0LXRgNCw0YbQuNGOINC00LvRjyDQv9C+0LvRg9GH0LXQvdC40Y8g0YHQu9C10LTRg9GO0YnQtdCz0L4g0L/QvtC70L7QttC10L3QuNGPXG4gICAgY29uc3Qgb2Zmc2V0ID0gMDsgLy8g0L3QsNGH0LjQvdCw0YLRjCDRgSDQvdCw0YfQsNC70LAg0LHRg9GE0LXRgNCwXG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uLCBzaXplLCB0eXBlLCBub3JtYWxpemUsIHN0cmlkZSwgb2Zmc2V0KTtcbiAgICAvLyBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHNoaWZ0QXR0cmlidXRlTG9jYXRpb24sIHNpemUsIHR5cGUsIG5vcm1hbGl6ZSwgc3RyaWRlLCAyKTtcbiAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xuICAgIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xuICAgIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcblxuICAgIC8vIGdsLmVuYWJsZShnbC5TQU1QTEVfQ09WRVJBR0UpO1xuICAgIC8vIGdsLnNhbXBsZUNvdmVyYWdlKDEuMCwgZmFsc2UpO1xufTtcblxuY29uc3QgaW5pdGlhbGl6ZSA9IChnbCkgPT4ge1xuICAgIGNvbnN0IHNoYWRlclByb2dyYW0gPSBpbml0U2hhZGVyUHJvZ3JhbShnbCk7XG4gICAgZ2wuYmluZEF0dHJpYkxvY2F0aW9uKHNoYWRlclByb2dyYW0sIDIsICdhX3Bvc2l0aW9uJyk7XG5cbiAgICBjb25zdCBwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgJ2FfcG9zaXRpb24nKTtcbiAgICBjb25zdCByZXNvbHV0aW9uVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sICd1X3Jlc29sdXRpb24nKTtcbiAgICBjb25zdCBzY2FsZVN0YXJ0VW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sICd1X3NjYWxlU3RhcnQnKTtcbiAgICBjb25zdCBib3R0b21QYWRkaW5nVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sICd1X2JvdHRvbVBhZGRpbmcnKTtcbiAgICBjb25zdCBzY2FsZUZhY3RvclVuaWZvcm1Mb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCAndV9zY2FsZUZhY3RvcicpO1xuICAgIGNvbnN0IGxpbmVIYWxmV2lkdGhVbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgJ3VfbGluZUhhbGZXaWR0aCcpO1xuICAgIGNvbnN0IGhlaWdodFVuaWZvcm1Mb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCAndV9oZWlnaHQnKTtcbiAgICBjb25zdCBjb2xvclVuaWZvcm1Mb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCAndV9jb2xvcicpO1xuICAgIGNvbnN0IG9wYWNpdHlVbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgJ3Vfb3BhY2l0eScpO1xuXG4gICAgcHJlcGFyZUdsKGdsLCBzaGFkZXJQcm9ncmFtLCBwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHNoYWRlclByb2dyYW0sXG4gICAgICAgIHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24sXG4gICAgICAgIGNvbG9yVW5pZm9ybUxvY2F0aW9uLFxuICAgICAgICByZXNvbHV0aW9uVW5pZm9ybUxvY2F0aW9uLFxuICAgICAgICBzY2FsZVN0YXJ0VW5pZm9ybUxvY2F0aW9uLFxuICAgICAgICBib3R0b21QYWRkaW5nVW5pZm9ybUxvY2F0aW9uLFxuICAgICAgICBzY2FsZUZhY3RvclVuaWZvcm1Mb2NhdGlvbixcbiAgICAgICAgaGVpZ2h0VW5pZm9ybUxvY2F0aW9uLFxuICAgICAgICBsaW5lSGFsZldpZHRoVW5pZm9ybUxvY2F0aW9uLFxuICAgICAgICBvcGFjaXR5VW5pZm9ybUxvY2F0aW9uLFxuICAgIH07XG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IGluaXRpYWxpemU7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/Webgl/areaGl/initGl.js\n");

/***/ }),

/***/ "./src/chart/Webgl/areaGl/vertexShader.glsl":
/*!**************************************************!*\
  !*** ./src/chart/Webgl/areaGl/vertexShader.glsl ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"// атрибут, который будет получать данные из буфера\\nattribute vec2 a_position;\\n\\nuniform vec4 u_color;\\n\\nuniform float u_opacity;\\n\\nuniform vec2 u_resolution;\\n\\nuniform float u_scaleStart;\\n\\nuniform float u_bottomPadding;\\n\\nuniform vec2 u_scaleFactor;\\n\\nuniform float u_lineHalfWidth;\\n\\nuniform float u_height;\\n\\nvarying vec4 v_color;\\n\\nvoid main() {\\n    vec2 position = vec2(a_position);\\n\\n    position.x = position.x - u_scaleStart;\\n\\n    vec2 pixelPosition = position * u_scaleFactor;\\n\\n    pixelPosition.y = pixelPosition.y + u_bottomPadding;\\n\\n    vec2 zeroToOne = pixelPosition / u_resolution;\\n\\n    vec2 zeroToTwo = zeroToOne * 2.0;\\n\\n    vec2 clipSpace = zeroToTwo - 1.0;\\n\\n    gl_Position = vec4(clipSpace, 0, 1);\\n\\n    if (pixelPosition.y > u_height) {\\n        v_color = vec4(0, 0, 0, 0);\\n    } else {\\n        v_color = u_color;\\n    }\\n}\\n\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvYXJlYUdsL3ZlcnRleFNoYWRlci5nbHNsLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJ0L1dlYmdsL2FyZWFHbC92ZXJ0ZXhTaGFkZXIuZ2xzbD84NzQ4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiLy8g0LDRgtGA0LjQsdGD0YIsINC60L7RgtC+0YDRi9C5INCx0YPQtNC10YIg0L/QvtC70YPRh9Cw0YLRjCDQtNCw0L3QvdGL0LUg0LjQtyDQsdGD0YTQtdGA0LBcXG5hdHRyaWJ1dGUgdmVjMiBhX3Bvc2l0aW9uO1xcblxcbnVuaWZvcm0gdmVjNCB1X2NvbG9yO1xcblxcbnVuaWZvcm0gZmxvYXQgdV9vcGFjaXR5O1xcblxcbnVuaWZvcm0gdmVjMiB1X3Jlc29sdXRpb247XFxuXFxudW5pZm9ybSBmbG9hdCB1X3NjYWxlU3RhcnQ7XFxuXFxudW5pZm9ybSBmbG9hdCB1X2JvdHRvbVBhZGRpbmc7XFxuXFxudW5pZm9ybSB2ZWMyIHVfc2NhbGVGYWN0b3I7XFxuXFxudW5pZm9ybSBmbG9hdCB1X2xpbmVIYWxmV2lkdGg7XFxuXFxudW5pZm9ybSBmbG9hdCB1X2hlaWdodDtcXG5cXG52YXJ5aW5nIHZlYzQgdl9jb2xvcjtcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIHZlYzIgcG9zaXRpb24gPSB2ZWMyKGFfcG9zaXRpb24pO1xcblxcbiAgICBwb3NpdGlvbi54ID0gcG9zaXRpb24ueCAtIHVfc2NhbGVTdGFydDtcXG5cXG4gICAgdmVjMiBwaXhlbFBvc2l0aW9uID0gcG9zaXRpb24gKiB1X3NjYWxlRmFjdG9yO1xcblxcbiAgICBwaXhlbFBvc2l0aW9uLnkgPSBwaXhlbFBvc2l0aW9uLnkgKyB1X2JvdHRvbVBhZGRpbmc7XFxuXFxuICAgIHZlYzIgemVyb1RvT25lID0gcGl4ZWxQb3NpdGlvbiAvIHVfcmVzb2x1dGlvbjtcXG5cXG4gICAgdmVjMiB6ZXJvVG9Ud28gPSB6ZXJvVG9PbmUgKiAyLjA7XFxuXFxuICAgIHZlYzIgY2xpcFNwYWNlID0gemVyb1RvVHdvIC0gMS4wO1xcblxcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoY2xpcFNwYWNlLCAwLCAxKTtcXG5cXG4gICAgaWYgKHBpeGVsUG9zaXRpb24ueSA+IHVfaGVpZ2h0KSB7XFxuICAgICAgICB2X2NvbG9yID0gdmVjNCgwLCAwLCAwLCAwKTtcXG4gICAgfSBlbHNlIHtcXG4gICAgICAgIHZfY29sb3IgPSB1X2NvbG9yO1xcbiAgICB9XFxufVxcblwiIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/Webgl/areaGl/vertexShader.glsl\n");

/***/ }),

/***/ "./src/chart/Webgl/barGl/fragmentShader.glsl":
/*!***************************************************!*\
  !*** ./src/chart/Webgl/barGl/fragmentShader.glsl ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"precision mediump float;\\n\\nvarying vec4 v_color;\\n\\nvoid main() {\\n    gl_FragColor = v_color;\\n}\\n\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvYmFyR2wvZnJhZ21lbnRTaGFkZXIuZ2xzbC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9XZWJnbC9iYXJHbC9mcmFnbWVudFNoYWRlci5nbHNsPzQxMWEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG5cXG52YXJ5aW5nIHZlYzQgdl9jb2xvcjtcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHZfY29sb3I7XFxufVxcblwiIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/Webgl/barGl/fragmentShader.glsl\n");

/***/ }),

/***/ "./src/chart/Webgl/barGl/glContext.js":
/*!********************************************!*\
  !*** ./src/chart/Webgl/barGl/glContext.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _initGl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./initGl */ \"./src/chart/Webgl/barGl/initGl.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../constants */ \"./src/chart/constants.js\");\n\n\n\nconst VERTEX_PER_POINT = 4;\nconst VALUES_PER_VERTEX = 2;\n\nconst getDefaultPositions = (points, allLineIds, barsHeight) => {\n    const positions = [];\n    const previousBarY = [];\n    const pointsLength = points.length;\n\n    for (let j = 0; j < allLineIds.length; j++) {\n        const lineId = allLineIds[j];\n\n        const barHeight = barsHeight[lineId];\n\n        for (let i = 0; i < pointsLength; i++) {\n            const previousY = previousBarY[i] || 0;\n            const pointY = points[i].lines[lineId];\n            const currentY = previousY + (pointY * barHeight);\n\n            const positionX = i;\n\n            positions.push(\n                positionX - 0.5, currentY,\n                positionX - 0.5, previousY,\n                positionX + 0.5, currentY,\n                positionX + 0.5, previousY,\n            );\n\n            previousBarY[i] = currentY;\n        }\n    }\n\n    return positions;\n};\n\nconst updatePositions = (positions, points, allLineIds, barsHeight) => {\n    const previousBarY = [];\n    const pointsLength = points.length;\n\n    for (let j = 0; j < allLineIds.length; j++) {\n        const lineId = allLineIds[j];\n\n        const barHeight = barsHeight[lineId];\n\n        const offset = j * VERTEX_PER_POINT * VALUES_PER_VERTEX * pointsLength;\n\n        for (let i = 0; i < pointsLength; i++) {\n            const previousY = previousBarY[i] || 0;\n\n            const pointY = points[i].lines[lineId];\n            const currentY = previousY + (pointY * barHeight);\n\n            const start = offset + (VERTEX_PER_POINT * VALUES_PER_VERTEX * i) - 1;\n\n            positions[start + (VALUES_PER_VERTEX * 1)] = currentY;\n            positions[start + (VALUES_PER_VERTEX * 2)] = previousY;\n            positions[start + (VALUES_PER_VERTEX * 3)] = currentY;\n            positions[start + (VALUES_PER_VERTEX * 4)] = previousY;\n\n            previousBarY[i] = currentY;\n        }\n    }\n\n    return positions;\n};\n\nconst fillLinesData = (store, gl, positions = null, barsHeight) => {\n    const {points, allLineIds} = store;\n\n    if (!positions) {\n        positions = getDefaultPositions(points, allLineIds, barsHeight);\n    } else {\n        positions = updatePositions(positions, points, allLineIds, barsHeight);\n    }\n\n    gl.bufferData(\n        gl.ARRAY_BUFFER,\n        new Float32Array(positions),\n        gl.STATIC_DRAW,\n    );\n\n    return positions;\n};\n\nconst updateSize = (canvas, gl, width, height, pixelRatio, {resolutionUniformLocation}) => {\n    const renderWidth = width * pixelRatio;\n    const renderHeight = height * pixelRatio;\n\n    canvas.style.width = `${width}px`;\n    canvas.style.height = `${height}px`;\n    canvas.width = renderWidth;\n    canvas.height = renderHeight;\n\n    gl.viewport(0, 0, renderWidth, renderHeight);\n\n    // установка разрешения\n    gl.uniform2f(resolutionUniformLocation, renderWidth, renderHeight);\n};\n\nconst renderLines = (store, gl, glOptions) => {\n    const {points, allLineIds} = store;\n\n    const pointsCount = points.length;\n\n    for (let j = 0; j < allLineIds.length; j++) {\n        const lineId = allLineIds[j];\n\n\n        const [red, green, blue] = store.rgbaColorsWebgl[lineId];\n\n        const {colorUniformLocation} = glOptions;\n\n        gl.uniform4f(colorUniformLocation, red, green, blue, 1);\n\n        const primitiveType = gl.TRIANGLE_STRIP;\n        const count = pointsCount * VERTEX_PER_POINT;\n        const offset = count * j;\n        gl.drawArrays(primitiveType, offset, count);\n    }\n};\n\nconst render = (\n    store, gl, glOptions, viewBox,\n    width, height, padding,\n    pixelRatio, bottomPadding,\n) => {\n    const {\n        scaleFactorUniformLocation,\n        scaleStartUniformLocation,\n        bottomPaddingUniformLocation,\n    } = glOptions;\n    let {scaleStartPoint, scaleEndPoint} = viewBox;\n    const {minY, maxY} = viewBox;\n\n    scaleStartPoint -= 0.5;\n    scaleEndPoint += 0.5;\n\n    const pixelWidth = (width - (padding * 2)) * pixelRatio;\n    const pixelHeight = height * pixelRatio;\n\n    const indexWidth = scaleEndPoint - scaleStartPoint;\n    // если чисто горизонтальная линия\n    const originalHeight = maxY === minY ? 1 : maxY - minY;\n\n    const factorX = pixelWidth / indexWidth;\n    const factorY = pixelHeight / originalHeight;\n\n    const pixelMinY = minY * factorY;\n\n    const pixelBottomPadding = (bottomPadding * pixelRatio) - pixelMinY;\n\n    gl.uniform2f(scaleFactorUniformLocation, factorX, factorY);\n    gl.uniform1f(scaleStartUniformLocation, scaleStartPoint - (pixelRatio * padding / factorX));\n    gl.uniform1f(bottomPaddingUniformLocation, pixelBottomPadding);\n\n    renderLines(store, gl, glOptions);\n};\n\nconst glContext = (store, barsHeight, canvas) => {\n    if (!canvas) {\n        canvas = document.createElement('canvas');\n    }\n    let gl = canvas.getContext('webgl', {\n        antialias: true,\n        powerPreference: 'high-performance',\n    });\n\n    if (!gl) {\n        throw new Error('not support webgl');\n    }\n\n    const glOptions = Object(_initGl__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(gl);\n\n    let currentWidth = 0;\n    let currentHeight = 0;\n    let currentPixelRatio = 1;\n\n    const positions = fillLinesData(store, gl, null, barsHeight);\n\n    const updateChartData = () => {\n        fillLinesData(store, gl, positions, barsHeight);\n    };\n\n    let reRender = (width, height, padding, linesOpacity, pixelRatio) => {\n        const bottomPadding = _constants__WEBPACK_IMPORTED_MODULE_1__[\"VIEW_SCALER_SPACE\"] + _constants__WEBPACK_IMPORTED_MODULE_1__[\"CHART_SCALER_HEIGHT\"];\n        const scalerBottomPadding = 0;\n        const scalerHeight = _constants__WEBPACK_IMPORTED_MODULE_1__[\"CHART_SCALER_HEIGHT\"] - scalerBottomPadding;\n\n        // pixel ratio can change if drag browser window from one screen to another\n        if (currentWidth !== width || currentHeight !== height || currentPixelRatio !== pixelRatio) {\n            updateSize(canvas, gl, width, height + bottomPadding, pixelRatio, glOptions);\n\n            currentWidth = width;\n            currentHeight = height;\n            currentPixelRatio = pixelRatio;\n        }\n\n        const pixelWidth = width * pixelRatio;\n        const pixelHeight = height * pixelRatio;\n\n        gl.scissor(0, 0, pixelWidth, _constants__WEBPACK_IMPORTED_MODULE_1__[\"CHART_SCALER_HEIGHT\"] * pixelRatio);\n        render(\n            store, gl, glOptions, store.fullViewBox.animationBox,\n            width, scalerHeight, padding,\n            pixelRatio, scalerBottomPadding,\n        );\n\n        gl.scissor(0, bottomPadding * pixelRatio, pixelWidth, pixelHeight);\n        render(\n            store, gl, glOptions, store.viewBox.animationBox,\n            width, height, padding,\n            pixelRatio, bottomPadding,\n        );\n\n        return canvas;\n    };\n\n    let destroy = () => {\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        canvas.width = 1;\n        canvas.height = 1;\n        store = null;\n        reRender = null;\n        canvas = null;\n        gl = null;\n        destroy = null;\n    };\n\n    return {\n        canvas,\n        gl,\n        destroy,\n        updateChartData,\n        render: reRender,\n    };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (glContext);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvYmFyR2wvZ2xDb250ZXh0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJ0L1dlYmdsL2JhckdsL2dsQ29udGV4dC5qcz8wOTk2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpbml0R2wgZnJvbSAnLi9pbml0R2wnO1xuaW1wb3J0IHtWSUVXX1NDQUxFUl9TUEFDRSwgQ0hBUlRfU0NBTEVSX0hFSUdIVH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcblxuY29uc3QgVkVSVEVYX1BFUl9QT0lOVCA9IDQ7XG5jb25zdCBWQUxVRVNfUEVSX1ZFUlRFWCA9IDI7XG5cbmNvbnN0IGdldERlZmF1bHRQb3NpdGlvbnMgPSAocG9pbnRzLCBhbGxMaW5lSWRzLCBiYXJzSGVpZ2h0KSA9PiB7XG4gICAgY29uc3QgcG9zaXRpb25zID0gW107XG4gICAgY29uc3QgcHJldmlvdXNCYXJZID0gW107XG4gICAgY29uc3QgcG9pbnRzTGVuZ3RoID0gcG9pbnRzLmxlbmd0aDtcblxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgYWxsTGluZUlkcy5sZW5ndGg7IGorKykge1xuICAgICAgICBjb25zdCBsaW5lSWQgPSBhbGxMaW5lSWRzW2pdO1xuXG4gICAgICAgIGNvbnN0IGJhckhlaWdodCA9IGJhcnNIZWlnaHRbbGluZUlkXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50c0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c1kgPSBwcmV2aW91c0JhcllbaV0gfHwgMDtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50WSA9IHBvaW50c1tpXS5saW5lc1tsaW5lSWRdO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFkgPSBwcmV2aW91c1kgKyAocG9pbnRZICogYmFySGVpZ2h0KTtcblxuICAgICAgICAgICAgY29uc3QgcG9zaXRpb25YID0gaTtcblxuICAgICAgICAgICAgcG9zaXRpb25zLnB1c2goXG4gICAgICAgICAgICAgICAgcG9zaXRpb25YIC0gMC41LCBjdXJyZW50WSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvblggLSAwLjUsIHByZXZpb3VzWSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvblggKyAwLjUsIGN1cnJlbnRZLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uWCArIDAuNSwgcHJldmlvdXNZLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcHJldmlvdXNCYXJZW2ldID0gY3VycmVudFk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcG9zaXRpb25zO1xufTtcblxuY29uc3QgdXBkYXRlUG9zaXRpb25zID0gKHBvc2l0aW9ucywgcG9pbnRzLCBhbGxMaW5lSWRzLCBiYXJzSGVpZ2h0KSA9PiB7XG4gICAgY29uc3QgcHJldmlvdXNCYXJZID0gW107XG4gICAgY29uc3QgcG9pbnRzTGVuZ3RoID0gcG9pbnRzLmxlbmd0aDtcblxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgYWxsTGluZUlkcy5sZW5ndGg7IGorKykge1xuICAgICAgICBjb25zdCBsaW5lSWQgPSBhbGxMaW5lSWRzW2pdO1xuXG4gICAgICAgIGNvbnN0IGJhckhlaWdodCA9IGJhcnNIZWlnaHRbbGluZUlkXTtcblxuICAgICAgICBjb25zdCBvZmZzZXQgPSBqICogVkVSVEVYX1BFUl9QT0lOVCAqIFZBTFVFU19QRVJfVkVSVEVYICogcG9pbnRzTGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzWSA9IHByZXZpb3VzQmFyWVtpXSB8fCAwO1xuXG4gICAgICAgICAgICBjb25zdCBwb2ludFkgPSBwb2ludHNbaV0ubGluZXNbbGluZUlkXTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRZID0gcHJldmlvdXNZICsgKHBvaW50WSAqIGJhckhlaWdodCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gb2Zmc2V0ICsgKFZFUlRFWF9QRVJfUE9JTlQgKiBWQUxVRVNfUEVSX1ZFUlRFWCAqIGkpIC0gMTtcblxuICAgICAgICAgICAgcG9zaXRpb25zW3N0YXJ0ICsgKFZBTFVFU19QRVJfVkVSVEVYICogMSldID0gY3VycmVudFk7XG4gICAgICAgICAgICBwb3NpdGlvbnNbc3RhcnQgKyAoVkFMVUVTX1BFUl9WRVJURVggKiAyKV0gPSBwcmV2aW91c1k7XG4gICAgICAgICAgICBwb3NpdGlvbnNbc3RhcnQgKyAoVkFMVUVTX1BFUl9WRVJURVggKiAzKV0gPSBjdXJyZW50WTtcbiAgICAgICAgICAgIHBvc2l0aW9uc1tzdGFydCArIChWQUxVRVNfUEVSX1ZFUlRFWCAqIDQpXSA9IHByZXZpb3VzWTtcblxuICAgICAgICAgICAgcHJldmlvdXNCYXJZW2ldID0gY3VycmVudFk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcG9zaXRpb25zO1xufTtcblxuY29uc3QgZmlsbExpbmVzRGF0YSA9IChzdG9yZSwgZ2wsIHBvc2l0aW9ucyA9IG51bGwsIGJhcnNIZWlnaHQpID0+IHtcbiAgICBjb25zdCB7cG9pbnRzLCBhbGxMaW5lSWRzfSA9IHN0b3JlO1xuXG4gICAgaWYgKCFwb3NpdGlvbnMpIHtcbiAgICAgICAgcG9zaXRpb25zID0gZ2V0RGVmYXVsdFBvc2l0aW9ucyhwb2ludHMsIGFsbExpbmVJZHMsIGJhcnNIZWlnaHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHBvc2l0aW9ucyA9IHVwZGF0ZVBvc2l0aW9ucyhwb3NpdGlvbnMsIHBvaW50cywgYWxsTGluZUlkcywgYmFyc0hlaWdodCk7XG4gICAgfVxuXG4gICAgZ2wuYnVmZmVyRGF0YShcbiAgICAgICAgZ2wuQVJSQVlfQlVGRkVSLFxuICAgICAgICBuZXcgRmxvYXQzMkFycmF5KHBvc2l0aW9ucyksXG4gICAgICAgIGdsLlNUQVRJQ19EUkFXLFxuICAgICk7XG5cbiAgICByZXR1cm4gcG9zaXRpb25zO1xufTtcblxuY29uc3QgdXBkYXRlU2l6ZSA9IChjYW52YXMsIGdsLCB3aWR0aCwgaGVpZ2h0LCBwaXhlbFJhdGlvLCB7cmVzb2x1dGlvblVuaWZvcm1Mb2NhdGlvbn0pID0+IHtcbiAgICBjb25zdCByZW5kZXJXaWR0aCA9IHdpZHRoICogcGl4ZWxSYXRpbztcbiAgICBjb25zdCByZW5kZXJIZWlnaHQgPSBoZWlnaHQgKiBwaXhlbFJhdGlvO1xuXG4gICAgY2FudmFzLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICAgIGNhbnZhcy53aWR0aCA9IHJlbmRlcldpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSByZW5kZXJIZWlnaHQ7XG5cbiAgICBnbC52aWV3cG9ydCgwLCAwLCByZW5kZXJXaWR0aCwgcmVuZGVySGVpZ2h0KTtcblxuICAgIC8vINGD0YHRgtCw0L3QvtCy0LrQsCDRgNCw0LfRgNC10YjQtdC90LjRj1xuICAgIGdsLnVuaWZvcm0yZihyZXNvbHV0aW9uVW5pZm9ybUxvY2F0aW9uLCByZW5kZXJXaWR0aCwgcmVuZGVySGVpZ2h0KTtcbn07XG5cbmNvbnN0IHJlbmRlckxpbmVzID0gKHN0b3JlLCBnbCwgZ2xPcHRpb25zKSA9PiB7XG4gICAgY29uc3Qge3BvaW50cywgYWxsTGluZUlkc30gPSBzdG9yZTtcblxuICAgIGNvbnN0IHBvaW50c0NvdW50ID0gcG9pbnRzLmxlbmd0aDtcblxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgYWxsTGluZUlkcy5sZW5ndGg7IGorKykge1xuICAgICAgICBjb25zdCBsaW5lSWQgPSBhbGxMaW5lSWRzW2pdO1xuXG5cbiAgICAgICAgY29uc3QgW3JlZCwgZ3JlZW4sIGJsdWVdID0gc3RvcmUucmdiYUNvbG9yc1dlYmdsW2xpbmVJZF07XG5cbiAgICAgICAgY29uc3Qge2NvbG9yVW5pZm9ybUxvY2F0aW9ufSA9IGdsT3B0aW9ucztcblxuICAgICAgICBnbC51bmlmb3JtNGYoY29sb3JVbmlmb3JtTG9jYXRpb24sIHJlZCwgZ3JlZW4sIGJsdWUsIDEpO1xuXG4gICAgICAgIGNvbnN0IHByaW1pdGl2ZVR5cGUgPSBnbC5UUklBTkdMRV9TVFJJUDtcbiAgICAgICAgY29uc3QgY291bnQgPSBwb2ludHNDb3VudCAqIFZFUlRFWF9QRVJfUE9JTlQ7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGNvdW50ICogajtcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhwcmltaXRpdmVUeXBlLCBvZmZzZXQsIGNvdW50KTtcbiAgICB9XG59O1xuXG5jb25zdCByZW5kZXIgPSAoXG4gICAgc3RvcmUsIGdsLCBnbE9wdGlvbnMsIHZpZXdCb3gsXG4gICAgd2lkdGgsIGhlaWdodCwgcGFkZGluZyxcbiAgICBwaXhlbFJhdGlvLCBib3R0b21QYWRkaW5nLFxuKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgICBzY2FsZUZhY3RvclVuaWZvcm1Mb2NhdGlvbixcbiAgICAgICAgc2NhbGVTdGFydFVuaWZvcm1Mb2NhdGlvbixcbiAgICAgICAgYm90dG9tUGFkZGluZ1VuaWZvcm1Mb2NhdGlvbixcbiAgICB9ID0gZ2xPcHRpb25zO1xuICAgIGxldCB7c2NhbGVTdGFydFBvaW50LCBzY2FsZUVuZFBvaW50fSA9IHZpZXdCb3g7XG4gICAgY29uc3Qge21pblksIG1heFl9ID0gdmlld0JveDtcblxuICAgIHNjYWxlU3RhcnRQb2ludCAtPSAwLjU7XG4gICAgc2NhbGVFbmRQb2ludCArPSAwLjU7XG5cbiAgICBjb25zdCBwaXhlbFdpZHRoID0gKHdpZHRoIC0gKHBhZGRpbmcgKiAyKSkgKiBwaXhlbFJhdGlvO1xuICAgIGNvbnN0IHBpeGVsSGVpZ2h0ID0gaGVpZ2h0ICogcGl4ZWxSYXRpbztcblxuICAgIGNvbnN0IGluZGV4V2lkdGggPSBzY2FsZUVuZFBvaW50IC0gc2NhbGVTdGFydFBvaW50O1xuICAgIC8vINC10YHQu9C4INGH0LjRgdGC0L4g0LPQvtGA0LjQt9C+0L3RgtCw0LvRjNC90LDRjyDQu9C40L3QuNGPXG4gICAgY29uc3Qgb3JpZ2luYWxIZWlnaHQgPSBtYXhZID09PSBtaW5ZID8gMSA6IG1heFkgLSBtaW5ZO1xuXG4gICAgY29uc3QgZmFjdG9yWCA9IHBpeGVsV2lkdGggLyBpbmRleFdpZHRoO1xuICAgIGNvbnN0IGZhY3RvclkgPSBwaXhlbEhlaWdodCAvIG9yaWdpbmFsSGVpZ2h0O1xuXG4gICAgY29uc3QgcGl4ZWxNaW5ZID0gbWluWSAqIGZhY3Rvclk7XG5cbiAgICBjb25zdCBwaXhlbEJvdHRvbVBhZGRpbmcgPSAoYm90dG9tUGFkZGluZyAqIHBpeGVsUmF0aW8pIC0gcGl4ZWxNaW5ZO1xuXG4gICAgZ2wudW5pZm9ybTJmKHNjYWxlRmFjdG9yVW5pZm9ybUxvY2F0aW9uLCBmYWN0b3JYLCBmYWN0b3JZKTtcbiAgICBnbC51bmlmb3JtMWYoc2NhbGVTdGFydFVuaWZvcm1Mb2NhdGlvbiwgc2NhbGVTdGFydFBvaW50IC0gKHBpeGVsUmF0aW8gKiBwYWRkaW5nIC8gZmFjdG9yWCkpO1xuICAgIGdsLnVuaWZvcm0xZihib3R0b21QYWRkaW5nVW5pZm9ybUxvY2F0aW9uLCBwaXhlbEJvdHRvbVBhZGRpbmcpO1xuXG4gICAgcmVuZGVyTGluZXMoc3RvcmUsIGdsLCBnbE9wdGlvbnMpO1xufTtcblxuY29uc3QgZ2xDb250ZXh0ID0gKHN0b3JlLCBiYXJzSGVpZ2h0LCBjYW52YXMpID0+IHtcbiAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB9XG4gICAgbGV0IGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywge1xuICAgICAgICBhbnRpYWxpYXM6IHRydWUsXG4gICAgICAgIHBvd2VyUHJlZmVyZW5jZTogJ2hpZ2gtcGVyZm9ybWFuY2UnLFxuICAgIH0pO1xuXG4gICAgaWYgKCFnbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBzdXBwb3J0IHdlYmdsJyk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2xPcHRpb25zID0gaW5pdEdsKGdsKTtcblxuICAgIGxldCBjdXJyZW50V2lkdGggPSAwO1xuICAgIGxldCBjdXJyZW50SGVpZ2h0ID0gMDtcbiAgICBsZXQgY3VycmVudFBpeGVsUmF0aW8gPSAxO1xuXG4gICAgY29uc3QgcG9zaXRpb25zID0gZmlsbExpbmVzRGF0YShzdG9yZSwgZ2wsIG51bGwsIGJhcnNIZWlnaHQpO1xuXG4gICAgY29uc3QgdXBkYXRlQ2hhcnREYXRhID0gKCkgPT4ge1xuICAgICAgICBmaWxsTGluZXNEYXRhKHN0b3JlLCBnbCwgcG9zaXRpb25zLCBiYXJzSGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgbGV0IHJlUmVuZGVyID0gKHdpZHRoLCBoZWlnaHQsIHBhZGRpbmcsIGxpbmVzT3BhY2l0eSwgcGl4ZWxSYXRpbykgPT4ge1xuICAgICAgICBjb25zdCBib3R0b21QYWRkaW5nID0gVklFV19TQ0FMRVJfU1BBQ0UgKyBDSEFSVF9TQ0FMRVJfSEVJR0hUO1xuICAgICAgICBjb25zdCBzY2FsZXJCb3R0b21QYWRkaW5nID0gMDtcbiAgICAgICAgY29uc3Qgc2NhbGVySGVpZ2h0ID0gQ0hBUlRfU0NBTEVSX0hFSUdIVCAtIHNjYWxlckJvdHRvbVBhZGRpbmc7XG5cbiAgICAgICAgLy8gcGl4ZWwgcmF0aW8gY2FuIGNoYW5nZSBpZiBkcmFnIGJyb3dzZXIgd2luZG93IGZyb20gb25lIHNjcmVlbiB0byBhbm90aGVyXG4gICAgICAgIGlmIChjdXJyZW50V2lkdGggIT09IHdpZHRoIHx8IGN1cnJlbnRIZWlnaHQgIT09IGhlaWdodCB8fCBjdXJyZW50UGl4ZWxSYXRpbyAhPT0gcGl4ZWxSYXRpbykge1xuICAgICAgICAgICAgdXBkYXRlU2l6ZShjYW52YXMsIGdsLCB3aWR0aCwgaGVpZ2h0ICsgYm90dG9tUGFkZGluZywgcGl4ZWxSYXRpbywgZ2xPcHRpb25zKTtcblxuICAgICAgICAgICAgY3VycmVudFdpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBjdXJyZW50SGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgY3VycmVudFBpeGVsUmF0aW8gPSBwaXhlbFJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGl4ZWxXaWR0aCA9IHdpZHRoICogcGl4ZWxSYXRpbztcbiAgICAgICAgY29uc3QgcGl4ZWxIZWlnaHQgPSBoZWlnaHQgKiBwaXhlbFJhdGlvO1xuXG4gICAgICAgIGdsLnNjaXNzb3IoMCwgMCwgcGl4ZWxXaWR0aCwgQ0hBUlRfU0NBTEVSX0hFSUdIVCAqIHBpeGVsUmF0aW8pO1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgICBzdG9yZSwgZ2wsIGdsT3B0aW9ucywgc3RvcmUuZnVsbFZpZXdCb3guYW5pbWF0aW9uQm94LFxuICAgICAgICAgICAgd2lkdGgsIHNjYWxlckhlaWdodCwgcGFkZGluZyxcbiAgICAgICAgICAgIHBpeGVsUmF0aW8sIHNjYWxlckJvdHRvbVBhZGRpbmcsXG4gICAgICAgICk7XG5cbiAgICAgICAgZ2wuc2Npc3NvcigwLCBib3R0b21QYWRkaW5nICogcGl4ZWxSYXRpbywgcGl4ZWxXaWR0aCwgcGl4ZWxIZWlnaHQpO1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgICBzdG9yZSwgZ2wsIGdsT3B0aW9ucywgc3RvcmUudmlld0JveC5hbmltYXRpb25Cb3gsXG4gICAgICAgICAgICB3aWR0aCwgaGVpZ2h0LCBwYWRkaW5nLFxuICAgICAgICAgICAgcGl4ZWxSYXRpbywgYm90dG9tUGFkZGluZyxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gY2FudmFzO1xuICAgIH07XG5cbiAgICBsZXQgZGVzdHJveSA9ICgpID0+IHtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xuICAgICAgICBjYW52YXMud2lkdGggPSAxO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gMTtcbiAgICAgICAgc3RvcmUgPSBudWxsO1xuICAgICAgICByZVJlbmRlciA9IG51bGw7XG4gICAgICAgIGNhbnZhcyA9IG51bGw7XG4gICAgICAgIGdsID0gbnVsbDtcbiAgICAgICAgZGVzdHJveSA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNhbnZhcyxcbiAgICAgICAgZ2wsXG4gICAgICAgIGRlc3Ryb3ksXG4gICAgICAgIHVwZGF0ZUNoYXJ0RGF0YSxcbiAgICAgICAgcmVuZGVyOiByZVJlbmRlcixcbiAgICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2xDb250ZXh0O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/Webgl/barGl/glContext.js\n");

/***/ }),

/***/ "./src/chart/Webgl/barGl/initGl.js":
/*!*****************************************!*\
  !*** ./src/chart/Webgl/barGl/initGl.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _vertexShader_glsl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vertexShader.glsl */ \"./src/chart/Webgl/barGl/vertexShader.glsl\");\n/* harmony import */ var _fragmentShader_glsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fragmentShader.glsl */ \"./src/chart/Webgl/barGl/fragmentShader.glsl\");\n\n\n\n\n\nconst loadShader = (gl, type, source) => {\n    const shader = gl.createShader(type);\n\n    // Send the source to the shader object\n    gl.shaderSource(shader, source);\n\n    // Compile the shader program\n    gl.compileShader(shader);\n\n    // See if it compiled successfully\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        gl.deleteShader(shader);\n\n        throw new Error(`An error occurred compiling the shaders: ${gl.getShaderInfoLog(shader)}`);\n    }\n\n    return shader;\n};\n\nconst initShaderProgram = (gl) => {\n    const vertexShader = loadShader(gl, gl.VERTEX_SHADER, _vertexShader_glsl__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n    const fragmentShader = loadShader(gl, gl.FRAGMENT_SHADER, _fragmentShader_glsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n\n    // Create the shader program\n    const shaderProgram = gl.createProgram();\n    gl.attachShader(shaderProgram, vertexShader);\n    gl.attachShader(shaderProgram, fragmentShader);\n    gl.linkProgram(shaderProgram);\n\n    // If creating the shader program failed, alert\n    if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\n        throw new Error(`Unable to initialize the shader program: ${gl.getProgramInfoLog(shaderProgram)}`);\n    }\n\n    return shaderProgram;\n};\n\nconst prepareGl = (gl, shaderProgram, positionAttributeLocation) => {\n    // Create a buffer for the positions.\n    const positionBuffer = gl.createBuffer();\n\n    // Select the positionBuffer as the one to apply buffer\n    // operations to from here out.\n    // Привязываем буфер положений\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.clearColor(0, 0, 0, 0);\n\n    gl.useProgram(shaderProgram);\n\n    // включаем аттрибут\n    gl.enableVertexAttribArray(positionAttributeLocation);\n    // gl.enableVertexAttribArray(shiftAttributeLocation);\n\n\n    // Указываем атрибуту, как получать данные от positionBuffer (ARRAY_BUFFER)\n    const size = 2; // 4 компоненты на итерацию\n    const type = gl.FLOAT; // наши данные - 32-битные числа с плавающей точкой\n    const normalize = false; // не нормализовать данные\n    const stride = 0; // 0 = перемещаться на size * sizeof(type) каждую итерацию для получения следующего положения\n    const offset = 0; // начинать с начала буфера\n    gl.vertexAttribPointer(positionAttributeLocation, size, type, normalize, stride, offset);\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\n    gl.enable(gl.SCISSOR_TEST);\n};\n\nconst initialize = (gl) => {\n    const shaderProgram = initShaderProgram(gl);\n    gl.bindAttribLocation(shaderProgram, 2, 'a_position');\n\n    const positionAttributeLocation = gl.getAttribLocation(shaderProgram, 'a_position');\n    const resolutionUniformLocation = gl.getUniformLocation(shaderProgram, 'u_resolution');\n    const scaleStartUniformLocation = gl.getUniformLocation(shaderProgram, 'u_scaleStart');\n    const bottomPaddingUniformLocation = gl.getUniformLocation(shaderProgram, 'u_bottomPadding');\n    const scaleFactorUniformLocation = gl.getUniformLocation(shaderProgram, 'u_scaleFactor');\n    const colorUniformLocation = gl.getUniformLocation(shaderProgram, 'u_color');\n\n    prepareGl(gl, shaderProgram, positionAttributeLocation);\n\n    return {\n        shaderProgram,\n        positionAttributeLocation,\n        colorUniformLocation,\n        resolutionUniformLocation,\n        scaleStartUniformLocation,\n        bottomPaddingUniformLocation,\n        scaleFactorUniformLocation,\n    };\n};\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (initialize);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvYmFyR2wvaW5pdEdsLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJ0L1dlYmdsL2JhckdsL2luaXRHbC5qcz8yY2Q5Il0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHZlcnRleFNoYWRlclNvdXJjZSBmcm9tICcuL3ZlcnRleFNoYWRlci5nbHNsJztcbmltcG9ydCBmcmFnbWVudFNoYWRlclNvdXJjZSBmcm9tICcuL2ZyYWdtZW50U2hhZGVyLmdsc2wnO1xuXG5cbmNvbnN0IGxvYWRTaGFkZXIgPSAoZ2wsIHR5cGUsIHNvdXJjZSkgPT4ge1xuICAgIGNvbnN0IHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcblxuICAgIC8vIFNlbmQgdGhlIHNvdXJjZSB0byB0aGUgc2hhZGVyIG9iamVjdFxuICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNvdXJjZSk7XG5cbiAgICAvLyBDb21waWxlIHRoZSBzaGFkZXIgcHJvZ3JhbVxuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcblxuICAgIC8vIFNlZSBpZiBpdCBjb21waWxlZCBzdWNjZXNzZnVsbHlcbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIoc2hhZGVyKTtcblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFuIGVycm9yIG9jY3VycmVkIGNvbXBpbGluZyB0aGUgc2hhZGVyczogJHtnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcil9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNoYWRlcjtcbn07XG5cbmNvbnN0IGluaXRTaGFkZXJQcm9ncmFtID0gKGdsKSA9PiB7XG4gICAgY29uc3QgdmVydGV4U2hhZGVyID0gbG9hZFNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgdmVydGV4U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGxvYWRTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBzaGFkZXIgcHJvZ3JhbVxuICAgIGNvbnN0IHNoYWRlclByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHNoYWRlclByb2dyYW0sIHZlcnRleFNoYWRlcik7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHNoYWRlclByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcbiAgICBnbC5saW5rUHJvZ3JhbShzaGFkZXJQcm9ncmFtKTtcblxuICAgIC8vIElmIGNyZWF0aW5nIHRoZSBzaGFkZXIgcHJvZ3JhbSBmYWlsZWQsIGFsZXJ0XG4gICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHNoYWRlclByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBpbml0aWFsaXplIHRoZSBzaGFkZXIgcHJvZ3JhbTogJHtnbC5nZXRQcm9ncmFtSW5mb0xvZyhzaGFkZXJQcm9ncmFtKX1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2hhZGVyUHJvZ3JhbTtcbn07XG5cbmNvbnN0IHByZXBhcmVHbCA9IChnbCwgc2hhZGVyUHJvZ3JhbSwgcG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbikgPT4ge1xuICAgIC8vIENyZWF0ZSBhIGJ1ZmZlciBmb3IgdGhlIHBvc2l0aW9ucy5cbiAgICBjb25zdCBwb3NpdGlvbkJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuXG4gICAgLy8gU2VsZWN0IHRoZSBwb3NpdGlvbkJ1ZmZlciBhcyB0aGUgb25lIHRvIGFwcGx5IGJ1ZmZlclxuICAgIC8vIG9wZXJhdGlvbnMgdG8gZnJvbSBoZXJlIG91dC5cbiAgICAvLyDQn9GA0LjQstGP0LfRi9Cy0LDQtdC8INCx0YPRhNC10YAg0L/QvtC70L7QttC10L3QuNC5XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHBvc2l0aW9uQnVmZmVyKTtcbiAgICBnbC5jbGVhckNvbG9yKDAsIDAsIDAsIDApO1xuXG4gICAgZ2wudXNlUHJvZ3JhbShzaGFkZXJQcm9ncmFtKTtcblxuICAgIC8vINCy0LrQu9GO0YfQsNC10Lwg0LDRgtGC0YDQuNCx0YPRglxuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24pO1xuICAgIC8vIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHNoaWZ0QXR0cmlidXRlTG9jYXRpb24pO1xuXG5cbiAgICAvLyDQo9C60LDQt9GL0LLQsNC10Lwg0LDRgtGA0LjQsdGD0YLRgywg0LrQsNC6INC/0L7Qu9GD0YfQsNGC0Ywg0LTQsNC90L3Ri9C1INC+0YIgcG9zaXRpb25CdWZmZXIgKEFSUkFZX0JVRkZFUilcbiAgICBjb25zdCBzaXplID0gMjsgLy8gNCDQutC+0LzQv9C+0L3QtdC90YLRiyDQvdCwINC40YLQtdGA0LDRhtC40Y5cbiAgICBjb25zdCB0eXBlID0gZ2wuRkxPQVQ7IC8vINC90LDRiNC4INC00LDQvdC90YvQtSAtIDMyLdCx0LjRgtC90YvQtSDRh9C40YHQu9CwINGBINC/0LvQsNCy0LDRjtGJ0LXQuSDRgtC+0YfQutC+0LlcbiAgICBjb25zdCBub3JtYWxpemUgPSBmYWxzZTsgLy8g0L3QtSDQvdC+0YDQvNCw0LvQuNC30L7QstCw0YLRjCDQtNCw0L3QvdGL0LVcbiAgICBjb25zdCBzdHJpZGUgPSAwOyAvLyAwID0g0L/QtdGA0LXQvNC10YnQsNGC0YzRgdGPINC90LAgc2l6ZSAqIHNpemVvZih0eXBlKSDQutCw0LbQtNGD0Y4g0LjRgtC10YDQsNGG0LjRjiDQtNC70Y8g0L/QvtC70YPRh9C10L3QuNGPINGB0LvQtdC00YPRjtGJ0LXQs9C+INC/0L7Qu9C+0LbQtdC90LjRj1xuICAgIGNvbnN0IG9mZnNldCA9IDA7IC8vINC90LDRh9C40L3QsNGC0Ywg0YEg0L3QsNGH0LDQu9CwINCx0YPRhNC10YDQsFxuICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIocG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbiwgc2l6ZSwgdHlwZSwgbm9ybWFsaXplLCBzdHJpZGUsIG9mZnNldCk7XG4gICAgZ2wuZW5hYmxlKGdsLkJMRU5EKTtcbiAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcblxuICAgIGdsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xufTtcblxuY29uc3QgaW5pdGlhbGl6ZSA9IChnbCkgPT4ge1xuICAgIGNvbnN0IHNoYWRlclByb2dyYW0gPSBpbml0U2hhZGVyUHJvZ3JhbShnbCk7XG4gICAgZ2wuYmluZEF0dHJpYkxvY2F0aW9uKHNoYWRlclByb2dyYW0sIDIsICdhX3Bvc2l0aW9uJyk7XG5cbiAgICBjb25zdCBwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgJ2FfcG9zaXRpb24nKTtcbiAgICBjb25zdCByZXNvbHV0aW9uVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sICd1X3Jlc29sdXRpb24nKTtcbiAgICBjb25zdCBzY2FsZVN0YXJ0VW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sICd1X3NjYWxlU3RhcnQnKTtcbiAgICBjb25zdCBib3R0b21QYWRkaW5nVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sICd1X2JvdHRvbVBhZGRpbmcnKTtcbiAgICBjb25zdCBzY2FsZUZhY3RvclVuaWZvcm1Mb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCAndV9zY2FsZUZhY3RvcicpO1xuICAgIGNvbnN0IGNvbG9yVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sICd1X2NvbG9yJyk7XG5cbiAgICBwcmVwYXJlR2woZ2wsIHNoYWRlclByb2dyYW0sIHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgcG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbixcbiAgICAgICAgY29sb3JVbmlmb3JtTG9jYXRpb24sXG4gICAgICAgIHJlc29sdXRpb25Vbmlmb3JtTG9jYXRpb24sXG4gICAgICAgIHNjYWxlU3RhcnRVbmlmb3JtTG9jYXRpb24sXG4gICAgICAgIGJvdHRvbVBhZGRpbmdVbmlmb3JtTG9jYXRpb24sXG4gICAgICAgIHNjYWxlRmFjdG9yVW5pZm9ybUxvY2F0aW9uLFxuICAgIH07XG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IGluaXRpYWxpemU7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/Webgl/barGl/initGl.js\n");

/***/ }),

/***/ "./src/chart/Webgl/barGl/vertexShader.glsl":
/*!*************************************************!*\
  !*** ./src/chart/Webgl/barGl/vertexShader.glsl ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\nattribute vec2 a_position;\\n\\nuniform vec4 u_color;\\n\\nuniform vec2 u_resolution;\\n\\nuniform float u_scaleStart;\\n\\nuniform float u_bottomPadding;\\n\\nuniform vec2 u_scaleFactor;\\n\\nvarying vec4 v_color;\\n\\nvoid main() {\\n    vec2 position = vec2(a_position);\\n\\n    position.x = position.x - u_scaleStart;\\n\\n    vec2 pixelPosition = position * u_scaleFactor;\\n\\n    pixelPosition.y = pixelPosition.y + u_bottomPadding;\\n\\n    vec2 clipSpace = 2.0 * pixelPosition / u_resolution - 1.0;\\n\\n    gl_Position = vec4(clipSpace, 0, 1);\\n\\n    v_color = u_color;\\n}\\n\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvYmFyR2wvdmVydGV4U2hhZGVyLmdsc2wuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQvV2ViZ2wvYmFyR2wvdmVydGV4U2hhZGVyLmdsc2w/OWYzMyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIlxcbmF0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247XFxuXFxudW5pZm9ybSB2ZWM0IHVfY29sb3I7XFxuXFxudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcXG5cXG51bmlmb3JtIGZsb2F0IHVfc2NhbGVTdGFydDtcXG5cXG51bmlmb3JtIGZsb2F0IHVfYm90dG9tUGFkZGluZztcXG5cXG51bmlmb3JtIHZlYzIgdV9zY2FsZUZhY3RvcjtcXG5cXG52YXJ5aW5nIHZlYzQgdl9jb2xvcjtcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIHZlYzIgcG9zaXRpb24gPSB2ZWMyKGFfcG9zaXRpb24pO1xcblxcbiAgICBwb3NpdGlvbi54ID0gcG9zaXRpb24ueCAtIHVfc2NhbGVTdGFydDtcXG5cXG4gICAgdmVjMiBwaXhlbFBvc2l0aW9uID0gcG9zaXRpb24gKiB1X3NjYWxlRmFjdG9yO1xcblxcbiAgICBwaXhlbFBvc2l0aW9uLnkgPSBwaXhlbFBvc2l0aW9uLnkgKyB1X2JvdHRvbVBhZGRpbmc7XFxuXFxuICAgIHZlYzIgY2xpcFNwYWNlID0gMi4wICogcGl4ZWxQb3NpdGlvbiAvIHVfcmVzb2x1dGlvbiAtIDEuMDtcXG5cXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KGNsaXBTcGFjZSwgMCwgMSk7XFxuXFxuICAgIHZfY29sb3IgPSB1X2NvbG9yO1xcbn1cXG5cIiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/chart/Webgl/barGl/vertexShader.glsl\n");

/***/ }),

/***/ "./src/chart/Webgl/helpers.js":
/*!************************************!*\
  !*** ./src/chart/Webgl/helpers.js ***!
  \************************************/
/*! exports provided: getPixelRatio */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPixelRatio\", function() { return getPixelRatio; });\n\nconst getPixelRatio = () => window.devicePixelRatio || 1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvaGVscGVycy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9XZWJnbC9oZWxwZXJzLmpzPzg4OGQiXSwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgY29uc3QgZ2V0UGl4ZWxSYXRpbyA9ICgpID0+IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/chart/Webgl/helpers.js\n");

/***/ }),

/***/ "./src/chart/Webgl/index.js":
/*!**********************************!*\
  !*** ./src/chart/Webgl/index.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Webgl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Webgl */ \"./src/chart/Webgl/Webgl.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _Webgl__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQvV2ViZ2wvaW5kZXguanM/NGIyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCB7ZGVmYXVsdH0gZnJvbSAnLi9XZWJnbCc7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/Webgl/index.js\n");

/***/ }),

/***/ "./src/chart/Webgl/lineGl/fragmentShader.glsl":
/*!****************************************************!*\
  !*** ./src/chart/Webgl/lineGl/fragmentShader.glsl ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"precision mediump float;\\n\\nvarying vec4 v_color;\\n\\nvoid main() {\\n    gl_FragColor = v_color;\\n}\\n\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvbGluZUdsL2ZyYWdtZW50U2hhZGVyLmdsc2wuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQvV2ViZ2wvbGluZUdsL2ZyYWdtZW50U2hhZGVyLmdsc2w/NGIyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcblxcbnZhcnlpbmcgdmVjNCB2X2NvbG9yO1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdl9jb2xvcjtcXG59XFxuXCIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/Webgl/lineGl/fragmentShader.glsl\n");

/***/ }),

/***/ "./src/chart/Webgl/lineGl/glContext.js":
/*!*********************************************!*\
  !*** ./src/chart/Webgl/lineGl/glContext.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _initGl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./initGl */ \"./src/chart/Webgl/lineGl/initGl.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../constants */ \"./src/chart/constants.js\");\n\n\n\nconst fillLinesData = (store, gl) => {\n    const {points, allLineIds} = store;\n\n    const pointsCount = points.length - 1;\n\n    const positions = [];\n\n    for (let j = 0; j < allLineIds.length; j++) {\n        const lineId = allLineIds[j];\n\n        let lastX = 0;\n        let lastY = points[0].lines[lineId];\n\n        for (let i = 1; i <= pointsCount; i++) {\n            const y = points[i].lines[lineId];\n\n            const positionX = i;\n            const positionY = y;\n\n            const shiftX = positionX - lastX;\n            const shiftY = positionY - lastY;\n\n            positions.push(\n                lastX, lastY, shiftX, shiftY,\n                lastX, lastY, -shiftX, -shiftY,\n                positionX, positionY, shiftX, shiftY,\n                positionX, positionY, -shiftX, -shiftY,\n            );\n\n            lastX = positionX;\n            lastY = positionY;\n        }\n    }\n\n    gl.bufferData(\n        gl.ARRAY_BUFFER,\n        new Float32Array(positions),\n        gl.STATIC_DRAW,\n    );\n\n    return positions;\n};\n\nconst updateSize = (canvas, gl, width, height, pixelRatio, {resolutionUniformLocation}) => {\n    const renderWidth = width * pixelRatio;\n    const renderHeight = height * pixelRatio;\n\n    canvas.style.width = `${width}px`;\n    canvas.style.height = `${height}px`;\n    canvas.width = renderWidth;\n    canvas.height = renderHeight;\n\n    gl.viewport(0, 0, renderWidth, renderHeight);\n\n    // установка разрешения\n    gl.uniform2f(resolutionUniformLocation, renderWidth, renderHeight);\n};\n\nconst renderLines = (store, lineIds, gl, glOptions, linesOpacity, skipLines) => {\n    const {points} = store;\n\n    const pointsCount = points.length - 1;\n\n    for (let j = 0; j < lineIds.length; j++) {\n        const lineId = lineIds[j];\n\n        const [red, green, blue] = store.rgbaColorsWebgl[lineId];\n\n        const {colorUniformLocation} = glOptions;\n\n        const opacity = linesOpacity[lineId];\n\n        gl.uniform4f(colorUniformLocation, red * opacity, green * opacity, blue * opacity, opacity);\n\n        const primitiveType = gl.TRIANGLE_STRIP;\n        const count = pointsCount * 4;\n        const offset = count * (j + skipLines);\n        gl.drawArrays(primitiveType, offset, count);\n    }\n};\n\nconst render = (\n    store, lineIds, gl, glOptions, viewBox,\n    width, height, padding, lineWidth,\n    linesOpacity, pixelRatio, bottomPadding, skipLines,\n) => {\n    const {\n        scaleFactorUniformLocation,\n        lineHalfWidthUniformLocation,\n        scaleStartUniformLocation,\n        bottomPaddingUniformLocation,\n    } = glOptions;\n    const {scaleStartPoint, scaleEndPoint, minY, maxY} = viewBox;\n\n    const pixelWidth = (width - (padding * 2)) * pixelRatio;\n    const pixelHeight = height * pixelRatio;\n\n    // чтобы нижняя точка графика не обрезалась\n    // height -= 1;\n\n    const indexWidth = scaleEndPoint - scaleStartPoint;\n    // если чисто горизонтальная линия\n    const originalHeight = maxY === minY ? 1 : maxY - minY;\n\n    const factorX = pixelWidth / indexWidth;\n    const factorY = pixelHeight / originalHeight;\n\n    const pixelMinY = minY * factorY;\n\n    const pixelBottomPadding = (bottomPadding * pixelRatio) - pixelMinY;\n\n    gl.uniform2f(scaleFactorUniformLocation, factorX, factorY);\n    gl.uniform1f(lineHalfWidthUniformLocation, lineWidth * pixelRatio / 2);\n    gl.uniform1f(scaleStartUniformLocation, scaleStartPoint - (pixelRatio * padding / factorX));\n    gl.uniform1f(bottomPaddingUniformLocation, pixelBottomPadding);\n\n    renderLines(store, lineIds, gl, glOptions, linesOpacity, skipLines);\n};\n\nconst glContext = (store, linesOpacity, canvas) => {\n    if (!canvas) {\n        canvas = document.createElement('canvas');\n    }\n    let gl = canvas.getContext('webgl', {\n        antialias: true,\n        powerPreference: 'high-performance',\n    });\n\n    if (!gl) {\n        throw new Error('not support webgl');\n    }\n\n    const glOptions = Object(_initGl__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(gl);\n\n    let currentWidth = 0;\n    let currentHeight = 0;\n    // let currentViewBox = null;\n    let currentPixelRatio = 1;\n\n    fillLinesData(store, gl);\n\n    let reRender = (width, height, padding, linesOpacity, pixelRatio) => {\n        const bottomPadding = _constants__WEBPACK_IMPORTED_MODULE_1__[\"VIEW_SCALER_SPACE\"] + _constants__WEBPACK_IMPORTED_MODULE_1__[\"CHART_SCALER_HEIGHT\"];\n        const scalerBottomPadding = 2;\n        const scalerHeight = _constants__WEBPACK_IMPORTED_MODULE_1__[\"CHART_SCALER_HEIGHT\"] - scalerBottomPadding;\n        // pixel ratio can change if drag browser window from one screen to another\n        if (currentWidth !== width || currentHeight !== height || currentPixelRatio !== pixelRatio) {\n            updateSize(canvas, gl, width, height + bottomPadding, pixelRatio, glOptions);\n\n            currentWidth = width;\n            currentHeight = height;\n            currentPixelRatio = pixelRatio;\n        }\n\n        // gl.clear(gl.COLOR_BUFFER_BIT);\n\n        const mainLineWidth = 2;\n        const scalerLineWidth = 1;\n\n        const mainLineIds = store.yScaled ? [store.allLineIds[0]] : store.allLineIds;\n        const skipLines = 0;\n        const pixelWidth = width * pixelRatio;\n        const pixelHeight = height * pixelRatio;\n\n        gl.scissor(0, bottomPadding * pixelRatio - 5, pixelWidth, pixelHeight);\n        render(\n            store, mainLineIds, gl, glOptions, store.viewBox.animationBox,\n            width, height, padding, mainLineWidth,\n            linesOpacity, pixelRatio, bottomPadding, skipLines,\n        );\n\n        gl.scissor(0, 0, pixelWidth, _constants__WEBPACK_IMPORTED_MODULE_1__[\"CHART_SCALER_HEIGHT\"] * pixelRatio);\n        render(\n            store, mainLineIds, gl, glOptions, store.fullViewBox.animationBox,\n            width, scalerHeight, padding, scalerLineWidth,\n            linesOpacity, pixelRatio, scalerBottomPadding, skipLines,\n        );\n\n        if (store.yScaled) {\n            const secondaryLineIds = [store.allLineIds[1] || store.allLineIds[0]];\n            const secondarySkipLines = 1;\n\n            gl.scissor(0, bottomPadding * pixelRatio - 5, pixelWidth, pixelHeight);\n            render(\n                store, secondaryLineIds, gl, glOptions, store.secondaryViewBox.animationBox,\n                width, height, padding, mainLineWidth,\n                linesOpacity, pixelRatio, bottomPadding, secondarySkipLines,\n            );\n\n            gl.scissor(0, 0, pixelWidth, _constants__WEBPACK_IMPORTED_MODULE_1__[\"CHART_SCALER_HEIGHT\"] * pixelRatio);\n            render(\n                store, secondaryLineIds, gl, glOptions, store.secondaryFullViewBox.animationBox,\n                width, scalerHeight, padding, scalerLineWidth,\n                linesOpacity, pixelRatio, scalerBottomPadding, secondarySkipLines,\n            );\n        }\n\n        return canvas;\n    };\n\n    let destroy = () => {\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        canvas.width = 1;\n        canvas.height = 1;\n        store = null;\n        reRender = null;\n        canvas = null;\n        gl = null;\n        destroy = null;\n    };\n\n    return {\n        canvas,\n        gl,\n        destroy,\n        render: reRender,\n    };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (glContext);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvbGluZUdsL2dsQ29udGV4dC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9XZWJnbC9saW5lR2wvZ2xDb250ZXh0LmpzPzg5MjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGluaXRHbCBmcm9tICcuL2luaXRHbCc7XG5pbXBvcnQge1ZJRVdfU0NBTEVSX1NQQUNFLCBDSEFSVF9TQ0FMRVJfSEVJR0hUfSBmcm9tICcuLi8uLi9jb25zdGFudHMnO1xuXG5jb25zdCBmaWxsTGluZXNEYXRhID0gKHN0b3JlLCBnbCkgPT4ge1xuICAgIGNvbnN0IHtwb2ludHMsIGFsbExpbmVJZHN9ID0gc3RvcmU7XG5cbiAgICBjb25zdCBwb2ludHNDb3VudCA9IHBvaW50cy5sZW5ndGggLSAxO1xuXG4gICAgY29uc3QgcG9zaXRpb25zID0gW107XG5cbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFsbExpbmVJZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgY29uc3QgbGluZUlkID0gYWxsTGluZUlkc1tqXTtcblxuICAgICAgICBsZXQgbGFzdFggPSAwO1xuICAgICAgICBsZXQgbGFzdFkgPSBwb2ludHNbMF0ubGluZXNbbGluZUlkXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBwb2ludHNDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB5ID0gcG9pbnRzW2ldLmxpbmVzW2xpbmVJZF07XG5cbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uWCA9IGk7XG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvblkgPSB5O1xuXG4gICAgICAgICAgICBjb25zdCBzaGlmdFggPSBwb3NpdGlvblggLSBsYXN0WDtcbiAgICAgICAgICAgIGNvbnN0IHNoaWZ0WSA9IHBvc2l0aW9uWSAtIGxhc3RZO1xuXG4gICAgICAgICAgICBwb3NpdGlvbnMucHVzaChcbiAgICAgICAgICAgICAgICBsYXN0WCwgbGFzdFksIHNoaWZ0WCwgc2hpZnRZLFxuICAgICAgICAgICAgICAgIGxhc3RYLCBsYXN0WSwgLXNoaWZ0WCwgLXNoaWZ0WSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvblgsIHBvc2l0aW9uWSwgc2hpZnRYLCBzaGlmdFksXG4gICAgICAgICAgICAgICAgcG9zaXRpb25YLCBwb3NpdGlvblksIC1zaGlmdFgsIC1zaGlmdFksXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBsYXN0WCA9IHBvc2l0aW9uWDtcbiAgICAgICAgICAgIGxhc3RZID0gcG9zaXRpb25ZO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2wuYnVmZmVyRGF0YShcbiAgICAgICAgZ2wuQVJSQVlfQlVGRkVSLFxuICAgICAgICBuZXcgRmxvYXQzMkFycmF5KHBvc2l0aW9ucyksXG4gICAgICAgIGdsLlNUQVRJQ19EUkFXLFxuICAgICk7XG5cbiAgICByZXR1cm4gcG9zaXRpb25zO1xufTtcblxuY29uc3QgdXBkYXRlU2l6ZSA9IChjYW52YXMsIGdsLCB3aWR0aCwgaGVpZ2h0LCBwaXhlbFJhdGlvLCB7cmVzb2x1dGlvblVuaWZvcm1Mb2NhdGlvbn0pID0+IHtcbiAgICBjb25zdCByZW5kZXJXaWR0aCA9IHdpZHRoICogcGl4ZWxSYXRpbztcbiAgICBjb25zdCByZW5kZXJIZWlnaHQgPSBoZWlnaHQgKiBwaXhlbFJhdGlvO1xuXG4gICAgY2FudmFzLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICAgIGNhbnZhcy53aWR0aCA9IHJlbmRlcldpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSByZW5kZXJIZWlnaHQ7XG5cbiAgICBnbC52aWV3cG9ydCgwLCAwLCByZW5kZXJXaWR0aCwgcmVuZGVySGVpZ2h0KTtcblxuICAgIC8vINGD0YHRgtCw0L3QvtCy0LrQsCDRgNCw0LfRgNC10YjQtdC90LjRj1xuICAgIGdsLnVuaWZvcm0yZihyZXNvbHV0aW9uVW5pZm9ybUxvY2F0aW9uLCByZW5kZXJXaWR0aCwgcmVuZGVySGVpZ2h0KTtcbn07XG5cbmNvbnN0IHJlbmRlckxpbmVzID0gKHN0b3JlLCBsaW5lSWRzLCBnbCwgZ2xPcHRpb25zLCBsaW5lc09wYWNpdHksIHNraXBMaW5lcykgPT4ge1xuICAgIGNvbnN0IHtwb2ludHN9ID0gc3RvcmU7XG5cbiAgICBjb25zdCBwb2ludHNDb3VudCA9IHBvaW50cy5sZW5ndGggLSAxO1xuXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBsaW5lSWRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IGxpbmVJZCA9IGxpbmVJZHNbal07XG5cbiAgICAgICAgY29uc3QgW3JlZCwgZ3JlZW4sIGJsdWVdID0gc3RvcmUucmdiYUNvbG9yc1dlYmdsW2xpbmVJZF07XG5cbiAgICAgICAgY29uc3Qge2NvbG9yVW5pZm9ybUxvY2F0aW9ufSA9IGdsT3B0aW9ucztcblxuICAgICAgICBjb25zdCBvcGFjaXR5ID0gbGluZXNPcGFjaXR5W2xpbmVJZF07XG5cbiAgICAgICAgZ2wudW5pZm9ybTRmKGNvbG9yVW5pZm9ybUxvY2F0aW9uLCByZWQgKiBvcGFjaXR5LCBncmVlbiAqIG9wYWNpdHksIGJsdWUgKiBvcGFjaXR5LCBvcGFjaXR5KTtcblxuICAgICAgICBjb25zdCBwcmltaXRpdmVUeXBlID0gZ2wuVFJJQU5HTEVfU1RSSVA7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gcG9pbnRzQ291bnQgKiA0O1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBjb3VudCAqIChqICsgc2tpcExpbmVzKTtcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhwcmltaXRpdmVUeXBlLCBvZmZzZXQsIGNvdW50KTtcbiAgICB9XG59O1xuXG5jb25zdCByZW5kZXIgPSAoXG4gICAgc3RvcmUsIGxpbmVJZHMsIGdsLCBnbE9wdGlvbnMsIHZpZXdCb3gsXG4gICAgd2lkdGgsIGhlaWdodCwgcGFkZGluZywgbGluZVdpZHRoLFxuICAgIGxpbmVzT3BhY2l0eSwgcGl4ZWxSYXRpbywgYm90dG9tUGFkZGluZywgc2tpcExpbmVzLFxuKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgICBzY2FsZUZhY3RvclVuaWZvcm1Mb2NhdGlvbixcbiAgICAgICAgbGluZUhhbGZXaWR0aFVuaWZvcm1Mb2NhdGlvbixcbiAgICAgICAgc2NhbGVTdGFydFVuaWZvcm1Mb2NhdGlvbixcbiAgICAgICAgYm90dG9tUGFkZGluZ1VuaWZvcm1Mb2NhdGlvbixcbiAgICB9ID0gZ2xPcHRpb25zO1xuICAgIGNvbnN0IHtzY2FsZVN0YXJ0UG9pbnQsIHNjYWxlRW5kUG9pbnQsIG1pblksIG1heFl9ID0gdmlld0JveDtcblxuICAgIGNvbnN0IHBpeGVsV2lkdGggPSAod2lkdGggLSAocGFkZGluZyAqIDIpKSAqIHBpeGVsUmF0aW87XG4gICAgY29uc3QgcGl4ZWxIZWlnaHQgPSBoZWlnaHQgKiBwaXhlbFJhdGlvO1xuXG4gICAgLy8g0YfRgtC+0LHRiyDQvdC40LbQvdGP0Y8g0YLQvtGH0LrQsCDQs9GA0LDRhNC40LrQsCDQvdC1INC+0LHRgNC10LfQsNC70LDRgdGMXG4gICAgLy8gaGVpZ2h0IC09IDE7XG5cbiAgICBjb25zdCBpbmRleFdpZHRoID0gc2NhbGVFbmRQb2ludCAtIHNjYWxlU3RhcnRQb2ludDtcbiAgICAvLyDQtdGB0LvQuCDRh9C40YHRgtC+INCz0L7RgNC40LfQvtC90YLQsNC70YzQvdCw0Y8g0LvQuNC90LjRj1xuICAgIGNvbnN0IG9yaWdpbmFsSGVpZ2h0ID0gbWF4WSA9PT0gbWluWSA/IDEgOiBtYXhZIC0gbWluWTtcblxuICAgIGNvbnN0IGZhY3RvclggPSBwaXhlbFdpZHRoIC8gaW5kZXhXaWR0aDtcbiAgICBjb25zdCBmYWN0b3JZID0gcGl4ZWxIZWlnaHQgLyBvcmlnaW5hbEhlaWdodDtcblxuICAgIGNvbnN0IHBpeGVsTWluWSA9IG1pblkgKiBmYWN0b3JZO1xuXG4gICAgY29uc3QgcGl4ZWxCb3R0b21QYWRkaW5nID0gKGJvdHRvbVBhZGRpbmcgKiBwaXhlbFJhdGlvKSAtIHBpeGVsTWluWTtcblxuICAgIGdsLnVuaWZvcm0yZihzY2FsZUZhY3RvclVuaWZvcm1Mb2NhdGlvbiwgZmFjdG9yWCwgZmFjdG9yWSk7XG4gICAgZ2wudW5pZm9ybTFmKGxpbmVIYWxmV2lkdGhVbmlmb3JtTG9jYXRpb24sIGxpbmVXaWR0aCAqIHBpeGVsUmF0aW8gLyAyKTtcbiAgICBnbC51bmlmb3JtMWYoc2NhbGVTdGFydFVuaWZvcm1Mb2NhdGlvbiwgc2NhbGVTdGFydFBvaW50IC0gKHBpeGVsUmF0aW8gKiBwYWRkaW5nIC8gZmFjdG9yWCkpO1xuICAgIGdsLnVuaWZvcm0xZihib3R0b21QYWRkaW5nVW5pZm9ybUxvY2F0aW9uLCBwaXhlbEJvdHRvbVBhZGRpbmcpO1xuXG4gICAgcmVuZGVyTGluZXMoc3RvcmUsIGxpbmVJZHMsIGdsLCBnbE9wdGlvbnMsIGxpbmVzT3BhY2l0eSwgc2tpcExpbmVzKTtcbn07XG5cbmNvbnN0IGdsQ29udGV4dCA9IChzdG9yZSwgbGluZXNPcGFjaXR5LCBjYW52YXMpID0+IHtcbiAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB9XG4gICAgbGV0IGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywge1xuICAgICAgICBhbnRpYWxpYXM6IHRydWUsXG4gICAgICAgIHBvd2VyUHJlZmVyZW5jZTogJ2hpZ2gtcGVyZm9ybWFuY2UnLFxuICAgIH0pO1xuXG4gICAgaWYgKCFnbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBzdXBwb3J0IHdlYmdsJyk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2xPcHRpb25zID0gaW5pdEdsKGdsKTtcblxuICAgIGxldCBjdXJyZW50V2lkdGggPSAwO1xuICAgIGxldCBjdXJyZW50SGVpZ2h0ID0gMDtcbiAgICAvLyBsZXQgY3VycmVudFZpZXdCb3ggPSBudWxsO1xuICAgIGxldCBjdXJyZW50UGl4ZWxSYXRpbyA9IDE7XG5cbiAgICBmaWxsTGluZXNEYXRhKHN0b3JlLCBnbCk7XG5cbiAgICBsZXQgcmVSZW5kZXIgPSAod2lkdGgsIGhlaWdodCwgcGFkZGluZywgbGluZXNPcGFjaXR5LCBwaXhlbFJhdGlvKSA9PiB7XG4gICAgICAgIGNvbnN0IGJvdHRvbVBhZGRpbmcgPSBWSUVXX1NDQUxFUl9TUEFDRSArIENIQVJUX1NDQUxFUl9IRUlHSFQ7XG4gICAgICAgIGNvbnN0IHNjYWxlckJvdHRvbVBhZGRpbmcgPSAyO1xuICAgICAgICBjb25zdCBzY2FsZXJIZWlnaHQgPSBDSEFSVF9TQ0FMRVJfSEVJR0hUIC0gc2NhbGVyQm90dG9tUGFkZGluZztcbiAgICAgICAgLy8gcGl4ZWwgcmF0aW8gY2FuIGNoYW5nZSBpZiBkcmFnIGJyb3dzZXIgd2luZG93IGZyb20gb25lIHNjcmVlbiB0byBhbm90aGVyXG4gICAgICAgIGlmIChjdXJyZW50V2lkdGggIT09IHdpZHRoIHx8IGN1cnJlbnRIZWlnaHQgIT09IGhlaWdodCB8fCBjdXJyZW50UGl4ZWxSYXRpbyAhPT0gcGl4ZWxSYXRpbykge1xuICAgICAgICAgICAgdXBkYXRlU2l6ZShjYW52YXMsIGdsLCB3aWR0aCwgaGVpZ2h0ICsgYm90dG9tUGFkZGluZywgcGl4ZWxSYXRpbywgZ2xPcHRpb25zKTtcblxuICAgICAgICAgICAgY3VycmVudFdpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBjdXJyZW50SGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgY3VycmVudFBpeGVsUmF0aW8gPSBwaXhlbFJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XG5cbiAgICAgICAgY29uc3QgbWFpbkxpbmVXaWR0aCA9IDI7XG4gICAgICAgIGNvbnN0IHNjYWxlckxpbmVXaWR0aCA9IDE7XG5cbiAgICAgICAgY29uc3QgbWFpbkxpbmVJZHMgPSBzdG9yZS55U2NhbGVkID8gW3N0b3JlLmFsbExpbmVJZHNbMF1dIDogc3RvcmUuYWxsTGluZUlkcztcbiAgICAgICAgY29uc3Qgc2tpcExpbmVzID0gMDtcbiAgICAgICAgY29uc3QgcGl4ZWxXaWR0aCA9IHdpZHRoICogcGl4ZWxSYXRpbztcbiAgICAgICAgY29uc3QgcGl4ZWxIZWlnaHQgPSBoZWlnaHQgKiBwaXhlbFJhdGlvO1xuXG4gICAgICAgIGdsLnNjaXNzb3IoMCwgYm90dG9tUGFkZGluZyAqIHBpeGVsUmF0aW8gLSA1LCBwaXhlbFdpZHRoLCBwaXhlbEhlaWdodCk7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICAgIHN0b3JlLCBtYWluTGluZUlkcywgZ2wsIGdsT3B0aW9ucywgc3RvcmUudmlld0JveC5hbmltYXRpb25Cb3gsXG4gICAgICAgICAgICB3aWR0aCwgaGVpZ2h0LCBwYWRkaW5nLCBtYWluTGluZVdpZHRoLFxuICAgICAgICAgICAgbGluZXNPcGFjaXR5LCBwaXhlbFJhdGlvLCBib3R0b21QYWRkaW5nLCBza2lwTGluZXMsXG4gICAgICAgICk7XG5cbiAgICAgICAgZ2wuc2Npc3NvcigwLCAwLCBwaXhlbFdpZHRoLCBDSEFSVF9TQ0FMRVJfSEVJR0hUICogcGl4ZWxSYXRpbyk7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICAgIHN0b3JlLCBtYWluTGluZUlkcywgZ2wsIGdsT3B0aW9ucywgc3RvcmUuZnVsbFZpZXdCb3guYW5pbWF0aW9uQm94LFxuICAgICAgICAgICAgd2lkdGgsIHNjYWxlckhlaWdodCwgcGFkZGluZywgc2NhbGVyTGluZVdpZHRoLFxuICAgICAgICAgICAgbGluZXNPcGFjaXR5LCBwaXhlbFJhdGlvLCBzY2FsZXJCb3R0b21QYWRkaW5nLCBza2lwTGluZXMsXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKHN0b3JlLnlTY2FsZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZGFyeUxpbmVJZHMgPSBbc3RvcmUuYWxsTGluZUlkc1sxXSB8fCBzdG9yZS5hbGxMaW5lSWRzWzBdXTtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZGFyeVNraXBMaW5lcyA9IDE7XG5cbiAgICAgICAgICAgIGdsLnNjaXNzb3IoMCwgYm90dG9tUGFkZGluZyAqIHBpeGVsUmF0aW8gLSA1LCBwaXhlbFdpZHRoLCBwaXhlbEhlaWdodCk7XG4gICAgICAgICAgICByZW5kZXIoXG4gICAgICAgICAgICAgICAgc3RvcmUsIHNlY29uZGFyeUxpbmVJZHMsIGdsLCBnbE9wdGlvbnMsIHN0b3JlLnNlY29uZGFyeVZpZXdCb3guYW5pbWF0aW9uQm94LFxuICAgICAgICAgICAgICAgIHdpZHRoLCBoZWlnaHQsIHBhZGRpbmcsIG1haW5MaW5lV2lkdGgsXG4gICAgICAgICAgICAgICAgbGluZXNPcGFjaXR5LCBwaXhlbFJhdGlvLCBib3R0b21QYWRkaW5nLCBzZWNvbmRhcnlTa2lwTGluZXMsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBnbC5zY2lzc29yKDAsIDAsIHBpeGVsV2lkdGgsIENIQVJUX1NDQUxFUl9IRUlHSFQgKiBwaXhlbFJhdGlvKTtcbiAgICAgICAgICAgIHJlbmRlcihcbiAgICAgICAgICAgICAgICBzdG9yZSwgc2Vjb25kYXJ5TGluZUlkcywgZ2wsIGdsT3B0aW9ucywgc3RvcmUuc2Vjb25kYXJ5RnVsbFZpZXdCb3guYW5pbWF0aW9uQm94LFxuICAgICAgICAgICAgICAgIHdpZHRoLCBzY2FsZXJIZWlnaHQsIHBhZGRpbmcsIHNjYWxlckxpbmVXaWR0aCxcbiAgICAgICAgICAgICAgICBsaW5lc09wYWNpdHksIHBpeGVsUmF0aW8sIHNjYWxlckJvdHRvbVBhZGRpbmcsIHNlY29uZGFyeVNraXBMaW5lcyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2FudmFzO1xuICAgIH07XG5cbiAgICBsZXQgZGVzdHJveSA9ICgpID0+IHtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xuICAgICAgICBjYW52YXMud2lkdGggPSAxO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gMTtcbiAgICAgICAgc3RvcmUgPSBudWxsO1xuICAgICAgICByZVJlbmRlciA9IG51bGw7XG4gICAgICAgIGNhbnZhcyA9IG51bGw7XG4gICAgICAgIGdsID0gbnVsbDtcbiAgICAgICAgZGVzdHJveSA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNhbnZhcyxcbiAgICAgICAgZ2wsXG4gICAgICAgIGRlc3Ryb3ksXG4gICAgICAgIHJlbmRlcjogcmVSZW5kZXIsXG4gICAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGdsQ29udGV4dDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/Webgl/lineGl/glContext.js\n");

/***/ }),

/***/ "./src/chart/Webgl/lineGl/initGl.js":
/*!******************************************!*\
  !*** ./src/chart/Webgl/lineGl/initGl.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _vertexShader_glsl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vertexShader.glsl */ \"./src/chart/Webgl/lineGl/vertexShader.glsl\");\n/* harmony import */ var _fragmentShader_glsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fragmentShader.glsl */ \"./src/chart/Webgl/lineGl/fragmentShader.glsl\");\n\n\n\n\n\nconst loadShader = (gl, type, source) => {\n    const shader = gl.createShader(type);\n\n    // Send the source to the shader object\n    gl.shaderSource(shader, source);\n\n    // Compile the shader program\n    gl.compileShader(shader);\n\n    // See if it compiled successfully\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        gl.deleteShader(shader);\n\n        throw new Error(`An error occurred compiling the shaders: ${gl.getShaderInfoLog(shader)}`);\n    }\n\n    return shader;\n};\n\nconst initShaderProgram = (gl) => {\n    const vertexShader = loadShader(gl, gl.VERTEX_SHADER, _vertexShader_glsl__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n    const fragmentShader = loadShader(gl, gl.FRAGMENT_SHADER, _fragmentShader_glsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n\n    // Create the shader program\n    const shaderProgram = gl.createProgram();\n    gl.attachShader(shaderProgram, vertexShader);\n    gl.attachShader(shaderProgram, fragmentShader);\n    gl.linkProgram(shaderProgram);\n\n    // If creating the shader program failed, alert\n    if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\n        throw new Error(`Unable to initialize the shader program: ${gl.getProgramInfoLog(shaderProgram)}`);\n    }\n\n    return shaderProgram;\n};\n\nconst prepareGl = (gl, shaderProgram, positionAttributeLocation) => {\n    // Create a buffer for the positions.\n    const positionBuffer = gl.createBuffer();\n\n    // Select the positionBuffer as the one to apply buffer\n    // operations to from here out.\n    // Привязываем буфер положений\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.clearColor(0, 0, 0, 0);\n\n    gl.useProgram(shaderProgram);\n\n    // включаем аттрибут\n    gl.enableVertexAttribArray(positionAttributeLocation);\n    // gl.enableVertexAttribArray(shiftAttributeLocation);\n\n\n    // Указываем атрибуту, как получать данные от positionBuffer (ARRAY_BUFFER)\n    const size = 4; // 4 компоненты на итерацию\n    const type = gl.FLOAT; // наши данные - 32-битные числа с плавающей точкой\n    const normalize = false; // не нормализовать данные\n    const stride = 0; // 0 = перемещаться на size * sizeof(type) каждую итерацию для получения следующего положения\n    const offset = 0; // начинать с начала буфера\n    gl.vertexAttribPointer(positionAttributeLocation, size, type, normalize, stride, offset);\n    // gl.vertexAttribPointer(shiftAttributeLocation, size, type, normalize, stride, 2);\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\n    // turn on scissor test\n    gl.enable(gl.SCISSOR_TEST);\n};\n\nconst initialize = (gl) => {\n    const shaderProgram = initShaderProgram(gl);\n    gl.bindAttribLocation(shaderProgram, 2, 'a_position');\n\n    const positionAttributeLocation = gl.getAttribLocation(shaderProgram, 'a_position');\n    const resolutionUniformLocation = gl.getUniformLocation(shaderProgram, 'u_resolution');\n    const scaleStartUniformLocation = gl.getUniformLocation(shaderProgram, 'u_scaleStart');\n    const bottomPaddingUniformLocation = gl.getUniformLocation(shaderProgram, 'u_bottomPadding');\n    const scaleFactorUniformLocation = gl.getUniformLocation(shaderProgram, 'u_scaleFactor');\n    const lineHalfWidthUniformLocation = gl.getUniformLocation(shaderProgram, 'u_lineHalfWidth');\n    const colorUniformLocation = gl.getUniformLocation(shaderProgram, 'u_color');\n\n    prepareGl(gl, shaderProgram, positionAttributeLocation);\n\n    return {\n        shaderProgram,\n        positionAttributeLocation,\n        colorUniformLocation,\n        resolutionUniformLocation,\n        scaleStartUniformLocation,\n        bottomPaddingUniformLocation,\n        scaleFactorUniformLocation,\n        lineHalfWidthUniformLocation,\n    };\n};\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (initialize);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvbGluZUdsL2luaXRHbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9XZWJnbC9saW5lR2wvaW5pdEdsLmpzP2QyN2UiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgdmVydGV4U2hhZGVyU291cmNlIGZyb20gJy4vdmVydGV4U2hhZGVyLmdsc2wnO1xuaW1wb3J0IGZyYWdtZW50U2hhZGVyU291cmNlIGZyb20gJy4vZnJhZ21lbnRTaGFkZXIuZ2xzbCc7XG5cblxuY29uc3QgbG9hZFNoYWRlciA9IChnbCwgdHlwZSwgc291cmNlKSA9PiB7XG4gICAgY29uc3Qgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xuXG4gICAgLy8gU2VuZCB0aGUgc291cmNlIHRvIHRoZSBzaGFkZXIgb2JqZWN0XG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc291cmNlKTtcblxuICAgIC8vIENvbXBpbGUgdGhlIHNoYWRlciBwcm9ncmFtXG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuXG4gICAgLy8gU2VlIGlmIGl0IGNvbXBpbGVkIHN1Y2Nlc3NmdWxseVxuICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcihzaGFkZXIpO1xuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQW4gZXJyb3Igb2NjdXJyZWQgY29tcGlsaW5nIHRoZSBzaGFkZXJzOiAke2dsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKX1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2hhZGVyO1xufTtcblxuY29uc3QgaW5pdFNoYWRlclByb2dyYW0gPSAoZ2wpID0+IHtcbiAgICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSBsb2FkU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCB2ZXJ0ZXhTaGFkZXJTb3VyY2UpO1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyID0gbG9hZFNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNoYWRlclNvdXJjZSk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIHNoYWRlciBwcm9ncmFtXG4gICAgY29uc3Qgc2hhZGVyUHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIoc2hhZGVyUHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIoc2hhZGVyUHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xuICAgIGdsLmxpbmtQcm9ncmFtKHNoYWRlclByb2dyYW0pO1xuXG4gICAgLy8gSWYgY3JlYXRpbmcgdGhlIHNoYWRlciBwcm9ncmFtIGZhaWxlZCwgYWxlcnRcbiAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIoc2hhZGVyUHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGluaXRpYWxpemUgdGhlIHNoYWRlciBwcm9ncmFtOiAke2dsLmdldFByb2dyYW1JbmZvTG9nKHNoYWRlclByb2dyYW0pfWApO1xuICAgIH1cblxuICAgIHJldHVybiBzaGFkZXJQcm9ncmFtO1xufTtcblxuY29uc3QgcHJlcGFyZUdsID0gKGdsLCBzaGFkZXJQcm9ncmFtLCBwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uKSA9PiB7XG4gICAgLy8gQ3JlYXRlIGEgYnVmZmVyIGZvciB0aGUgcG9zaXRpb25zLlxuICAgIGNvbnN0IHBvc2l0aW9uQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG5cbiAgICAvLyBTZWxlY3QgdGhlIHBvc2l0aW9uQnVmZmVyIGFzIHRoZSBvbmUgdG8gYXBwbHkgYnVmZmVyXG4gICAgLy8gb3BlcmF0aW9ucyB0byBmcm9tIGhlcmUgb3V0LlxuICAgIC8vINCf0YDQuNCy0Y/Qt9GL0LLQsNC10Lwg0LHRg9GE0LXRgCDQv9C+0LvQvtC20LXQvdC40LlcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIpO1xuICAgIGdsLmNsZWFyQ29sb3IoMCwgMCwgMCwgMCk7XG5cbiAgICBnbC51c2VQcm9ncmFtKHNoYWRlclByb2dyYW0pO1xuXG4gICAgLy8g0LLQutC70Y7Rh9Cw0LXQvCDQsNGC0YLRgNC40LHRg9GCXG4gICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbik7XG4gICAgLy8gZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoc2hpZnRBdHRyaWJ1dGVMb2NhdGlvbik7XG5cblxuICAgIC8vINCj0LrQsNC30YvQstCw0LXQvCDQsNGC0YDQuNCx0YPRgtGDLCDQutCw0Log0L/QvtC70YPRh9Cw0YLRjCDQtNCw0L3QvdGL0LUg0L7RgiBwb3NpdGlvbkJ1ZmZlciAoQVJSQVlfQlVGRkVSKVxuICAgIGNvbnN0IHNpemUgPSA0OyAvLyA0INC60L7QvNC/0L7QvdC10L3RgtGLINC90LAg0LjRgtC10YDQsNGG0LjRjlxuICAgIGNvbnN0IHR5cGUgPSBnbC5GTE9BVDsgLy8g0L3QsNGI0Lgg0LTQsNC90L3Ri9C1IC0gMzIt0LHQuNGC0L3Ri9C1INGH0LjRgdC70LAg0YEg0L/Qu9Cw0LLQsNGO0YnQtdC5INGC0L7Rh9C60L7QuVxuICAgIGNvbnN0IG5vcm1hbGl6ZSA9IGZhbHNlOyAvLyDQvdC1INC90L7RgNC80LDQu9C40LfQvtCy0LDRgtGMINC00LDQvdC90YvQtVxuICAgIGNvbnN0IHN0cmlkZSA9IDA7IC8vIDAgPSDQv9C10YDQtdC80LXRidCw0YLRjNGB0Y8g0L3QsCBzaXplICogc2l6ZW9mKHR5cGUpINC60LDQttC00YPRjiDQuNGC0LXRgNCw0YbQuNGOINC00LvRjyDQv9C+0LvRg9GH0LXQvdC40Y8g0YHQu9C10LTRg9GO0YnQtdCz0L4g0L/QvtC70L7QttC10L3QuNGPXG4gICAgY29uc3Qgb2Zmc2V0ID0gMDsgLy8g0L3QsNGH0LjQvdCw0YLRjCDRgSDQvdCw0YfQsNC70LAg0LHRg9GE0LXRgNCwXG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uLCBzaXplLCB0eXBlLCBub3JtYWxpemUsIHN0cmlkZSwgb2Zmc2V0KTtcbiAgICAvLyBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHNoaWZ0QXR0cmlidXRlTG9jYXRpb24sIHNpemUsIHR5cGUsIG5vcm1hbGl6ZSwgc3RyaWRlLCAyKTtcbiAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xuICAgIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xuXG4gICAgLy8gdHVybiBvbiBzY2lzc29yIHRlc3RcbiAgICBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbn07XG5cbmNvbnN0IGluaXRpYWxpemUgPSAoZ2wpID0+IHtcbiAgICBjb25zdCBzaGFkZXJQcm9ncmFtID0gaW5pdFNoYWRlclByb2dyYW0oZ2wpO1xuICAgIGdsLmJpbmRBdHRyaWJMb2NhdGlvbihzaGFkZXJQcm9ncmFtLCAyLCAnYV9wb3NpdGlvbicpO1xuXG4gICAgY29uc3QgcG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHNoYWRlclByb2dyYW0sICdhX3Bvc2l0aW9uJyk7XG4gICAgY29uc3QgcmVzb2x1dGlvblVuaWZvcm1Mb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCAndV9yZXNvbHV0aW9uJyk7XG4gICAgY29uc3Qgc2NhbGVTdGFydFVuaWZvcm1Mb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCAndV9zY2FsZVN0YXJ0Jyk7XG4gICAgY29uc3QgYm90dG9tUGFkZGluZ1VuaWZvcm1Mb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCAndV9ib3R0b21QYWRkaW5nJyk7XG4gICAgY29uc3Qgc2NhbGVGYWN0b3JVbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgJ3Vfc2NhbGVGYWN0b3InKTtcbiAgICBjb25zdCBsaW5lSGFsZldpZHRoVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sICd1X2xpbmVIYWxmV2lkdGgnKTtcbiAgICBjb25zdCBjb2xvclVuaWZvcm1Mb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCAndV9jb2xvcicpO1xuXG4gICAgcHJlcGFyZUdsKGdsLCBzaGFkZXJQcm9ncmFtLCBwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHNoYWRlclByb2dyYW0sXG4gICAgICAgIHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24sXG4gICAgICAgIGNvbG9yVW5pZm9ybUxvY2F0aW9uLFxuICAgICAgICByZXNvbHV0aW9uVW5pZm9ybUxvY2F0aW9uLFxuICAgICAgICBzY2FsZVN0YXJ0VW5pZm9ybUxvY2F0aW9uLFxuICAgICAgICBib3R0b21QYWRkaW5nVW5pZm9ybUxvY2F0aW9uLFxuICAgICAgICBzY2FsZUZhY3RvclVuaWZvcm1Mb2NhdGlvbixcbiAgICAgICAgbGluZUhhbGZXaWR0aFVuaWZvcm1Mb2NhdGlvbixcbiAgICB9O1xufTtcblxuXG5leHBvcnQgZGVmYXVsdCBpbml0aWFsaXplO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/Webgl/lineGl/initGl.js\n");

/***/ }),

/***/ "./src/chart/Webgl/lineGl/vertexShader.glsl":
/*!**************************************************!*\
  !*** ./src/chart/Webgl/lineGl/vertexShader.glsl ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\nattribute vec4 a_position;\\n\\nuniform vec4 u_color;\\n\\nuniform vec2 u_resolution;\\n\\nuniform float u_scaleStart;\\n\\nuniform float u_bottomPadding;\\n\\nuniform vec2 u_scaleFactor;\\n\\nuniform float u_lineHalfWidth;\\n\\nvarying vec4 v_color;\\n \\nvoid main() {\\n    vec2 position = vec2(a_position);\\n    vec2 shift = vec2(a_position[2], a_position[3]);\\n\\n    position.x = position.x - u_scaleStart;\\n\\n    vec2 pixelPosition = position * u_scaleFactor;\\n    vec2 pixelShift = shift * u_scaleFactor;\\n\\n    pixelPosition.y = pixelPosition.y + u_bottomPadding;\\n\\n    float shiftY = sqrt(\\n        (pow(u_lineHalfWidth, 2.0) * pow(pixelShift.x, 2.0)) /\\n        (pow(pixelShift.x, 2.0) + pow(pixelShift.y, 2.0))\\n    );\\n\\n    if (pixelShift.y > 0.0) {\\n        shiftY = -shiftY;\\n    }\\n\\n    float shiftX = sqrt(\\n        (pow(u_lineHalfWidth, 2.0) * pow(pixelShift.y, 2.0)) /\\n        (pow(pixelShift.x, 2.0) + pow(pixelShift.y, 2.0))\\n    );\\n\\n    if (pixelShift.x < 0.0) {\\n        shiftX = -shiftX;\\n    }\\n\\n    if (pixelShift.x < 0.0 && pixelShift.y == 0.0) {\\n        shiftY = -shiftY;\\n    }\\n\\n    vec2 pointPosition = pixelPosition + vec2(shiftX, shiftY);\\n\\n    vec2 zeroToOne = pointPosition / u_resolution;\\n    \\n\\n    vec2 zeroToTwo = zeroToOne * 2.0;\\n\\n    vec2 clipSpace = zeroToTwo - 1.0;\\n\\n    gl_Position = vec4(clipSpace, 0, 1);\\n\\n    v_color = u_color;\\n}\\n\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvbGluZUdsL3ZlcnRleFNoYWRlci5nbHNsLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJ0L1dlYmdsL2xpbmVHbC92ZXJ0ZXhTaGFkZXIuZ2xzbD9mYTNiIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiXFxuYXR0cmlidXRlIHZlYzQgYV9wb3NpdGlvbjtcXG5cXG51bmlmb3JtIHZlYzQgdV9jb2xvcjtcXG5cXG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xcblxcbnVuaWZvcm0gZmxvYXQgdV9zY2FsZVN0YXJ0O1xcblxcbnVuaWZvcm0gZmxvYXQgdV9ib3R0b21QYWRkaW5nO1xcblxcbnVuaWZvcm0gdmVjMiB1X3NjYWxlRmFjdG9yO1xcblxcbnVuaWZvcm0gZmxvYXQgdV9saW5lSGFsZldpZHRoO1xcblxcbnZhcnlpbmcgdmVjNCB2X2NvbG9yO1xcbiBcXG52b2lkIG1haW4oKSB7XFxuICAgIHZlYzIgcG9zaXRpb24gPSB2ZWMyKGFfcG9zaXRpb24pO1xcbiAgICB2ZWMyIHNoaWZ0ID0gdmVjMihhX3Bvc2l0aW9uWzJdLCBhX3Bvc2l0aW9uWzNdKTtcXG5cXG4gICAgcG9zaXRpb24ueCA9IHBvc2l0aW9uLnggLSB1X3NjYWxlU3RhcnQ7XFxuXFxuICAgIHZlYzIgcGl4ZWxQb3NpdGlvbiA9IHBvc2l0aW9uICogdV9zY2FsZUZhY3RvcjtcXG4gICAgdmVjMiBwaXhlbFNoaWZ0ID0gc2hpZnQgKiB1X3NjYWxlRmFjdG9yO1xcblxcbiAgICBwaXhlbFBvc2l0aW9uLnkgPSBwaXhlbFBvc2l0aW9uLnkgKyB1X2JvdHRvbVBhZGRpbmc7XFxuXFxuICAgIGZsb2F0IHNoaWZ0WSA9IHNxcnQoXFxuICAgICAgICAocG93KHVfbGluZUhhbGZXaWR0aCwgMi4wKSAqIHBvdyhwaXhlbFNoaWZ0LngsIDIuMCkpIC9cXG4gICAgICAgIChwb3cocGl4ZWxTaGlmdC54LCAyLjApICsgcG93KHBpeGVsU2hpZnQueSwgMi4wKSlcXG4gICAgKTtcXG5cXG4gICAgaWYgKHBpeGVsU2hpZnQueSA+IDAuMCkge1xcbiAgICAgICAgc2hpZnRZID0gLXNoaWZ0WTtcXG4gICAgfVxcblxcbiAgICBmbG9hdCBzaGlmdFggPSBzcXJ0KFxcbiAgICAgICAgKHBvdyh1X2xpbmVIYWxmV2lkdGgsIDIuMCkgKiBwb3cocGl4ZWxTaGlmdC55LCAyLjApKSAvXFxuICAgICAgICAocG93KHBpeGVsU2hpZnQueCwgMi4wKSArIHBvdyhwaXhlbFNoaWZ0LnksIDIuMCkpXFxuICAgICk7XFxuXFxuICAgIGlmIChwaXhlbFNoaWZ0LnggPCAwLjApIHtcXG4gICAgICAgIHNoaWZ0WCA9IC1zaGlmdFg7XFxuICAgIH1cXG5cXG4gICAgaWYgKHBpeGVsU2hpZnQueCA8IDAuMCAmJiBwaXhlbFNoaWZ0LnkgPT0gMC4wKSB7XFxuICAgICAgICBzaGlmdFkgPSAtc2hpZnRZO1xcbiAgICB9XFxuXFxuICAgIHZlYzIgcG9pbnRQb3NpdGlvbiA9IHBpeGVsUG9zaXRpb24gKyB2ZWMyKHNoaWZ0WCwgc2hpZnRZKTtcXG5cXG4gICAgdmVjMiB6ZXJvVG9PbmUgPSBwb2ludFBvc2l0aW9uIC8gdV9yZXNvbHV0aW9uO1xcbiAgICBcXG5cXG4gICAgdmVjMiB6ZXJvVG9Ud28gPSB6ZXJvVG9PbmUgKiAyLjA7XFxuXFxuICAgIHZlYzIgY2xpcFNwYWNlID0gemVyb1RvVHdvIC0gMS4wO1xcblxcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoY2xpcFNwYWNlLCAwLCAxKTtcXG5cXG4gICAgdl9jb2xvciA9IHVfY29sb3I7XFxufVxcblwiIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/Webgl/lineGl/vertexShader.glsl\n");

/***/ }),

/***/ "./src/chart/Webgl/pieGl/fragmentShader.glsl":
/*!***************************************************!*\
  !*** ./src/chart/Webgl/pieGl/fragmentShader.glsl ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"precision mediump float;\\n\\nvarying vec4 v_color;\\n\\nvoid main() {\\n    gl_FragColor = v_color;\\n}\\n\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvcGllR2wvZnJhZ21lbnRTaGFkZXIuZ2xzbC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9XZWJnbC9waWVHbC9mcmFnbWVudFNoYWRlci5nbHNsP2Y5ZmMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG5cXG52YXJ5aW5nIHZlYzQgdl9jb2xvcjtcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHZfY29sb3I7XFxufVxcblwiIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/Webgl/pieGl/fragmentShader.glsl\n");

/***/ }),

/***/ "./src/chart/Webgl/pieGl/glContext.js":
/*!********************************************!*\
  !*** ./src/chart/Webgl/pieGl/glContext.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _initGl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./initGl */ \"./src/chart/Webgl/pieGl/initGl.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../constants */ \"./src/chart/constants.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers */ \"./src/chart/Webgl/helpers.js\");\n\n\n\n\nconst VERTEX_PER_POINT = 4;\nconst VALUES_PER_VERTEX = 2;\nconst PIE_POINT_COUNT = 3000;\n\nconst addPiePositions = (store, positions) => {\n    const pixelRatio = Object(_helpers__WEBPACK_IMPORTED_MODULE_2__[\"getPixelRatio\"])();\n\n    const [[width, height]] = store.size;\n    const radius = Math.min(width, height) * pixelRatio / 1.5;\n    const pi = Math.PI;\n\n\n    positions.push(0, 0);\n\n    for (let i = 0; i < PIE_POINT_COUNT; i++) {\n        const rad = pi * i * 2 / PIE_POINT_COUNT;\n\n        const x = radius * Math.sin(rad);\n        const y = radius * Math.cos(rad);\n\n        positions.push(x, y, 0, 0);\n    }\n\n    positions.push(0, radius, 0, 0);\n};\n\nconst getDefaultPositions = (store, points, allLineIds, barsHeight) => {\n    const positions = [];\n    const previousBarY = [];\n    const pointsLength = points.length;\n\n    for (let j = 0; j < allLineIds.length; j++) {\n        const lineId = allLineIds[j];\n\n        const barHeight = barsHeight[lineId];\n\n        for (let i = 0; i < pointsLength; i++) {\n            const previousY = previousBarY[i] || 0;\n            const pointY = points[i].lines[lineId];\n            const currentY = previousY + (pointY * barHeight);\n\n            const positionX = i;\n\n            positions.push(\n                positionX - 0.5, currentY,\n                positionX - 0.5, previousY,\n                positionX + 0.5, currentY,\n                positionX + 0.5, previousY,\n            );\n\n            previousBarY[i] = currentY;\n        }\n    }\n\n    addPiePositions(store, positions);\n\n    return positions;\n};\n\nconst updatePositions = (positions, points, allLineIds, barsHeight) => {\n    const previousBarY = [];\n    const pointsLength = points.length;\n\n    for (let j = 0; j < allLineIds.length; j++) {\n        const lineId = allLineIds[j];\n\n        const barHeight = barsHeight[lineId];\n\n        const offset = j * VERTEX_PER_POINT * VALUES_PER_VERTEX * pointsLength;\n\n        for (let i = 0; i < pointsLength; i++) {\n            const previousY = previousBarY[i] || 0;\n\n            const pointY = points[i].lines[lineId];\n            const currentY = previousY + (pointY * barHeight);\n\n            const start = offset + (VERTEX_PER_POINT * VALUES_PER_VERTEX * i) - 1;\n\n            positions[start + (VALUES_PER_VERTEX * 1)] = currentY;\n            positions[start + (VALUES_PER_VERTEX * 2)] = previousY;\n            positions[start + (VALUES_PER_VERTEX * 3)] = currentY;\n            positions[start + (VALUES_PER_VERTEX * 4)] = previousY;\n\n            previousBarY[i] = currentY;\n        }\n    }\n\n    return positions;\n};\n\nconst fillLinesData = (store, gl, positions = null, barsHeight) => {\n    const {points, allLineIds} = store;\n\n    if (!positions) {\n        positions = getDefaultPositions(store, points, allLineIds, barsHeight);\n    } else {\n        positions = updatePositions(positions, points, allLineIds, barsHeight);\n    }\n\n    gl.bufferData(\n        gl.ARRAY_BUFFER,\n        new Float32Array(positions),\n        gl.STATIC_DRAW,\n    );\n\n    return positions;\n};\n\nconst updateSize = (canvas, gl, width, height, pixelRatio, {barOptions, pieOptions}) => {\n    const renderWidth = width * pixelRatio;\n    const renderHeight = height * pixelRatio;\n\n    canvas.style.width = `${width}px`;\n    canvas.style.height = `${height}px`;\n    canvas.width = renderWidth;\n    canvas.height = renderHeight;\n\n    gl.viewport(0, 0, renderWidth, renderHeight);\n\n    // установка разрешения\n    gl.useProgram(barOptions.shaderProgram);\n    gl.uniform2f(barOptions.resolutionUniformLocation, renderWidth, renderHeight);\n    gl.useProgram(pieOptions.shaderProgram);\n    gl.uniform2f(pieOptions.resolutionUniformLocation, renderWidth, renderHeight);\n};\n\nconst renderLines = (store, gl, glOptions) => {\n    const {points, allLineIds} = store;\n\n    const pointsCount = points.length;\n\n    for (let j = 0; j < allLineIds.length; j++) {\n        const lineId = allLineIds[j];\n\n\n        const [red, green, blue] = store.rgbaColorsWebgl[lineId];\n\n        const {colorUniformLocation} = glOptions;\n\n        gl.uniform4f(colorUniformLocation, red, green, blue, 1);\n\n        const primitiveType = gl.TRIANGLE_STRIP;\n        const count = pointsCount * VERTEX_PER_POINT;\n        const offset = count * j;\n        gl.drawArrays(primitiveType, offset, count);\n    }\n};\n\nconst renderBar = (\n    store, gl, glOptions, viewBox,\n    width, height, padding,\n    pixelRatio, bottomPadding,\n) => {\n    const {\n        scaleFactorUniformLocation,\n        scaleStartUniformLocation,\n        bottomPaddingUniformLocation,\n        shaderProgram,\n    } = glOptions;\n    let {scaleStartPoint, scaleEndPoint} = viewBox;\n    const {minY, maxY} = viewBox;\n\n    scaleStartPoint -= 0.5;\n    scaleEndPoint += 0.5;\n\n    const pixelWidth = (width - (padding * 2)) * pixelRatio;\n    const pixelHeight = height * pixelRatio;\n\n    const indexWidth = scaleEndPoint - scaleStartPoint;\n    // если чисто горизонтальная линия\n    const originalHeight = maxY === minY ? 1 : maxY - minY;\n\n    const factorX = pixelWidth / indexWidth;\n    const factorY = pixelHeight / originalHeight;\n\n    const pixelMinY = minY * factorY;\n\n    const pixelBottomPadding = (bottomPadding * pixelRatio) - pixelMinY;\n\n    gl.useProgram(shaderProgram);\n\n    gl.uniform2f(scaleFactorUniformLocation, factorX, factorY);\n    gl.uniform1f(scaleStartUniformLocation, scaleStartPoint - (pixelRatio * padding / factorX));\n    gl.uniform1f(bottomPaddingUniformLocation, pixelBottomPadding);\n\n    renderLines(store, gl, glOptions);\n};\n\n\nconst updatePieNumbers = (store, pieNumbers, width, height, totalValue, linesValues) => {\n    if (!pieNumbers) {\n        return;\n    }\n    const {allLineIds, lineIds} = store;\n    const {node, items} = pieNumbers;\n\n    node.style.transform = `translate(${width / 2}px, ${height / 2}px)`;\n    const radius = Math.min(width, height) / 3.3;\n    const pi = Math.PI;\n\n    let parts = 0;\n\n    allLineIds.forEach((lineId) => {\n        const lineValue = linesValues[lineId];\n        const item = items[lineId];\n\n        if (lineIds.includes(lineId)) {\n            item.node.style.opacity = 1;\n        } else {\n            item.node.style.opacity = 0;\n        }\n\n        // console.log(parts);\n        const part = lineValue / totalValue;\n        const halfPart = part / 2;\n        const itemPart = parts + halfPart;\n        const deg = pi * 2 * itemPart;\n        const left = radius * Math.sin(deg);\n        const top = -radius * Math.cos(deg);\n        const scale = (part + 1) * 1.6;\n\n        item.node.style.transform = `translate(${left}px, ${top}px)`;\n        item.textNode.style.transform = `scale(${scale}, ${scale})`;\n\n        const percent = Math.round(part * 100);\n\n        item.text.textContent = `${percent}%`;\n\n        parts += part;\n    });\n};\n\nconst renderPie = (\n    store, gl, glOptions, viewBox,\n    width, height, padding,\n    pixelRatio, bottomPadding, barsHeight, pieNumbers,\n) => {\n    const {scaleStartPoint, scaleEndPoint} = viewBox;\n    const {minY, maxY} = viewBox;\n\n\n    const pixelWidth = (width - (padding * 2)) * pixelRatio;\n    const pixelHeight = height * pixelRatio;\n\n    const indexWidth = scaleEndPoint - scaleStartPoint;\n    // если чисто горизонтальная линия\n    const originalHeight = maxY === minY ? 1 : maxY - minY;\n\n    // const factorX = pixelWidth / indexWidth;\n    const factorY = pixelHeight / originalHeight;\n\n    const pixelMinY = minY * factorY;\n\n    const pixelBottomPadding = (bottomPadding * pixelRatio) - pixelMinY;\n\n    const {points, allLineIds} = store;\n    const startIndex = Math.max(0, Math.round(scaleStartPoint));\n    const endIndex = Math.min(points.length - 1, Math.round(scaleEndPoint));\n\n    let totalValue = 0;\n    const linesValues = allLineIds.reduce((acc, lineId) => Object.assign(acc, {[lineId]: 0}), {});\n\n    const allBarsHidden = allLineIds.every(lineId => barsHeight[lineId] <= 0);\n\n    if (allBarsHidden) {\n        return;\n    }\n\n    allLineIds.forEach((lineId) => {\n        const lineFactor = barsHeight[lineId];\n        for (let i = startIndex; i <= endIndex; i++) {\n            const point = points[i];\n            const val = point.lines[lineId] * lineFactor;\n\n            totalValue += val;\n            linesValues[lineId] += val;\n        }\n    });\n\n    updatePieNumbers(store, pieNumbers, width, height, totalValue, linesValues);\n\n    const {\n        bottomPaddingUniformLocation,\n        shaderProgram,\n    } = glOptions;\n\n    const pointsCount = store.points.length;\n    const {colorUniformLocation} = glOptions;\n\n    gl.useProgram(shaderProgram);\n\n    gl.uniform1f(bottomPaddingUniformLocation, pixelBottomPadding);\n\n    const totalPointsCount = PIE_POINT_COUNT * 2 + 2;\n    // const count = PIE_POINT_COUNT * 2 + 2;\n    const offset = pointsCount * VERTEX_PER_POINT * store.allLineIds.length;\n    const primitiveType = gl.TRIANGLE_STRIP;\n\n    let partOffset = offset;\n\n    for (let i = 0; i < allLineIds.length; i++) {\n        const lineId = allLineIds[i];\n\n        let count = Math.round(totalPointsCount * linesValues[lineId] / totalValue);\n\n        if (count === 0) {\n            continue;\n        }\n\n        count += 2;\n\n        if (partOffset + count > totalPointsCount + offset) {\n            count = totalPointsCount + offset - partOffset;\n        }\n\n        const [red, green, blue] = store.rgbaColorsWebgl[lineId];\n\n        gl.uniform4f(colorUniformLocation, red, green, blue, 1);\n\n        gl.drawArrays(primitiveType, partOffset, count);\n\n        partOffset += count - 2;\n    }\n\n    if (partOffset < totalPointsCount + offset) {\n        for (let i = allLineIds.length - 1; i >= 0; i--) {\n            const lineId = allLineIds[i];\n\n            if (linesValues[lineId] > 0) {\n                const [red, green, blue] = store.rgbaColorsWebgl[lineId];\n                gl.uniform4f(colorUniformLocation, red, green, blue, 1);\n                const count = totalPointsCount + offset - partOffset;\n\n                gl.drawArrays(primitiveType, partOffset, count);\n\n                break;\n            }\n        }\n    }\n\n    // gl.drawArrays(primitiveType, offset, count);\n};\n\nconst glContext = (store, barsHeight, canvas) => {\n    if (!canvas) {\n        canvas = document.createElement('canvas');\n    }\n    let gl = canvas.getContext('webgl', {\n        antialias: true,\n        powerPreference: 'high-performance',\n    });\n\n    if (!gl) {\n        throw new Error('not support webgl');\n    }\n\n    const {barOptions, pieOptions} = Object(_initGl__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(gl);\n\n    let currentWidth = 0;\n    let currentHeight = 0;\n    let currentPixelRatio = 1;\n\n    const positions = fillLinesData(store, gl, null, barsHeight);\n\n    const updateChartData = () => {\n        fillLinesData(store, gl, positions, barsHeight);\n    };\n\n    let reRender = (width, height, padding, linesOpacity, pixelRatio, someparam, pieNumbers) => {\n        const bottomPadding = _constants__WEBPACK_IMPORTED_MODULE_1__[\"VIEW_SCALER_SPACE\"] + _constants__WEBPACK_IMPORTED_MODULE_1__[\"CHART_SCALER_HEIGHT\"];\n        const scalerBottomPadding = 0;\n        const scalerHeight = _constants__WEBPACK_IMPORTED_MODULE_1__[\"CHART_SCALER_HEIGHT\"] - scalerBottomPadding;\n\n        // pixel ratio can change if drag browser window from one screen to another\n        if (currentWidth !== width || currentHeight !== height || currentPixelRatio !== pixelRatio) {\n            updateSize(canvas, gl, width, height + bottomPadding, pixelRatio, {barOptions, pieOptions});\n\n            currentWidth = width;\n            currentHeight = height;\n            currentPixelRatio = pixelRatio;\n        }\n\n        const pixelWidth = width * pixelRatio;\n        const pixelHeight = height * pixelRatio;\n\n        gl.scissor(0, 0, pixelWidth, _constants__WEBPACK_IMPORTED_MODULE_1__[\"CHART_SCALER_HEIGHT\"] * pixelRatio);\n        renderBar(\n            store, gl, barOptions, store.fullViewBox.animationBox,\n            width, scalerHeight, padding,\n            pixelRatio, scalerBottomPadding,\n        );\n\n        gl.scissor(0, bottomPadding * pixelRatio, pixelWidth, pixelHeight);\n        renderPie(\n            store, gl, pieOptions, store.viewBox.animationBox,\n            width, height, padding,\n            pixelRatio, bottomPadding, barsHeight, pieNumbers,\n        );\n\n        return canvas;\n    };\n\n    let destroy = () => {\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        canvas.width = 1;\n        canvas.height = 1;\n        store = null;\n        reRender = null;\n        canvas = null;\n        gl = null;\n        destroy = null;\n    };\n\n    return {\n        canvas,\n        gl,\n        destroy,\n        updateChartData,\n        render: reRender,\n    };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (glContext);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvcGllR2wvZ2xDb250ZXh0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJ0L1dlYmdsL3BpZUdsL2dsQ29udGV4dC5qcz8zMDExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpbml0R2wgZnJvbSAnLi9pbml0R2wnO1xuaW1wb3J0IHtWSUVXX1NDQUxFUl9TUEFDRSwgQ0hBUlRfU0NBTEVSX0hFSUdIVH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcbmltcG9ydCB7Z2V0UGl4ZWxSYXRpb30gZnJvbSAnLi4vaGVscGVycyc7XG5cbmNvbnN0IFZFUlRFWF9QRVJfUE9JTlQgPSA0O1xuY29uc3QgVkFMVUVTX1BFUl9WRVJURVggPSAyO1xuY29uc3QgUElFX1BPSU5UX0NPVU5UID0gMzAwMDtcblxuY29uc3QgYWRkUGllUG9zaXRpb25zID0gKHN0b3JlLCBwb3NpdGlvbnMpID0+IHtcbiAgICBjb25zdCBwaXhlbFJhdGlvID0gZ2V0UGl4ZWxSYXRpbygpO1xuXG4gICAgY29uc3QgW1t3aWR0aCwgaGVpZ2h0XV0gPSBzdG9yZS5zaXplO1xuICAgIGNvbnN0IHJhZGl1cyA9IE1hdGgubWluKHdpZHRoLCBoZWlnaHQpICogcGl4ZWxSYXRpbyAvIDEuNTtcbiAgICBjb25zdCBwaSA9IE1hdGguUEk7XG5cblxuICAgIHBvc2l0aW9ucy5wdXNoKDAsIDApO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBQSUVfUE9JTlRfQ09VTlQ7IGkrKykge1xuICAgICAgICBjb25zdCByYWQgPSBwaSAqIGkgKiAyIC8gUElFX1BPSU5UX0NPVU5UO1xuXG4gICAgICAgIGNvbnN0IHggPSByYWRpdXMgKiBNYXRoLnNpbihyYWQpO1xuICAgICAgICBjb25zdCB5ID0gcmFkaXVzICogTWF0aC5jb3MocmFkKTtcblxuICAgICAgICBwb3NpdGlvbnMucHVzaCh4LCB5LCAwLCAwKTtcbiAgICB9XG5cbiAgICBwb3NpdGlvbnMucHVzaCgwLCByYWRpdXMsIDAsIDApO1xufTtcblxuY29uc3QgZ2V0RGVmYXVsdFBvc2l0aW9ucyA9IChzdG9yZSwgcG9pbnRzLCBhbGxMaW5lSWRzLCBiYXJzSGVpZ2h0KSA9PiB7XG4gICAgY29uc3QgcG9zaXRpb25zID0gW107XG4gICAgY29uc3QgcHJldmlvdXNCYXJZID0gW107XG4gICAgY29uc3QgcG9pbnRzTGVuZ3RoID0gcG9pbnRzLmxlbmd0aDtcblxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgYWxsTGluZUlkcy5sZW5ndGg7IGorKykge1xuICAgICAgICBjb25zdCBsaW5lSWQgPSBhbGxMaW5lSWRzW2pdO1xuXG4gICAgICAgIGNvbnN0IGJhckhlaWdodCA9IGJhcnNIZWlnaHRbbGluZUlkXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50c0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c1kgPSBwcmV2aW91c0JhcllbaV0gfHwgMDtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50WSA9IHBvaW50c1tpXS5saW5lc1tsaW5lSWRdO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFkgPSBwcmV2aW91c1kgKyAocG9pbnRZICogYmFySGVpZ2h0KTtcblxuICAgICAgICAgICAgY29uc3QgcG9zaXRpb25YID0gaTtcblxuICAgICAgICAgICAgcG9zaXRpb25zLnB1c2goXG4gICAgICAgICAgICAgICAgcG9zaXRpb25YIC0gMC41LCBjdXJyZW50WSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvblggLSAwLjUsIHByZXZpb3VzWSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvblggKyAwLjUsIGN1cnJlbnRZLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uWCArIDAuNSwgcHJldmlvdXNZLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcHJldmlvdXNCYXJZW2ldID0gY3VycmVudFk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRQaWVQb3NpdGlvbnMoc3RvcmUsIHBvc2l0aW9ucyk7XG5cbiAgICByZXR1cm4gcG9zaXRpb25zO1xufTtcblxuY29uc3QgdXBkYXRlUG9zaXRpb25zID0gKHBvc2l0aW9ucywgcG9pbnRzLCBhbGxMaW5lSWRzLCBiYXJzSGVpZ2h0KSA9PiB7XG4gICAgY29uc3QgcHJldmlvdXNCYXJZID0gW107XG4gICAgY29uc3QgcG9pbnRzTGVuZ3RoID0gcG9pbnRzLmxlbmd0aDtcblxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgYWxsTGluZUlkcy5sZW5ndGg7IGorKykge1xuICAgICAgICBjb25zdCBsaW5lSWQgPSBhbGxMaW5lSWRzW2pdO1xuXG4gICAgICAgIGNvbnN0IGJhckhlaWdodCA9IGJhcnNIZWlnaHRbbGluZUlkXTtcblxuICAgICAgICBjb25zdCBvZmZzZXQgPSBqICogVkVSVEVYX1BFUl9QT0lOVCAqIFZBTFVFU19QRVJfVkVSVEVYICogcG9pbnRzTGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzWSA9IHByZXZpb3VzQmFyWVtpXSB8fCAwO1xuXG4gICAgICAgICAgICBjb25zdCBwb2ludFkgPSBwb2ludHNbaV0ubGluZXNbbGluZUlkXTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRZID0gcHJldmlvdXNZICsgKHBvaW50WSAqIGJhckhlaWdodCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gb2Zmc2V0ICsgKFZFUlRFWF9QRVJfUE9JTlQgKiBWQUxVRVNfUEVSX1ZFUlRFWCAqIGkpIC0gMTtcblxuICAgICAgICAgICAgcG9zaXRpb25zW3N0YXJ0ICsgKFZBTFVFU19QRVJfVkVSVEVYICogMSldID0gY3VycmVudFk7XG4gICAgICAgICAgICBwb3NpdGlvbnNbc3RhcnQgKyAoVkFMVUVTX1BFUl9WRVJURVggKiAyKV0gPSBwcmV2aW91c1k7XG4gICAgICAgICAgICBwb3NpdGlvbnNbc3RhcnQgKyAoVkFMVUVTX1BFUl9WRVJURVggKiAzKV0gPSBjdXJyZW50WTtcbiAgICAgICAgICAgIHBvc2l0aW9uc1tzdGFydCArIChWQUxVRVNfUEVSX1ZFUlRFWCAqIDQpXSA9IHByZXZpb3VzWTtcblxuICAgICAgICAgICAgcHJldmlvdXNCYXJZW2ldID0gY3VycmVudFk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcG9zaXRpb25zO1xufTtcblxuY29uc3QgZmlsbExpbmVzRGF0YSA9IChzdG9yZSwgZ2wsIHBvc2l0aW9ucyA9IG51bGwsIGJhcnNIZWlnaHQpID0+IHtcbiAgICBjb25zdCB7cG9pbnRzLCBhbGxMaW5lSWRzfSA9IHN0b3JlO1xuXG4gICAgaWYgKCFwb3NpdGlvbnMpIHtcbiAgICAgICAgcG9zaXRpb25zID0gZ2V0RGVmYXVsdFBvc2l0aW9ucyhzdG9yZSwgcG9pbnRzLCBhbGxMaW5lSWRzLCBiYXJzSGVpZ2h0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwb3NpdGlvbnMgPSB1cGRhdGVQb3NpdGlvbnMocG9zaXRpb25zLCBwb2ludHMsIGFsbExpbmVJZHMsIGJhcnNIZWlnaHQpO1xuICAgIH1cblxuICAgIGdsLmJ1ZmZlckRhdGEoXG4gICAgICAgIGdsLkFSUkFZX0JVRkZFUixcbiAgICAgICAgbmV3IEZsb2F0MzJBcnJheShwb3NpdGlvbnMpLFxuICAgICAgICBnbC5TVEFUSUNfRFJBVyxcbiAgICApO1xuXG4gICAgcmV0dXJuIHBvc2l0aW9ucztcbn07XG5cbmNvbnN0IHVwZGF0ZVNpemUgPSAoY2FudmFzLCBnbCwgd2lkdGgsIGhlaWdodCwgcGl4ZWxSYXRpbywge2Jhck9wdGlvbnMsIHBpZU9wdGlvbnN9KSA9PiB7XG4gICAgY29uc3QgcmVuZGVyV2lkdGggPSB3aWR0aCAqIHBpeGVsUmF0aW87XG4gICAgY29uc3QgcmVuZGVySGVpZ2h0ID0gaGVpZ2h0ICogcGl4ZWxSYXRpbztcblxuICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDtcbiAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcbiAgICBjYW52YXMud2lkdGggPSByZW5kZXJXaWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gcmVuZGVySGVpZ2h0O1xuXG4gICAgZ2wudmlld3BvcnQoMCwgMCwgcmVuZGVyV2lkdGgsIHJlbmRlckhlaWdodCk7XG5cbiAgICAvLyDRg9GB0YLQsNC90L7QstC60LAg0YDQsNC30YDQtdGI0LXQvdC40Y9cbiAgICBnbC51c2VQcm9ncmFtKGJhck9wdGlvbnMuc2hhZGVyUHJvZ3JhbSk7XG4gICAgZ2wudW5pZm9ybTJmKGJhck9wdGlvbnMucmVzb2x1dGlvblVuaWZvcm1Mb2NhdGlvbiwgcmVuZGVyV2lkdGgsIHJlbmRlckhlaWdodCk7XG4gICAgZ2wudXNlUHJvZ3JhbShwaWVPcHRpb25zLnNoYWRlclByb2dyYW0pO1xuICAgIGdsLnVuaWZvcm0yZihwaWVPcHRpb25zLnJlc29sdXRpb25Vbmlmb3JtTG9jYXRpb24sIHJlbmRlcldpZHRoLCByZW5kZXJIZWlnaHQpO1xufTtcblxuY29uc3QgcmVuZGVyTGluZXMgPSAoc3RvcmUsIGdsLCBnbE9wdGlvbnMpID0+IHtcbiAgICBjb25zdCB7cG9pbnRzLCBhbGxMaW5lSWRzfSA9IHN0b3JlO1xuXG4gICAgY29uc3QgcG9pbnRzQ291bnQgPSBwb2ludHMubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBhbGxMaW5lSWRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IGxpbmVJZCA9IGFsbExpbmVJZHNbal07XG5cblxuICAgICAgICBjb25zdCBbcmVkLCBncmVlbiwgYmx1ZV0gPSBzdG9yZS5yZ2JhQ29sb3JzV2ViZ2xbbGluZUlkXTtcblxuICAgICAgICBjb25zdCB7Y29sb3JVbmlmb3JtTG9jYXRpb259ID0gZ2xPcHRpb25zO1xuXG4gICAgICAgIGdsLnVuaWZvcm00Zihjb2xvclVuaWZvcm1Mb2NhdGlvbiwgcmVkLCBncmVlbiwgYmx1ZSwgMSk7XG5cbiAgICAgICAgY29uc3QgcHJpbWl0aXZlVHlwZSA9IGdsLlRSSUFOR0xFX1NUUklQO1xuICAgICAgICBjb25zdCBjb3VudCA9IHBvaW50c0NvdW50ICogVkVSVEVYX1BFUl9QT0lOVDtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gY291bnQgKiBqO1xuICAgICAgICBnbC5kcmF3QXJyYXlzKHByaW1pdGl2ZVR5cGUsIG9mZnNldCwgY291bnQpO1xuICAgIH1cbn07XG5cbmNvbnN0IHJlbmRlckJhciA9IChcbiAgICBzdG9yZSwgZ2wsIGdsT3B0aW9ucywgdmlld0JveCxcbiAgICB3aWR0aCwgaGVpZ2h0LCBwYWRkaW5nLFxuICAgIHBpeGVsUmF0aW8sIGJvdHRvbVBhZGRpbmcsXG4pID0+IHtcbiAgICBjb25zdCB7XG4gICAgICAgIHNjYWxlRmFjdG9yVW5pZm9ybUxvY2F0aW9uLFxuICAgICAgICBzY2FsZVN0YXJ0VW5pZm9ybUxvY2F0aW9uLFxuICAgICAgICBib3R0b21QYWRkaW5nVW5pZm9ybUxvY2F0aW9uLFxuICAgICAgICBzaGFkZXJQcm9ncmFtLFxuICAgIH0gPSBnbE9wdGlvbnM7XG4gICAgbGV0IHtzY2FsZVN0YXJ0UG9pbnQsIHNjYWxlRW5kUG9pbnR9ID0gdmlld0JveDtcbiAgICBjb25zdCB7bWluWSwgbWF4WX0gPSB2aWV3Qm94O1xuXG4gICAgc2NhbGVTdGFydFBvaW50IC09IDAuNTtcbiAgICBzY2FsZUVuZFBvaW50ICs9IDAuNTtcblxuICAgIGNvbnN0IHBpeGVsV2lkdGggPSAod2lkdGggLSAocGFkZGluZyAqIDIpKSAqIHBpeGVsUmF0aW87XG4gICAgY29uc3QgcGl4ZWxIZWlnaHQgPSBoZWlnaHQgKiBwaXhlbFJhdGlvO1xuXG4gICAgY29uc3QgaW5kZXhXaWR0aCA9IHNjYWxlRW5kUG9pbnQgLSBzY2FsZVN0YXJ0UG9pbnQ7XG4gICAgLy8g0LXRgdC70Lgg0YfQuNGB0YLQviDQs9C+0YDQuNC30L7QvdGC0LDQu9GM0L3QsNGPINC70LjQvdC40Y9cbiAgICBjb25zdCBvcmlnaW5hbEhlaWdodCA9IG1heFkgPT09IG1pblkgPyAxIDogbWF4WSAtIG1pblk7XG5cbiAgICBjb25zdCBmYWN0b3JYID0gcGl4ZWxXaWR0aCAvIGluZGV4V2lkdGg7XG4gICAgY29uc3QgZmFjdG9yWSA9IHBpeGVsSGVpZ2h0IC8gb3JpZ2luYWxIZWlnaHQ7XG5cbiAgICBjb25zdCBwaXhlbE1pblkgPSBtaW5ZICogZmFjdG9yWTtcblxuICAgIGNvbnN0IHBpeGVsQm90dG9tUGFkZGluZyA9IChib3R0b21QYWRkaW5nICogcGl4ZWxSYXRpbykgLSBwaXhlbE1pblk7XG5cbiAgICBnbC51c2VQcm9ncmFtKHNoYWRlclByb2dyYW0pO1xuXG4gICAgZ2wudW5pZm9ybTJmKHNjYWxlRmFjdG9yVW5pZm9ybUxvY2F0aW9uLCBmYWN0b3JYLCBmYWN0b3JZKTtcbiAgICBnbC51bmlmb3JtMWYoc2NhbGVTdGFydFVuaWZvcm1Mb2NhdGlvbiwgc2NhbGVTdGFydFBvaW50IC0gKHBpeGVsUmF0aW8gKiBwYWRkaW5nIC8gZmFjdG9yWCkpO1xuICAgIGdsLnVuaWZvcm0xZihib3R0b21QYWRkaW5nVW5pZm9ybUxvY2F0aW9uLCBwaXhlbEJvdHRvbVBhZGRpbmcpO1xuXG4gICAgcmVuZGVyTGluZXMoc3RvcmUsIGdsLCBnbE9wdGlvbnMpO1xufTtcblxuXG5jb25zdCB1cGRhdGVQaWVOdW1iZXJzID0gKHN0b3JlLCBwaWVOdW1iZXJzLCB3aWR0aCwgaGVpZ2h0LCB0b3RhbFZhbHVlLCBsaW5lc1ZhbHVlcykgPT4ge1xuICAgIGlmICghcGllTnVtYmVycykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHthbGxMaW5lSWRzLCBsaW5lSWRzfSA9IHN0b3JlO1xuICAgIGNvbnN0IHtub2RlLCBpdGVtc30gPSBwaWVOdW1iZXJzO1xuXG4gICAgbm9kZS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7d2lkdGggLyAyfXB4LCAke2hlaWdodCAvIDJ9cHgpYDtcbiAgICBjb25zdCByYWRpdXMgPSBNYXRoLm1pbih3aWR0aCwgaGVpZ2h0KSAvIDMuMztcbiAgICBjb25zdCBwaSA9IE1hdGguUEk7XG5cbiAgICBsZXQgcGFydHMgPSAwO1xuXG4gICAgYWxsTGluZUlkcy5mb3JFYWNoKChsaW5lSWQpID0+IHtcbiAgICAgICAgY29uc3QgbGluZVZhbHVlID0gbGluZXNWYWx1ZXNbbGluZUlkXTtcbiAgICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zW2xpbmVJZF07XG5cbiAgICAgICAgaWYgKGxpbmVJZHMuaW5jbHVkZXMobGluZUlkKSkge1xuICAgICAgICAgICAgaXRlbS5ub2RlLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlbS5ub2RlLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29uc29sZS5sb2cocGFydHMpO1xuICAgICAgICBjb25zdCBwYXJ0ID0gbGluZVZhbHVlIC8gdG90YWxWYWx1ZTtcbiAgICAgICAgY29uc3QgaGFsZlBhcnQgPSBwYXJ0IC8gMjtcbiAgICAgICAgY29uc3QgaXRlbVBhcnQgPSBwYXJ0cyArIGhhbGZQYXJ0O1xuICAgICAgICBjb25zdCBkZWcgPSBwaSAqIDIgKiBpdGVtUGFydDtcbiAgICAgICAgY29uc3QgbGVmdCA9IHJhZGl1cyAqIE1hdGguc2luKGRlZyk7XG4gICAgICAgIGNvbnN0IHRvcCA9IC1yYWRpdXMgKiBNYXRoLmNvcyhkZWcpO1xuICAgICAgICBjb25zdCBzY2FsZSA9IChwYXJ0ICsgMSkgKiAxLjY7XG5cbiAgICAgICAgaXRlbS5ub2RlLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtsZWZ0fXB4LCAke3RvcH1weClgO1xuICAgICAgICBpdGVtLnRleHROb2RlLnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgke3NjYWxlfSwgJHtzY2FsZX0pYDtcblxuICAgICAgICBjb25zdCBwZXJjZW50ID0gTWF0aC5yb3VuZChwYXJ0ICogMTAwKTtcblxuICAgICAgICBpdGVtLnRleHQudGV4dENvbnRlbnQgPSBgJHtwZXJjZW50fSVgO1xuXG4gICAgICAgIHBhcnRzICs9IHBhcnQ7XG4gICAgfSk7XG59O1xuXG5jb25zdCByZW5kZXJQaWUgPSAoXG4gICAgc3RvcmUsIGdsLCBnbE9wdGlvbnMsIHZpZXdCb3gsXG4gICAgd2lkdGgsIGhlaWdodCwgcGFkZGluZyxcbiAgICBwaXhlbFJhdGlvLCBib3R0b21QYWRkaW5nLCBiYXJzSGVpZ2h0LCBwaWVOdW1iZXJzLFxuKSA9PiB7XG4gICAgY29uc3Qge3NjYWxlU3RhcnRQb2ludCwgc2NhbGVFbmRQb2ludH0gPSB2aWV3Qm94O1xuICAgIGNvbnN0IHttaW5ZLCBtYXhZfSA9IHZpZXdCb3g7XG5cblxuICAgIGNvbnN0IHBpeGVsV2lkdGggPSAod2lkdGggLSAocGFkZGluZyAqIDIpKSAqIHBpeGVsUmF0aW87XG4gICAgY29uc3QgcGl4ZWxIZWlnaHQgPSBoZWlnaHQgKiBwaXhlbFJhdGlvO1xuXG4gICAgY29uc3QgaW5kZXhXaWR0aCA9IHNjYWxlRW5kUG9pbnQgLSBzY2FsZVN0YXJ0UG9pbnQ7XG4gICAgLy8g0LXRgdC70Lgg0YfQuNGB0YLQviDQs9C+0YDQuNC30L7QvdGC0LDQu9GM0L3QsNGPINC70LjQvdC40Y9cbiAgICBjb25zdCBvcmlnaW5hbEhlaWdodCA9IG1heFkgPT09IG1pblkgPyAxIDogbWF4WSAtIG1pblk7XG5cbiAgICAvLyBjb25zdCBmYWN0b3JYID0gcGl4ZWxXaWR0aCAvIGluZGV4V2lkdGg7XG4gICAgY29uc3QgZmFjdG9yWSA9IHBpeGVsSGVpZ2h0IC8gb3JpZ2luYWxIZWlnaHQ7XG5cbiAgICBjb25zdCBwaXhlbE1pblkgPSBtaW5ZICogZmFjdG9yWTtcblxuICAgIGNvbnN0IHBpeGVsQm90dG9tUGFkZGluZyA9IChib3R0b21QYWRkaW5nICogcGl4ZWxSYXRpbykgLSBwaXhlbE1pblk7XG5cbiAgICBjb25zdCB7cG9pbnRzLCBhbGxMaW5lSWRzfSA9IHN0b3JlO1xuICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKHNjYWxlU3RhcnRQb2ludCkpO1xuICAgIGNvbnN0IGVuZEluZGV4ID0gTWF0aC5taW4ocG9pbnRzLmxlbmd0aCAtIDEsIE1hdGgucm91bmQoc2NhbGVFbmRQb2ludCkpO1xuXG4gICAgbGV0IHRvdGFsVmFsdWUgPSAwO1xuICAgIGNvbnN0IGxpbmVzVmFsdWVzID0gYWxsTGluZUlkcy5yZWR1Y2UoKGFjYywgbGluZUlkKSA9PiBPYmplY3QuYXNzaWduKGFjYywge1tsaW5lSWRdOiAwfSksIHt9KTtcblxuICAgIGNvbnN0IGFsbEJhcnNIaWRkZW4gPSBhbGxMaW5lSWRzLmV2ZXJ5KGxpbmVJZCA9PiBiYXJzSGVpZ2h0W2xpbmVJZF0gPD0gMCk7XG5cbiAgICBpZiAoYWxsQmFyc0hpZGRlbikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYWxsTGluZUlkcy5mb3JFYWNoKChsaW5lSWQpID0+IHtcbiAgICAgICAgY29uc3QgbGluZUZhY3RvciA9IGJhcnNIZWlnaHRbbGluZUlkXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPD0gZW5kSW5kZXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaV07XG4gICAgICAgICAgICBjb25zdCB2YWwgPSBwb2ludC5saW5lc1tsaW5lSWRdICogbGluZUZhY3RvcjtcblxuICAgICAgICAgICAgdG90YWxWYWx1ZSArPSB2YWw7XG4gICAgICAgICAgICBsaW5lc1ZhbHVlc1tsaW5lSWRdICs9IHZhbDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdXBkYXRlUGllTnVtYmVycyhzdG9yZSwgcGllTnVtYmVycywgd2lkdGgsIGhlaWdodCwgdG90YWxWYWx1ZSwgbGluZXNWYWx1ZXMpO1xuXG4gICAgY29uc3Qge1xuICAgICAgICBib3R0b21QYWRkaW5nVW5pZm9ybUxvY2F0aW9uLFxuICAgICAgICBzaGFkZXJQcm9ncmFtLFxuICAgIH0gPSBnbE9wdGlvbnM7XG5cbiAgICBjb25zdCBwb2ludHNDb3VudCA9IHN0b3JlLnBvaW50cy5sZW5ndGg7XG4gICAgY29uc3Qge2NvbG9yVW5pZm9ybUxvY2F0aW9ufSA9IGdsT3B0aW9ucztcblxuICAgIGdsLnVzZVByb2dyYW0oc2hhZGVyUHJvZ3JhbSk7XG5cbiAgICBnbC51bmlmb3JtMWYoYm90dG9tUGFkZGluZ1VuaWZvcm1Mb2NhdGlvbiwgcGl4ZWxCb3R0b21QYWRkaW5nKTtcblxuICAgIGNvbnN0IHRvdGFsUG9pbnRzQ291bnQgPSBQSUVfUE9JTlRfQ09VTlQgKiAyICsgMjtcbiAgICAvLyBjb25zdCBjb3VudCA9IFBJRV9QT0lOVF9DT1VOVCAqIDIgKyAyO1xuICAgIGNvbnN0IG9mZnNldCA9IHBvaW50c0NvdW50ICogVkVSVEVYX1BFUl9QT0lOVCAqIHN0b3JlLmFsbExpbmVJZHMubGVuZ3RoO1xuICAgIGNvbnN0IHByaW1pdGl2ZVR5cGUgPSBnbC5UUklBTkdMRV9TVFJJUDtcblxuICAgIGxldCBwYXJ0T2Zmc2V0ID0gb2Zmc2V0O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxMaW5lSWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGxpbmVJZCA9IGFsbExpbmVJZHNbaV07XG5cbiAgICAgICAgbGV0IGNvdW50ID0gTWF0aC5yb3VuZCh0b3RhbFBvaW50c0NvdW50ICogbGluZXNWYWx1ZXNbbGluZUlkXSAvIHRvdGFsVmFsdWUpO1xuXG4gICAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb3VudCArPSAyO1xuXG4gICAgICAgIGlmIChwYXJ0T2Zmc2V0ICsgY291bnQgPiB0b3RhbFBvaW50c0NvdW50ICsgb2Zmc2V0KSB7XG4gICAgICAgICAgICBjb3VudCA9IHRvdGFsUG9pbnRzQ291bnQgKyBvZmZzZXQgLSBwYXJ0T2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgW3JlZCwgZ3JlZW4sIGJsdWVdID0gc3RvcmUucmdiYUNvbG9yc1dlYmdsW2xpbmVJZF07XG5cbiAgICAgICAgZ2wudW5pZm9ybTRmKGNvbG9yVW5pZm9ybUxvY2F0aW9uLCByZWQsIGdyZWVuLCBibHVlLCAxKTtcblxuICAgICAgICBnbC5kcmF3QXJyYXlzKHByaW1pdGl2ZVR5cGUsIHBhcnRPZmZzZXQsIGNvdW50KTtcblxuICAgICAgICBwYXJ0T2Zmc2V0ICs9IGNvdW50IC0gMjtcbiAgICB9XG5cbiAgICBpZiAocGFydE9mZnNldCA8IHRvdGFsUG9pbnRzQ291bnQgKyBvZmZzZXQpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IGFsbExpbmVJZHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVJZCA9IGFsbExpbmVJZHNbaV07XG5cbiAgICAgICAgICAgIGlmIChsaW5lc1ZhbHVlc1tsaW5lSWRdID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtyZWQsIGdyZWVuLCBibHVlXSA9IHN0b3JlLnJnYmFDb2xvcnNXZWJnbFtsaW5lSWRdO1xuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zihjb2xvclVuaWZvcm1Mb2NhdGlvbiwgcmVkLCBncmVlbiwgYmx1ZSwgMSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY291bnQgPSB0b3RhbFBvaW50c0NvdW50ICsgb2Zmc2V0IC0gcGFydE9mZnNldDtcblxuICAgICAgICAgICAgICAgIGdsLmRyYXdBcnJheXMocHJpbWl0aXZlVHlwZSwgcGFydE9mZnNldCwgY291bnQpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBnbC5kcmF3QXJyYXlzKHByaW1pdGl2ZVR5cGUsIG9mZnNldCwgY291bnQpO1xufTtcblxuY29uc3QgZ2xDb250ZXh0ID0gKHN0b3JlLCBiYXJzSGVpZ2h0LCBjYW52YXMpID0+IHtcbiAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB9XG4gICAgbGV0IGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywge1xuICAgICAgICBhbnRpYWxpYXM6IHRydWUsXG4gICAgICAgIHBvd2VyUHJlZmVyZW5jZTogJ2hpZ2gtcGVyZm9ybWFuY2UnLFxuICAgIH0pO1xuXG4gICAgaWYgKCFnbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBzdXBwb3J0IHdlYmdsJyk7XG4gICAgfVxuXG4gICAgY29uc3Qge2Jhck9wdGlvbnMsIHBpZU9wdGlvbnN9ID0gaW5pdEdsKGdsKTtcblxuICAgIGxldCBjdXJyZW50V2lkdGggPSAwO1xuICAgIGxldCBjdXJyZW50SGVpZ2h0ID0gMDtcbiAgICBsZXQgY3VycmVudFBpeGVsUmF0aW8gPSAxO1xuXG4gICAgY29uc3QgcG9zaXRpb25zID0gZmlsbExpbmVzRGF0YShzdG9yZSwgZ2wsIG51bGwsIGJhcnNIZWlnaHQpO1xuXG4gICAgY29uc3QgdXBkYXRlQ2hhcnREYXRhID0gKCkgPT4ge1xuICAgICAgICBmaWxsTGluZXNEYXRhKHN0b3JlLCBnbCwgcG9zaXRpb25zLCBiYXJzSGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgbGV0IHJlUmVuZGVyID0gKHdpZHRoLCBoZWlnaHQsIHBhZGRpbmcsIGxpbmVzT3BhY2l0eSwgcGl4ZWxSYXRpbywgc29tZXBhcmFtLCBwaWVOdW1iZXJzKSA9PiB7XG4gICAgICAgIGNvbnN0IGJvdHRvbVBhZGRpbmcgPSBWSUVXX1NDQUxFUl9TUEFDRSArIENIQVJUX1NDQUxFUl9IRUlHSFQ7XG4gICAgICAgIGNvbnN0IHNjYWxlckJvdHRvbVBhZGRpbmcgPSAwO1xuICAgICAgICBjb25zdCBzY2FsZXJIZWlnaHQgPSBDSEFSVF9TQ0FMRVJfSEVJR0hUIC0gc2NhbGVyQm90dG9tUGFkZGluZztcblxuICAgICAgICAvLyBwaXhlbCByYXRpbyBjYW4gY2hhbmdlIGlmIGRyYWcgYnJvd3NlciB3aW5kb3cgZnJvbSBvbmUgc2NyZWVuIHRvIGFub3RoZXJcbiAgICAgICAgaWYgKGN1cnJlbnRXaWR0aCAhPT0gd2lkdGggfHwgY3VycmVudEhlaWdodCAhPT0gaGVpZ2h0IHx8IGN1cnJlbnRQaXhlbFJhdGlvICE9PSBwaXhlbFJhdGlvKSB7XG4gICAgICAgICAgICB1cGRhdGVTaXplKGNhbnZhcywgZ2wsIHdpZHRoLCBoZWlnaHQgKyBib3R0b21QYWRkaW5nLCBwaXhlbFJhdGlvLCB7YmFyT3B0aW9ucywgcGllT3B0aW9uc30pO1xuXG4gICAgICAgICAgICBjdXJyZW50V2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIGN1cnJlbnRIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICBjdXJyZW50UGl4ZWxSYXRpbyA9IHBpeGVsUmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwaXhlbFdpZHRoID0gd2lkdGggKiBwaXhlbFJhdGlvO1xuICAgICAgICBjb25zdCBwaXhlbEhlaWdodCA9IGhlaWdodCAqIHBpeGVsUmF0aW87XG5cbiAgICAgICAgZ2wuc2Npc3NvcigwLCAwLCBwaXhlbFdpZHRoLCBDSEFSVF9TQ0FMRVJfSEVJR0hUICogcGl4ZWxSYXRpbyk7XG4gICAgICAgIHJlbmRlckJhcihcbiAgICAgICAgICAgIHN0b3JlLCBnbCwgYmFyT3B0aW9ucywgc3RvcmUuZnVsbFZpZXdCb3guYW5pbWF0aW9uQm94LFxuICAgICAgICAgICAgd2lkdGgsIHNjYWxlckhlaWdodCwgcGFkZGluZyxcbiAgICAgICAgICAgIHBpeGVsUmF0aW8sIHNjYWxlckJvdHRvbVBhZGRpbmcsXG4gICAgICAgICk7XG5cbiAgICAgICAgZ2wuc2Npc3NvcigwLCBib3R0b21QYWRkaW5nICogcGl4ZWxSYXRpbywgcGl4ZWxXaWR0aCwgcGl4ZWxIZWlnaHQpO1xuICAgICAgICByZW5kZXJQaWUoXG4gICAgICAgICAgICBzdG9yZSwgZ2wsIHBpZU9wdGlvbnMsIHN0b3JlLnZpZXdCb3guYW5pbWF0aW9uQm94LFxuICAgICAgICAgICAgd2lkdGgsIGhlaWdodCwgcGFkZGluZyxcbiAgICAgICAgICAgIHBpeGVsUmF0aW8sIGJvdHRvbVBhZGRpbmcsIGJhcnNIZWlnaHQsIHBpZU51bWJlcnMsXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIGNhbnZhcztcbiAgICB9O1xuXG4gICAgbGV0IGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcbiAgICAgICAgY2FudmFzLndpZHRoID0gMTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IDE7XG4gICAgICAgIHN0b3JlID0gbnVsbDtcbiAgICAgICAgcmVSZW5kZXIgPSBudWxsO1xuICAgICAgICBjYW52YXMgPSBudWxsO1xuICAgICAgICBnbCA9IG51bGw7XG4gICAgICAgIGRlc3Ryb3kgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjYW52YXMsXG4gICAgICAgIGdsLFxuICAgICAgICBkZXN0cm95LFxuICAgICAgICB1cGRhdGVDaGFydERhdGEsXG4gICAgICAgIHJlbmRlcjogcmVSZW5kZXIsXG4gICAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGdsQ29udGV4dDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/Webgl/pieGl/glContext.js\n");

/***/ }),

/***/ "./src/chart/Webgl/pieGl/initGl.js":
/*!*****************************************!*\
  !*** ./src/chart/Webgl/pieGl/initGl.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _vertexShader_glsl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vertexShader.glsl */ \"./src/chart/Webgl/pieGl/vertexShader.glsl\");\n/* harmony import */ var _fragmentShader_glsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fragmentShader.glsl */ \"./src/chart/Webgl/pieGl/fragmentShader.glsl\");\n/* harmony import */ var _pieVertexShader_glsl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pieVertexShader.glsl */ \"./src/chart/Webgl/pieGl/pieVertexShader.glsl\");\n\n\n\n\n\n\nconst loadShader = (gl, type, source) => {\n    const shader = gl.createShader(type);\n\n    // Send the source to the shader object\n    gl.shaderSource(shader, source);\n\n    // Compile the shader program\n    gl.compileShader(shader);\n\n    // See if it compiled successfully\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        gl.deleteShader(shader);\n\n        throw new Error(`An error occurred compiling the shaders: ${gl.getShaderInfoLog(shader)}`);\n    }\n\n    return shader;\n};\n\nconst initShaderProgram = (gl, vertexShaderSource) => {\n    const vertexShader = loadShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n    const fragmentShader = loadShader(gl, gl.FRAGMENT_SHADER, _fragmentShader_glsl__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n\n    // Create the shader program\n    const shaderProgram = gl.createProgram();\n    gl.attachShader(shaderProgram, vertexShader);\n    gl.attachShader(shaderProgram, fragmentShader);\n    gl.linkProgram(shaderProgram);\n\n    // If creating the shader program failed, alert\n    if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\n        throw new Error(`Unable to initialize the shader program: ${gl.getProgramInfoLog(shaderProgram)}`);\n    }\n\n    return shaderProgram;\n};\n\nconst prepareBarGl = (gl, shaderProgram, positionAttributeLocation) => {\n    // Create a buffer for the positions.\n    const positionBuffer = gl.createBuffer();\n\n    // Select the positionBuffer as the one to apply buffer\n    // operations to from here out.\n    // Привязываем буфер положений\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.clearColor(0, 0, 0, 0);\n\n    gl.useProgram(shaderProgram);\n\n    // включаем аттрибут\n    gl.enableVertexAttribArray(positionAttributeLocation);\n    // gl.enableVertexAttribArray(shiftAttributeLocation);\n\n\n    // Указываем атрибуту, как получать данные от positionBuffer (ARRAY_BUFFER)\n    const size = 2; // 4 компоненты на итерацию\n    const type = gl.FLOAT; // наши данные - 32-битные числа с плавающей точкой\n    const normalize = false; // не нормализовать данные\n    const stride = 0; // 0 = перемещаться на size * sizeof(type) каждую итерацию для получения следующего положения\n    const offset = 0; // начинать с начала буфера\n    gl.vertexAttribPointer(positionAttributeLocation, size, type, normalize, stride, offset);\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\n    gl.enable(gl.SCISSOR_TEST);\n};\n\nconst preparePieGl = (gl, shaderProgram, positionAttributeLocation) => {\n    // Create a buffer for the positions.\n    const positionBuffer = gl.createBuffer();\n\n    // Select the positionBuffer as the one to apply buffer\n    // operations to from here out.\n    // Привязываем буфер положений\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.clearColor(0, 0, 0, 0);\n\n    gl.useProgram(shaderProgram);\n\n    // включаем аттрибут\n    gl.enableVertexAttribArray(positionAttributeLocation);\n    // gl.enableVertexAttribArray(shiftAttributeLocation);\n\n\n    // Указываем атрибуту, как получать данные от positionBuffer (ARRAY_BUFFER)\n    const size = 2; // 4 компоненты на итерацию\n    const type = gl.FLOAT; // наши данные - 32-битные числа с плавающей точкой\n    const normalize = false; // не нормализовать данные\n    const stride = 0; // 0 = перемещаться на size * sizeof(type) каждую итерацию для получения следующего положения\n    const offset = 0; // начинать с начала буфера\n    gl.vertexAttribPointer(positionAttributeLocation, size, type, normalize, stride, offset);\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\n    gl.enable(gl.SCISSOR_TEST);\n};\n\nconst initBarProgram = (gl) => {\n    const shaderProgram = initShaderProgram(gl, _vertexShader_glsl__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n    // gl.useProgram(barProgram);\n\n    gl.bindAttribLocation(shaderProgram, 2, 'a_position');\n\n    const positionAttributeLocation = gl.getAttribLocation(shaderProgram, 'a_position');\n    const resolutionUniformLocation = gl.getUniformLocation(shaderProgram, 'u_resolution');\n    const scaleStartUniformLocation = gl.getUniformLocation(shaderProgram, 'u_scaleStart');\n    const bottomPaddingUniformLocation = gl.getUniformLocation(shaderProgram, 'u_bottomPadding');\n    const scaleFactorUniformLocation = gl.getUniformLocation(shaderProgram, 'u_scaleFactor');\n    const colorUniformLocation = gl.getUniformLocation(shaderProgram, 'u_color');\n\n    prepareBarGl(gl, shaderProgram, positionAttributeLocation);\n    // preparePieGl(gl, shaderProgram, positionAttributeLocation);\n\n    return {\n        shaderProgram,\n        positionAttributeLocation,\n        colorUniformLocation,\n        resolutionUniformLocation,\n        scaleStartUniformLocation,\n        bottomPaddingUniformLocation,\n        scaleFactorUniformLocation,\n    };\n};\n\nconst initPieProgram = (gl) => {\n    const shaderProgram = initShaderProgram(gl, _pieVertexShader_glsl__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n\n    // gl.useProgram(barProgram);\n\n    gl.bindAttribLocation(shaderProgram, 2, 'a_position');\n\n    const positionAttributeLocation = gl.getAttribLocation(shaderProgram, 'a_position');\n    const resolutionUniformLocation = gl.getUniformLocation(shaderProgram, 'u_resolution');\n    const scaleStartUniformLocation = gl.getUniformLocation(shaderProgram, 'u_scaleStart');\n    const bottomPaddingUniformLocation = gl.getUniformLocation(shaderProgram, 'u_bottomPadding');\n    const scaleFactorUniformLocation = gl.getUniformLocation(shaderProgram, 'u_scaleFactor');\n    const colorUniformLocation = gl.getUniformLocation(shaderProgram, 'u_color');\n\n    // prepareBarGl(gl, shaderProgram, positionAttributeLocation);\n    preparePieGl(gl, shaderProgram, positionAttributeLocation);\n\n    return {\n        shaderProgram,\n        positionAttributeLocation,\n        colorUniformLocation,\n        resolutionUniformLocation,\n        scaleStartUniformLocation,\n        bottomPaddingUniformLocation,\n        scaleFactorUniformLocation,\n    };\n};\n\nconst initialize = (gl) => {\n    // const barProgram = initShaderProgram(gl, barVertexShaderSource);\n    // const pieProgram = initShaderProgram(gl, pieVertexShaderSource);\n\n    const barOptions = initBarProgram(gl);\n    const pieOptions = initPieProgram(gl);\n\n    return {barOptions, pieOptions};\n\n    // gl.useProgram(barProgram);\n\n    // gl.bindAttribLocation(barProgram, 2, 'a_position');\n\n    // const positionAttributeLocation = gl.getAttribLocation(barProgram, 'a_position');\n    // const resolutionUniformLocation = gl.getUniformLocation(barProgram, 'u_resolution');\n    // const scaleStartUniformLocation = gl.getUniformLocation(barProgram, 'u_scaleStart');\n    // const bottomPaddingUniformLocation = gl.getUniformLocation(barProgram, 'u_bottomPadding');\n    // const scaleFactorUniformLocation = gl.getUniformLocation(barProgram, 'u_scaleFactor');\n    // const colorUniformLocation = gl.getUniformLocation(barProgram, 'u_color');\n\n    // prepareBarGl(gl, barProgram, positionAttributeLocation);\n    // preparePieGl(gl, pieProgram, positionAttributeLocation);\n\n    // return {\n    //     barProgram,\n    //     pieProgram,\n    //     positionAttributeLocation,\n    //     colorUniformLocation,\n    //     resolutionUniformLocation,\n    //     scaleStartUniformLocation,\n    //     bottomPaddingUniformLocation,\n    //     scaleFactorUniformLocation,\n    // };\n};\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (initialize);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvcGllR2wvaW5pdEdsLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJ0L1dlYmdsL3BpZUdsL2luaXRHbC5qcz80ZWM3Il0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IGJhclZlcnRleFNoYWRlclNvdXJjZSBmcm9tICcuL3ZlcnRleFNoYWRlci5nbHNsJztcbmltcG9ydCBmcmFnbWVudFNoYWRlclNvdXJjZSBmcm9tICcuL2ZyYWdtZW50U2hhZGVyLmdsc2wnO1xuaW1wb3J0IHBpZVZlcnRleFNoYWRlclNvdXJjZSBmcm9tICcuL3BpZVZlcnRleFNoYWRlci5nbHNsJztcblxuXG5jb25zdCBsb2FkU2hhZGVyID0gKGdsLCB0eXBlLCBzb3VyY2UpID0+IHtcbiAgICBjb25zdCBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XG5cbiAgICAvLyBTZW5kIHRoZSBzb3VyY2UgdG8gdGhlIHNoYWRlciBvYmplY3RcbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpO1xuXG4gICAgLy8gQ29tcGlsZSB0aGUgc2hhZGVyIHByb2dyYW1cbiAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG5cbiAgICAvLyBTZWUgaWYgaXQgY29tcGlsZWQgc3VjY2Vzc2Z1bGx5XG4gICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKHNoYWRlcik7XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBbiBlcnJvciBvY2N1cnJlZCBjb21waWxpbmcgdGhlIHNoYWRlcnM6ICR7Z2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpfWApO1xuICAgIH1cblxuICAgIHJldHVybiBzaGFkZXI7XG59O1xuXG5jb25zdCBpbml0U2hhZGVyUHJvZ3JhbSA9IChnbCwgdmVydGV4U2hhZGVyU291cmNlKSA9PiB7XG4gICAgY29uc3QgdmVydGV4U2hhZGVyID0gbG9hZFNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgdmVydGV4U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGxvYWRTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBzaGFkZXIgcHJvZ3JhbVxuICAgIGNvbnN0IHNoYWRlclByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHNoYWRlclByb2dyYW0sIHZlcnRleFNoYWRlcik7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHNoYWRlclByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcbiAgICBnbC5saW5rUHJvZ3JhbShzaGFkZXJQcm9ncmFtKTtcblxuICAgIC8vIElmIGNyZWF0aW5nIHRoZSBzaGFkZXIgcHJvZ3JhbSBmYWlsZWQsIGFsZXJ0XG4gICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHNoYWRlclByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBpbml0aWFsaXplIHRoZSBzaGFkZXIgcHJvZ3JhbTogJHtnbC5nZXRQcm9ncmFtSW5mb0xvZyhzaGFkZXJQcm9ncmFtKX1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2hhZGVyUHJvZ3JhbTtcbn07XG5cbmNvbnN0IHByZXBhcmVCYXJHbCA9IChnbCwgc2hhZGVyUHJvZ3JhbSwgcG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbikgPT4ge1xuICAgIC8vIENyZWF0ZSBhIGJ1ZmZlciBmb3IgdGhlIHBvc2l0aW9ucy5cbiAgICBjb25zdCBwb3NpdGlvbkJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuXG4gICAgLy8gU2VsZWN0IHRoZSBwb3NpdGlvbkJ1ZmZlciBhcyB0aGUgb25lIHRvIGFwcGx5IGJ1ZmZlclxuICAgIC8vIG9wZXJhdGlvbnMgdG8gZnJvbSBoZXJlIG91dC5cbiAgICAvLyDQn9GA0LjQstGP0LfRi9Cy0LDQtdC8INCx0YPRhNC10YAg0L/QvtC70L7QttC10L3QuNC5XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHBvc2l0aW9uQnVmZmVyKTtcbiAgICBnbC5jbGVhckNvbG9yKDAsIDAsIDAsIDApO1xuXG4gICAgZ2wudXNlUHJvZ3JhbShzaGFkZXJQcm9ncmFtKTtcblxuICAgIC8vINCy0LrQu9GO0YfQsNC10Lwg0LDRgtGC0YDQuNCx0YPRglxuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24pO1xuICAgIC8vIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHNoaWZ0QXR0cmlidXRlTG9jYXRpb24pO1xuXG5cbiAgICAvLyDQo9C60LDQt9GL0LLQsNC10Lwg0LDRgtGA0LjQsdGD0YLRgywg0LrQsNC6INC/0L7Qu9GD0YfQsNGC0Ywg0LTQsNC90L3Ri9C1INC+0YIgcG9zaXRpb25CdWZmZXIgKEFSUkFZX0JVRkZFUilcbiAgICBjb25zdCBzaXplID0gMjsgLy8gNCDQutC+0LzQv9C+0L3QtdC90YLRiyDQvdCwINC40YLQtdGA0LDRhtC40Y5cbiAgICBjb25zdCB0eXBlID0gZ2wuRkxPQVQ7IC8vINC90LDRiNC4INC00LDQvdC90YvQtSAtIDMyLdCx0LjRgtC90YvQtSDRh9C40YHQu9CwINGBINC/0LvQsNCy0LDRjtGJ0LXQuSDRgtC+0YfQutC+0LlcbiAgICBjb25zdCBub3JtYWxpemUgPSBmYWxzZTsgLy8g0L3QtSDQvdC+0YDQvNCw0LvQuNC30L7QstCw0YLRjCDQtNCw0L3QvdGL0LVcbiAgICBjb25zdCBzdHJpZGUgPSAwOyAvLyAwID0g0L/QtdGA0LXQvNC10YnQsNGC0YzRgdGPINC90LAgc2l6ZSAqIHNpemVvZih0eXBlKSDQutCw0LbQtNGD0Y4g0LjRgtC10YDQsNGG0LjRjiDQtNC70Y8g0L/QvtC70YPRh9C10L3QuNGPINGB0LvQtdC00YPRjtGJ0LXQs9C+INC/0L7Qu9C+0LbQtdC90LjRj1xuICAgIGNvbnN0IG9mZnNldCA9IDA7IC8vINC90LDRh9C40L3QsNGC0Ywg0YEg0L3QsNGH0LDQu9CwINCx0YPRhNC10YDQsFxuICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIocG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbiwgc2l6ZSwgdHlwZSwgbm9ybWFsaXplLCBzdHJpZGUsIG9mZnNldCk7XG4gICAgZ2wuZW5hYmxlKGdsLkJMRU5EKTtcbiAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcblxuICAgIGdsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xufTtcblxuY29uc3QgcHJlcGFyZVBpZUdsID0gKGdsLCBzaGFkZXJQcm9ncmFtLCBwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uKSA9PiB7XG4gICAgLy8gQ3JlYXRlIGEgYnVmZmVyIGZvciB0aGUgcG9zaXRpb25zLlxuICAgIGNvbnN0IHBvc2l0aW9uQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG5cbiAgICAvLyBTZWxlY3QgdGhlIHBvc2l0aW9uQnVmZmVyIGFzIHRoZSBvbmUgdG8gYXBwbHkgYnVmZmVyXG4gICAgLy8gb3BlcmF0aW9ucyB0byBmcm9tIGhlcmUgb3V0LlxuICAgIC8vINCf0YDQuNCy0Y/Qt9GL0LLQsNC10Lwg0LHRg9GE0LXRgCDQv9C+0LvQvtC20LXQvdC40LlcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIpO1xuICAgIGdsLmNsZWFyQ29sb3IoMCwgMCwgMCwgMCk7XG5cbiAgICBnbC51c2VQcm9ncmFtKHNoYWRlclByb2dyYW0pO1xuXG4gICAgLy8g0LLQutC70Y7Rh9Cw0LXQvCDQsNGC0YLRgNC40LHRg9GCXG4gICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbik7XG4gICAgLy8gZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoc2hpZnRBdHRyaWJ1dGVMb2NhdGlvbik7XG5cblxuICAgIC8vINCj0LrQsNC30YvQstCw0LXQvCDQsNGC0YDQuNCx0YPRgtGDLCDQutCw0Log0L/QvtC70YPRh9Cw0YLRjCDQtNCw0L3QvdGL0LUg0L7RgiBwb3NpdGlvbkJ1ZmZlciAoQVJSQVlfQlVGRkVSKVxuICAgIGNvbnN0IHNpemUgPSAyOyAvLyA0INC60L7QvNC/0L7QvdC10L3RgtGLINC90LAg0LjRgtC10YDQsNGG0LjRjlxuICAgIGNvbnN0IHR5cGUgPSBnbC5GTE9BVDsgLy8g0L3QsNGI0Lgg0LTQsNC90L3Ri9C1IC0gMzIt0LHQuNGC0L3Ri9C1INGH0LjRgdC70LAg0YEg0L/Qu9Cw0LLQsNGO0YnQtdC5INGC0L7Rh9C60L7QuVxuICAgIGNvbnN0IG5vcm1hbGl6ZSA9IGZhbHNlOyAvLyDQvdC1INC90L7RgNC80LDQu9C40LfQvtCy0LDRgtGMINC00LDQvdC90YvQtVxuICAgIGNvbnN0IHN0cmlkZSA9IDA7IC8vIDAgPSDQv9C10YDQtdC80LXRidCw0YLRjNGB0Y8g0L3QsCBzaXplICogc2l6ZW9mKHR5cGUpINC60LDQttC00YPRjiDQuNGC0LXRgNCw0YbQuNGOINC00LvRjyDQv9C+0LvRg9GH0LXQvdC40Y8g0YHQu9C10LTRg9GO0YnQtdCz0L4g0L/QvtC70L7QttC10L3QuNGPXG4gICAgY29uc3Qgb2Zmc2V0ID0gMDsgLy8g0L3QsNGH0LjQvdCw0YLRjCDRgSDQvdCw0YfQsNC70LAg0LHRg9GE0LXRgNCwXG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uLCBzaXplLCB0eXBlLCBub3JtYWxpemUsIHN0cmlkZSwgb2Zmc2V0KTtcbiAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xuICAgIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xuXG4gICAgZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG59O1xuXG5jb25zdCBpbml0QmFyUHJvZ3JhbSA9IChnbCkgPT4ge1xuICAgIGNvbnN0IHNoYWRlclByb2dyYW0gPSBpbml0U2hhZGVyUHJvZ3JhbShnbCwgYmFyVmVydGV4U2hhZGVyU291cmNlKTtcblxuICAgIC8vIGdsLnVzZVByb2dyYW0oYmFyUHJvZ3JhbSk7XG5cbiAgICBnbC5iaW5kQXR0cmliTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgMiwgJ2FfcG9zaXRpb24nKTtcblxuICAgIGNvbnN0IHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihzaGFkZXJQcm9ncmFtLCAnYV9wb3NpdGlvbicpO1xuICAgIGNvbnN0IHJlc29sdXRpb25Vbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgJ3VfcmVzb2x1dGlvbicpO1xuICAgIGNvbnN0IHNjYWxlU3RhcnRVbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgJ3Vfc2NhbGVTdGFydCcpO1xuICAgIGNvbnN0IGJvdHRvbVBhZGRpbmdVbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgJ3VfYm90dG9tUGFkZGluZycpO1xuICAgIGNvbnN0IHNjYWxlRmFjdG9yVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sICd1X3NjYWxlRmFjdG9yJyk7XG4gICAgY29uc3QgY29sb3JVbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgJ3VfY29sb3InKTtcblxuICAgIHByZXBhcmVCYXJHbChnbCwgc2hhZGVyUHJvZ3JhbSwgcG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbik7XG4gICAgLy8gcHJlcGFyZVBpZUdsKGdsLCBzaGFkZXJQcm9ncmFtLCBwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHNoYWRlclByb2dyYW0sXG4gICAgICAgIHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24sXG4gICAgICAgIGNvbG9yVW5pZm9ybUxvY2F0aW9uLFxuICAgICAgICByZXNvbHV0aW9uVW5pZm9ybUxvY2F0aW9uLFxuICAgICAgICBzY2FsZVN0YXJ0VW5pZm9ybUxvY2F0aW9uLFxuICAgICAgICBib3R0b21QYWRkaW5nVW5pZm9ybUxvY2F0aW9uLFxuICAgICAgICBzY2FsZUZhY3RvclVuaWZvcm1Mb2NhdGlvbixcbiAgICB9O1xufTtcblxuY29uc3QgaW5pdFBpZVByb2dyYW0gPSAoZ2wpID0+IHtcbiAgICBjb25zdCBzaGFkZXJQcm9ncmFtID0gaW5pdFNoYWRlclByb2dyYW0oZ2wsIHBpZVZlcnRleFNoYWRlclNvdXJjZSk7XG5cbiAgICAvLyBnbC51c2VQcm9ncmFtKGJhclByb2dyYW0pO1xuXG4gICAgZ2wuYmluZEF0dHJpYkxvY2F0aW9uKHNoYWRlclByb2dyYW0sIDIsICdhX3Bvc2l0aW9uJyk7XG5cbiAgICBjb25zdCBwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgJ2FfcG9zaXRpb24nKTtcbiAgICBjb25zdCByZXNvbHV0aW9uVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sICd1X3Jlc29sdXRpb24nKTtcbiAgICBjb25zdCBzY2FsZVN0YXJ0VW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sICd1X3NjYWxlU3RhcnQnKTtcbiAgICBjb25zdCBib3R0b21QYWRkaW5nVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sICd1X2JvdHRvbVBhZGRpbmcnKTtcbiAgICBjb25zdCBzY2FsZUZhY3RvclVuaWZvcm1Mb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCAndV9zY2FsZUZhY3RvcicpO1xuICAgIGNvbnN0IGNvbG9yVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sICd1X2NvbG9yJyk7XG5cbiAgICAvLyBwcmVwYXJlQmFyR2woZ2wsIHNoYWRlclByb2dyYW0sIHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24pO1xuICAgIHByZXBhcmVQaWVHbChnbCwgc2hhZGVyUHJvZ3JhbSwgcG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzaGFkZXJQcm9ncmFtLFxuICAgICAgICBwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uLFxuICAgICAgICBjb2xvclVuaWZvcm1Mb2NhdGlvbixcbiAgICAgICAgcmVzb2x1dGlvblVuaWZvcm1Mb2NhdGlvbixcbiAgICAgICAgc2NhbGVTdGFydFVuaWZvcm1Mb2NhdGlvbixcbiAgICAgICAgYm90dG9tUGFkZGluZ1VuaWZvcm1Mb2NhdGlvbixcbiAgICAgICAgc2NhbGVGYWN0b3JVbmlmb3JtTG9jYXRpb24sXG4gICAgfTtcbn07XG5cbmNvbnN0IGluaXRpYWxpemUgPSAoZ2wpID0+IHtcbiAgICAvLyBjb25zdCBiYXJQcm9ncmFtID0gaW5pdFNoYWRlclByb2dyYW0oZ2wsIGJhclZlcnRleFNoYWRlclNvdXJjZSk7XG4gICAgLy8gY29uc3QgcGllUHJvZ3JhbSA9IGluaXRTaGFkZXJQcm9ncmFtKGdsLCBwaWVWZXJ0ZXhTaGFkZXJTb3VyY2UpO1xuXG4gICAgY29uc3QgYmFyT3B0aW9ucyA9IGluaXRCYXJQcm9ncmFtKGdsKTtcbiAgICBjb25zdCBwaWVPcHRpb25zID0gaW5pdFBpZVByb2dyYW0oZ2wpO1xuXG4gICAgcmV0dXJuIHtiYXJPcHRpb25zLCBwaWVPcHRpb25zfTtcblxuICAgIC8vIGdsLnVzZVByb2dyYW0oYmFyUHJvZ3JhbSk7XG5cbiAgICAvLyBnbC5iaW5kQXR0cmliTG9jYXRpb24oYmFyUHJvZ3JhbSwgMiwgJ2FfcG9zaXRpb24nKTtcblxuICAgIC8vIGNvbnN0IHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihiYXJQcm9ncmFtLCAnYV9wb3NpdGlvbicpO1xuICAgIC8vIGNvbnN0IHJlc29sdXRpb25Vbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oYmFyUHJvZ3JhbSwgJ3VfcmVzb2x1dGlvbicpO1xuICAgIC8vIGNvbnN0IHNjYWxlU3RhcnRVbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oYmFyUHJvZ3JhbSwgJ3Vfc2NhbGVTdGFydCcpO1xuICAgIC8vIGNvbnN0IGJvdHRvbVBhZGRpbmdVbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oYmFyUHJvZ3JhbSwgJ3VfYm90dG9tUGFkZGluZycpO1xuICAgIC8vIGNvbnN0IHNjYWxlRmFjdG9yVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKGJhclByb2dyYW0sICd1X3NjYWxlRmFjdG9yJyk7XG4gICAgLy8gY29uc3QgY29sb3JVbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oYmFyUHJvZ3JhbSwgJ3VfY29sb3InKTtcblxuICAgIC8vIHByZXBhcmVCYXJHbChnbCwgYmFyUHJvZ3JhbSwgcG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbik7XG4gICAgLy8gcHJlcGFyZVBpZUdsKGdsLCBwaWVQcm9ncmFtLCBwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uKTtcblxuICAgIC8vIHJldHVybiB7XG4gICAgLy8gICAgIGJhclByb2dyYW0sXG4gICAgLy8gICAgIHBpZVByb2dyYW0sXG4gICAgLy8gICAgIHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24sXG4gICAgLy8gICAgIGNvbG9yVW5pZm9ybUxvY2F0aW9uLFxuICAgIC8vICAgICByZXNvbHV0aW9uVW5pZm9ybUxvY2F0aW9uLFxuICAgIC8vICAgICBzY2FsZVN0YXJ0VW5pZm9ybUxvY2F0aW9uLFxuICAgIC8vICAgICBib3R0b21QYWRkaW5nVW5pZm9ybUxvY2F0aW9uLFxuICAgIC8vICAgICBzY2FsZUZhY3RvclVuaWZvcm1Mb2NhdGlvbixcbiAgICAvLyB9O1xufTtcblxuXG5leHBvcnQgZGVmYXVsdCBpbml0aWFsaXplO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/chart/Webgl/pieGl/initGl.js\n");

/***/ }),

/***/ "./src/chart/Webgl/pieGl/pieVertexShader.glsl":
/*!****************************************************!*\
  !*** ./src/chart/Webgl/pieGl/pieVertexShader.glsl ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\nattribute vec2 a_position;\\n\\nuniform vec4 u_color;\\n\\nuniform vec2 u_resolution;\\n\\nuniform float u_scaleStart;\\n\\nuniform float u_bottomPadding;\\n\\nuniform vec2 u_scaleFactor;\\n\\nvarying vec4 v_color;\\n\\nvoid main() {\\n    vec2 position = vec2(a_position);\\n\\n    position.y = position.y + u_bottomPadding;\\n\\n    vec2 clipSpace = position / u_resolution;\\n\\n    gl_Position = vec4(clipSpace, 0, 1);\\n\\n    v_color = u_color;\\n}\\n\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvcGllR2wvcGllVmVydGV4U2hhZGVyLmdsc2wuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQvV2ViZ2wvcGllR2wvcGllVmVydGV4U2hhZGVyLmdsc2w/NGJlZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIlxcbmF0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247XFxuXFxudW5pZm9ybSB2ZWM0IHVfY29sb3I7XFxuXFxudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcXG5cXG51bmlmb3JtIGZsb2F0IHVfc2NhbGVTdGFydDtcXG5cXG51bmlmb3JtIGZsb2F0IHVfYm90dG9tUGFkZGluZztcXG5cXG51bmlmb3JtIHZlYzIgdV9zY2FsZUZhY3RvcjtcXG5cXG52YXJ5aW5nIHZlYzQgdl9jb2xvcjtcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIHZlYzIgcG9zaXRpb24gPSB2ZWMyKGFfcG9zaXRpb24pO1xcblxcbiAgICBwb3NpdGlvbi55ID0gcG9zaXRpb24ueSArIHVfYm90dG9tUGFkZGluZztcXG5cXG4gICAgdmVjMiBjbGlwU3BhY2UgPSBwb3NpdGlvbiAvIHVfcmVzb2x1dGlvbjtcXG5cXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KGNsaXBTcGFjZSwgMCwgMSk7XFxuXFxuICAgIHZfY29sb3IgPSB1X2NvbG9yO1xcbn1cXG5cIiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/chart/Webgl/pieGl/pieVertexShader.glsl\n");

/***/ }),

/***/ "./src/chart/Webgl/pieGl/vertexShader.glsl":
/*!*************************************************!*\
  !*** ./src/chart/Webgl/pieGl/vertexShader.glsl ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\nattribute vec2 a_position;\\n\\nuniform vec4 u_color;\\n\\nuniform vec2 u_resolution;\\n\\nuniform float u_scaleStart;\\n\\nuniform float u_bottomPadding;\\n\\nuniform vec2 u_scaleFactor;\\n\\nvarying vec4 v_color;\\n\\nvoid main() {\\n    vec2 position = vec2(a_position);\\n\\n    position.x = position.x - u_scaleStart;\\n\\n    vec2 pixelPosition = position * u_scaleFactor;\\n\\n    pixelPosition.y = pixelPosition.y + u_bottomPadding;\\n\\n    vec2 clipSpace = 2.0 * pixelPosition / u_resolution - 1.0;\\n\\n    gl_Position = vec4(clipSpace, 0, 1);\\n\\n    v_color = u_color;\\n}\\n\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvV2ViZ2wvcGllR2wvdmVydGV4U2hhZGVyLmdsc2wuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQvV2ViZ2wvcGllR2wvdmVydGV4U2hhZGVyLmdsc2w/MTYzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIlxcbmF0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247XFxuXFxudW5pZm9ybSB2ZWM0IHVfY29sb3I7XFxuXFxudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcXG5cXG51bmlmb3JtIGZsb2F0IHVfc2NhbGVTdGFydDtcXG5cXG51bmlmb3JtIGZsb2F0IHVfYm90dG9tUGFkZGluZztcXG5cXG51bmlmb3JtIHZlYzIgdV9zY2FsZUZhY3RvcjtcXG5cXG52YXJ5aW5nIHZlYzQgdl9jb2xvcjtcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIHZlYzIgcG9zaXRpb24gPSB2ZWMyKGFfcG9zaXRpb24pO1xcblxcbiAgICBwb3NpdGlvbi54ID0gcG9zaXRpb24ueCAtIHVfc2NhbGVTdGFydDtcXG5cXG4gICAgdmVjMiBwaXhlbFBvc2l0aW9uID0gcG9zaXRpb24gKiB1X3NjYWxlRmFjdG9yO1xcblxcbiAgICBwaXhlbFBvc2l0aW9uLnkgPSBwaXhlbFBvc2l0aW9uLnkgKyB1X2JvdHRvbVBhZGRpbmc7XFxuXFxuICAgIHZlYzIgY2xpcFNwYWNlID0gMi4wICogcGl4ZWxQb3NpdGlvbiAvIHVfcmVzb2x1dGlvbiAtIDEuMDtcXG5cXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KGNsaXBTcGFjZSwgMCwgMSk7XFxuXFxuICAgIHZfY29sb3IgPSB1X2NvbG9yO1xcbn1cXG5cIiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/chart/Webgl/pieGl/vertexShader.glsl\n");

/***/ }),

/***/ "./src/chart/constants.js":
/*!********************************!*\
  !*** ./src/chart/constants.js ***!
  \********************************/
/*! exports provided: CHART_SCALER_HEIGHT, VIEW_SCALER_SPACE, CHART_LIST_HEIGHT, PADDING, CHANGE_SIZE, CHANGE_SCALE, CHANGE_VIEW_BOX, ANIMATE_VIEW_BOX, LINE_OFF, LINE_ON, CHANGE_THEME, CHANGE_ANIMATION_STATUS, SHOW_SUB_STORE, DRAG_STATE_TOGGLE, TIMEZONE_OFFSET */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CHART_SCALER_HEIGHT\", function() { return CHART_SCALER_HEIGHT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VIEW_SCALER_SPACE\", function() { return VIEW_SCALER_SPACE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CHART_LIST_HEIGHT\", function() { return CHART_LIST_HEIGHT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PADDING\", function() { return PADDING; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CHANGE_SIZE\", function() { return CHANGE_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CHANGE_SCALE\", function() { return CHANGE_SCALE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CHANGE_VIEW_BOX\", function() { return CHANGE_VIEW_BOX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ANIMATE_VIEW_BOX\", function() { return ANIMATE_VIEW_BOX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LINE_OFF\", function() { return LINE_OFF; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LINE_ON\", function() { return LINE_ON; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CHANGE_THEME\", function() { return CHANGE_THEME; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CHANGE_ANIMATION_STATUS\", function() { return CHANGE_ANIMATION_STATUS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SHOW_SUB_STORE\", function() { return SHOW_SUB_STORE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DRAG_STATE_TOGGLE\", function() { return DRAG_STATE_TOGGLE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TIMEZONE_OFFSET\", function() { return TIMEZONE_OFFSET; });\n\nconst CHART_SCALER_HEIGHT = 40;\nconst VIEW_SCALER_SPACE = 34;\nconst CHART_LIST_HEIGHT = 40;\nconst PADDING = 15;\n\n\nconst CHANGE_SIZE = 'CHANGE_SIZE';\nconst CHANGE_SCALE = 'CHANGE_SCALE';\nconst CHANGE_VIEW_BOX = 'CHANGE_VIEW_BOX';\nconst ANIMATE_VIEW_BOX = 'ANIMATE_VIEW_BOX';\nconst LINE_OFF = 'LINE_OFF';\nconst LINE_ON = 'LINE_ON';\nconst CHANGE_THEME = 'CHANGE_THEME';\nconst CHANGE_ANIMATION_STATUS = 'CHANGE_ANIMATION_STATUS';\nconst SHOW_SUB_STORE = 'SHOW_SUB_STORE';\nconst DRAG_STATE_TOGGLE = 'DRAG_STATE_TOGGLE';\n\nconst TIMEZONE_OFFSET = new Date().getTimezoneOffset() * 60 * 1000;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvY29uc3RhbnRzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJ0L2NvbnN0YW50cy5qcz9hYWZkIl0sInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IGNvbnN0IENIQVJUX1NDQUxFUl9IRUlHSFQgPSA0MDtcbmV4cG9ydCBjb25zdCBWSUVXX1NDQUxFUl9TUEFDRSA9IDM0O1xuZXhwb3J0IGNvbnN0IENIQVJUX0xJU1RfSEVJR0hUID0gNDA7XG5leHBvcnQgY29uc3QgUEFERElORyA9IDE1O1xuXG5cbmV4cG9ydCBjb25zdCBDSEFOR0VfU0laRSA9ICdDSEFOR0VfU0laRSc7XG5leHBvcnQgY29uc3QgQ0hBTkdFX1NDQUxFID0gJ0NIQU5HRV9TQ0FMRSc7XG5leHBvcnQgY29uc3QgQ0hBTkdFX1ZJRVdfQk9YID0gJ0NIQU5HRV9WSUVXX0JPWCc7XG5leHBvcnQgY29uc3QgQU5JTUFURV9WSUVXX0JPWCA9ICdBTklNQVRFX1ZJRVdfQk9YJztcbmV4cG9ydCBjb25zdCBMSU5FX09GRiA9ICdMSU5FX09GRic7XG5leHBvcnQgY29uc3QgTElORV9PTiA9ICdMSU5FX09OJztcbmV4cG9ydCBjb25zdCBDSEFOR0VfVEhFTUUgPSAnQ0hBTkdFX1RIRU1FJztcbmV4cG9ydCBjb25zdCBDSEFOR0VfQU5JTUFUSU9OX1NUQVRVUyA9ICdDSEFOR0VfQU5JTUFUSU9OX1NUQVRVUyc7XG5leHBvcnQgY29uc3QgU0hPV19TVUJfU1RPUkUgPSAnU0hPV19TVUJfU1RPUkUnO1xuZXhwb3J0IGNvbnN0IERSQUdfU1RBVEVfVE9HR0xFID0gJ0RSQUdfU1RBVEVfVE9HR0xFJztcblxuZXhwb3J0IGNvbnN0IFRJTUVaT05FX09GRlNFVCA9IG5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwICogMTAwMDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/constants.js\n");

/***/ }),

/***/ "./src/chart/createChart.js":
/*!**********************************!*\
  !*** ./src/chart/createChart.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helpers */ \"./src/chart/helpers.js\");\n/* harmony import */ var _Chart__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Chart */ \"./src/chart/Chart/index.js\");\n/* harmony import */ var _Store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Store */ \"./src/chart/Store/index.js\");\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ((root, chartData, options) => {\n    const {clientWidth: width, clientHeight: height} = root;\n\n    root.innerHTML = '';\n\n    const store = new _Store__WEBPACK_IMPORTED_MODULE_2__[\"default\"](Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"prepareChartData\"])(chartData), options);\n\n    // store.on('*', (data, event) => console.log(event, data));\n\n    const chart = Object(_Chart__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(store);\n\n    store.changeSize(width, height);\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"appendChild\"])(root, chart.node);\n\n    const updateSize = () => {\n        const {clientWidth, clientHeight} = root;\n\n        store.changeSize(clientWidth, clientHeight);\n    };\n\n    Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"addEvent\"])(window, 'resize', updateSize);\n\n    const destroy = () => {\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"removeEvent\"])(window, 'resize', updateSize);\n    };\n\n    return {\n        destroy,\n        setTheme: theme => store.setTheme(theme),\n    };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvY3JlYXRlQ2hhcnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQvY3JlYXRlQ2hhcnQuanM/NTEzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7YXBwZW5kQ2hpbGQsIGFkZEV2ZW50LCByZW1vdmVFdmVudCwgcHJlcGFyZUNoYXJ0RGF0YX0gZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCBjcmVhdGVDaGFydCBmcm9tICcuL0NoYXJ0JztcbmltcG9ydCBTdG9yZSBmcm9tICcuL1N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgKHJvb3QsIGNoYXJ0RGF0YSwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHtjbGllbnRXaWR0aDogd2lkdGgsIGNsaWVudEhlaWdodDogaGVpZ2h0fSA9IHJvb3Q7XG5cbiAgICByb290LmlubmVySFRNTCA9ICcnO1xuXG4gICAgY29uc3Qgc3RvcmUgPSBuZXcgU3RvcmUocHJlcGFyZUNoYXJ0RGF0YShjaGFydERhdGEpLCBvcHRpb25zKTtcblxuICAgIC8vIHN0b3JlLm9uKCcqJywgKGRhdGEsIGV2ZW50KSA9PiBjb25zb2xlLmxvZyhldmVudCwgZGF0YSkpO1xuXG4gICAgY29uc3QgY2hhcnQgPSBjcmVhdGVDaGFydChzdG9yZSk7XG5cbiAgICBzdG9yZS5jaGFuZ2VTaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgYXBwZW5kQ2hpbGQocm9vdCwgY2hhcnQubm9kZSk7XG5cbiAgICBjb25zdCB1cGRhdGVTaXplID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB7Y2xpZW50V2lkdGgsIGNsaWVudEhlaWdodH0gPSByb290O1xuXG4gICAgICAgIHN0b3JlLmNoYW5nZVNpemUoY2xpZW50V2lkdGgsIGNsaWVudEhlaWdodCk7XG4gICAgfTtcblxuICAgIGFkZEV2ZW50KHdpbmRvdywgJ3Jlc2l6ZScsIHVwZGF0ZVNpemUpO1xuXG4gICAgY29uc3QgZGVzdHJveSA9ICgpID0+IHtcbiAgICAgICAgcmVtb3ZlRXZlbnQod2luZG93LCAncmVzaXplJywgdXBkYXRlU2l6ZSk7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGRlc3Ryb3ksXG4gICAgICAgIHNldFRoZW1lOiB0aGVtZSA9PiBzdG9yZS5zZXRUaGVtZSh0aGVtZSksXG4gICAgfTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chart/createChart.js\n");

/***/ }),

/***/ "./src/chart/helpers.js":
/*!******************************!*\
  !*** ./src/chart/helpers.js ***!
  \******************************/
/*! exports provided: createElement, appendChild, addEvent, removeEvent, withTheme, getRgbaColors, prepareChartData, getTimeString, getWeekDayString, getDateString, getMonth, getMonthDay, getYear, getDate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createElement\", function() { return createElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"appendChild\", function() { return appendChild; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addEvent\", function() { return addEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeEvent\", function() { return removeEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"withTheme\", function() { return withTheme; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRgbaColors\", function() { return getRgbaColors; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prepareChartData\", function() { return prepareChartData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTimeString\", function() { return getTimeString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getWeekDayString\", function() { return getWeekDayString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDateString\", function() { return getDateString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMonth\", function() { return getMonth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMonthDay\", function() { return getMonthDay; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getYear\", function() { return getYear; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDate\", function() { return getDate; });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"./src/chart/constants.js\");\n\n\nconst MONTHS = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nconst MONTHS_FULL = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\nconst WEEKDAYS = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\nconst WEEKDAYS_FULL = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n\nconst createElement = (className, tag = 'div') => {\n    const element = document.createElement(tag);\n\n    if (className) {\n        element.classList.add(className);\n    }\n\n    return element;\n};\n\nconst appendChild = (parent, child) => parent.appendChild(child);\n\nconst addEvent = (elem, event, listener, options) => elem.addEventListener(event, listener, options);\n\nconst removeEvent = (elem, event, listener, options) => elem.removeEventListener(event, listener, options);\n\nconst withTheme = (store, node, css) => {\n    let currentTheme = store.theme;\n    let currentThemeClassName = css[`theme_${currentTheme}`];\n\n    const add = className => (className && node.classList.add(className));\n\n    add(currentThemeClassName);\n\n    store.on(_constants__WEBPACK_IMPORTED_MODULE_0__[\"CHANGE_THEME\"], (theme) => {\n        if (currentThemeClassName) {\n            node.classList.remove(currentThemeClassName);\n        }\n\n        currentTheme = theme;\n        currentThemeClassName = css[`theme_${currentTheme}`];\n\n        add(currentThemeClassName);\n    });\n};\n\nconst getRgbaColors = (hex) => {\n    let c = hex.substring(1).split('');\n    if (c.length === 3) {\n        c = [c[0], c[0], c[1], c[1], c[2], c[2]];\n    }\n    c = `0x${c.join('')}`;\n\n    // eslint-disable-next-line no-bitwise\n    return [(c >> 16) & 255, (c >> 8) & 255, c & 255].join(',');\n};\n\nconst prepareChartData = ({columns, types, names, colors, y_scaled: yScaled}) => {\n    const [xPoints, ...yLines] = columns;\n\n    const lineIds = yLines.map(([id]) => id);\n\n    const points = [];\n\n    for (let i = 1; i < xPoints.length; i++) {\n        points.push({\n            x: xPoints[i],\n            lines: yLines.reduce((acc, line, index) => Object.assign(acc, {[lineIds[index]]: line[i]}), {}),\n        });\n    }\n\n    return {points, colors, names, lineIds, types, yScaled};\n};\n\n\nconst formatTimeComponent = num => (num > 9 ? String(num) : `0${num}`);\n\nconst getTimeString = (date) => {\n    const hours = formatTimeComponent(date.getHours());\n    const minutes = formatTimeComponent(date.getMinutes());\n\n    return `${hours}:${minutes}`;\n};\n\nconst getWeekDayString = (date, full) => (full ? WEEKDAYS_FULL : WEEKDAYS)[date.getDay()];\n\nconst getDateString = date => `${MONTHS[date.getMonth()]} ${date.getDate()}`;\n\nconst getMonth = (date, full) => (full ? MONTHS_FULL : MONTHS)[date.getMonth()];\n\nconst getMonthDay = date => date.getDate();\n\nconst getYear = date => date.getFullYear();\n\nconst getDate = timestamp => new Date(timestamp + _constants__WEBPACK_IMPORTED_MODULE_0__[\"TIMEZONE_OFFSET\"]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvaGVscGVycy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jaGFydC9oZWxwZXJzLmpzPzBiNzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDSEFOR0VfVEhFTUUsIFRJTUVaT05FX09GRlNFVH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5jb25zdCBNT05USFMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJywgJ09jdCcsICdOb3YnLCAnRGVjJ107XG5jb25zdCBNT05USFNfRlVMTCA9IFsnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddO1xuY29uc3QgV0VFS0RBWVMgPSBbJ1N1bicsICdNb24nLCAnVHVlJywgJ1dlZCcsICdUaHUnLCAnRnJpJywgJ1NhdCddO1xuY29uc3QgV0VFS0RBWVNfRlVMTCA9IFsnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknXTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUVsZW1lbnQgPSAoY2xhc3NOYW1lLCB0YWcgPSAnZGl2JykgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG5cbiAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50O1xufTtcblxuZXhwb3J0IGNvbnN0IGFwcGVuZENoaWxkID0gKHBhcmVudCwgY2hpbGQpID0+IHBhcmVudC5hcHBlbmRDaGlsZChjaGlsZCk7XG5cbmV4cG9ydCBjb25zdCBhZGRFdmVudCA9IChlbGVtLCBldmVudCwgbGlzdGVuZXIsIG9wdGlvbnMpID0+IGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuXG5leHBvcnQgY29uc3QgcmVtb3ZlRXZlbnQgPSAoZWxlbSwgZXZlbnQsIGxpc3RlbmVyLCBvcHRpb25zKSA9PiBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBvcHRpb25zKTtcblxuZXhwb3J0IGNvbnN0IHdpdGhUaGVtZSA9IChzdG9yZSwgbm9kZSwgY3NzKSA9PiB7XG4gICAgbGV0IGN1cnJlbnRUaGVtZSA9IHN0b3JlLnRoZW1lO1xuICAgIGxldCBjdXJyZW50VGhlbWVDbGFzc05hbWUgPSBjc3NbYHRoZW1lXyR7Y3VycmVudFRoZW1lfWBdO1xuXG4gICAgY29uc3QgYWRkID0gY2xhc3NOYW1lID0+IChjbGFzc05hbWUgJiYgbm9kZS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSkpO1xuXG4gICAgYWRkKGN1cnJlbnRUaGVtZUNsYXNzTmFtZSk7XG5cbiAgICBzdG9yZS5vbihDSEFOR0VfVEhFTUUsICh0aGVtZSkgPT4ge1xuICAgICAgICBpZiAoY3VycmVudFRoZW1lQ2xhc3NOYW1lKSB7XG4gICAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoY3VycmVudFRoZW1lQ2xhc3NOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRUaGVtZSA9IHRoZW1lO1xuICAgICAgICBjdXJyZW50VGhlbWVDbGFzc05hbWUgPSBjc3NbYHRoZW1lXyR7Y3VycmVudFRoZW1lfWBdO1xuXG4gICAgICAgIGFkZChjdXJyZW50VGhlbWVDbGFzc05hbWUpO1xuICAgIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFJnYmFDb2xvcnMgPSAoaGV4KSA9PiB7XG4gICAgbGV0IGMgPSBoZXguc3Vic3RyaW5nKDEpLnNwbGl0KCcnKTtcbiAgICBpZiAoYy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgYyA9IFtjWzBdLCBjWzBdLCBjWzFdLCBjWzFdLCBjWzJdLCBjWzJdXTtcbiAgICB9XG4gICAgYyA9IGAweCR7Yy5qb2luKCcnKX1gO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcbiAgICByZXR1cm4gWyhjID4+IDE2KSAmIDI1NSwgKGMgPj4gOCkgJiAyNTUsIGMgJiAyNTVdLmpvaW4oJywnKTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcmVwYXJlQ2hhcnREYXRhID0gKHtjb2x1bW5zLCB0eXBlcywgbmFtZXMsIGNvbG9ycywgeV9zY2FsZWQ6IHlTY2FsZWR9KSA9PiB7XG4gICAgY29uc3QgW3hQb2ludHMsIC4uLnlMaW5lc10gPSBjb2x1bW5zO1xuXG4gICAgY29uc3QgbGluZUlkcyA9IHlMaW5lcy5tYXAoKFtpZF0pID0+IGlkKTtcblxuICAgIGNvbnN0IHBvaW50cyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB4UG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHBvaW50cy5wdXNoKHtcbiAgICAgICAgICAgIHg6IHhQb2ludHNbaV0sXG4gICAgICAgICAgICBsaW5lczogeUxpbmVzLnJlZHVjZSgoYWNjLCBsaW5lLCBpbmRleCkgPT4gT2JqZWN0LmFzc2lnbihhY2MsIHtbbGluZUlkc1tpbmRleF1dOiBsaW5lW2ldfSksIHt9KSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtwb2ludHMsIGNvbG9ycywgbmFtZXMsIGxpbmVJZHMsIHR5cGVzLCB5U2NhbGVkfTtcbn07XG5cblxuY29uc3QgZm9ybWF0VGltZUNvbXBvbmVudCA9IG51bSA9PiAobnVtID4gOSA/IFN0cmluZyhudW0pIDogYDAke251bX1gKTtcblxuZXhwb3J0IGNvbnN0IGdldFRpbWVTdHJpbmcgPSAoZGF0ZSkgPT4ge1xuICAgIGNvbnN0IGhvdXJzID0gZm9ybWF0VGltZUNvbXBvbmVudChkYXRlLmdldEhvdXJzKCkpO1xuICAgIGNvbnN0IG1pbnV0ZXMgPSBmb3JtYXRUaW1lQ29tcG9uZW50KGRhdGUuZ2V0TWludXRlcygpKTtcblxuICAgIHJldHVybiBgJHtob3Vyc306JHttaW51dGVzfWA7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0V2Vla0RheVN0cmluZyA9IChkYXRlLCBmdWxsKSA9PiAoZnVsbCA/IFdFRUtEQVlTX0ZVTEwgOiBXRUVLREFZUylbZGF0ZS5nZXREYXkoKV07XG5cbmV4cG9ydCBjb25zdCBnZXREYXRlU3RyaW5nID0gZGF0ZSA9PiBgJHtNT05USFNbZGF0ZS5nZXRNb250aCgpXX0gJHtkYXRlLmdldERhdGUoKX1gO1xuXG5leHBvcnQgY29uc3QgZ2V0TW9udGggPSAoZGF0ZSwgZnVsbCkgPT4gKGZ1bGwgPyBNT05USFNfRlVMTCA6IE1PTlRIUylbZGF0ZS5nZXRNb250aCgpXTtcblxuZXhwb3J0IGNvbnN0IGdldE1vbnRoRGF5ID0gZGF0ZSA9PiBkYXRlLmdldERhdGUoKTtcblxuZXhwb3J0IGNvbnN0IGdldFllYXIgPSBkYXRlID0+IGRhdGUuZ2V0RnVsbFllYXIoKTtcblxuZXhwb3J0IGNvbnN0IGdldERhdGUgPSB0aW1lc3RhbXAgPT4gbmV3IERhdGUodGltZXN0YW1wICsgVElNRVpPTkVfT0ZGU0VUKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/chart/helpers.js\n");

/***/ }),

/***/ "./src/chart/index.js":
/*!****************************!*\
  !*** ./src/chart/index.js ***!
  \****************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _createChart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./createChart */ \"./src/chart/createChart.js\");\n\n\n\nwindow.chart = {\n    createChart: _createChart__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhcnQvaW5kZXguanM/ODFjYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBjcmVhdGVDaGFydCBmcm9tICcuL2NyZWF0ZUNoYXJ0Jztcblxud2luZG93LmNoYXJ0ID0ge1xuICAgIGNyZWF0ZUNoYXJ0LFxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/index.js\n");

/***/ }),

/***/ "./src/chart/nextFrame.js":
/*!********************************!*\
  !*** ./src/chart/nextFrame.js ***!
  \********************************/
/*! exports provided: default, markHasBeenPlanned, showFps */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"markHasBeenPlanned\", function() { return markHasBeenPlanned; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showFps\", function() { return showFps; });\n\n// 60 fps\nconst framePlannedTime = 1000 / 60;\n\nlet frameRunning = false;\nlet queue = [];\nlet marks = {};\n\nconst runFrameWorker = (lastFrameTimestamp) => {\n    frameRunning = true;\n\n    return requestAnimationFrame((timestamp) => {\n        if (queue.length === 0) {\n            frameRunning = false;\n\n            return;\n        }\n\n        const timeFactor = lastFrameTimestamp ? ((timestamp - lastFrameTimestamp) / framePlannedTime) : 1;\n\n        const runQueue = queue;\n        const runMarks = marks;\n\n        queue = [];\n        marks = {};\n\n        const queueLength = runQueue.length;\n\n        for (let i = 0; i < queueLength; i++) {\n            const [func, mark] = runQueue[i];\n\n            if (!mark || runMarks[mark] === i) {\n                func(timeFactor, timestamp);\n            } else {\n                console.log(`skip mark ${mark}`);\n            }\n        }\n\n        // setTimeout(() => runFrameWorker(timestamp), 400);\n\n        runFrameWorker(timestamp);\n    });\n};\n\nconst nextFrame = (func, mark) => {\n    if (mark) {\n        if (mark in marks) {\n            queue.splice(marks[mark], 1, [func, mark]);\n        } else {\n            marks[mark] = queue.push([func, mark]) - 1;\n        }\n    } else {\n        queue.push([func, mark]);\n    }\n\n    if (!frameRunning) {\n        runFrameWorker();\n    }\n};\n\n// const nextFrame = func => setTimeout(() => func(1), 16);\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (nextFrame);\n\nconst markHasBeenPlanned = mark => (mark in marks);\n\nconst showFps = (callback) => {\n    let hits = 0;\n\n    const newHit = () => nextFrame(() => {\n        hits++;\n\n        newHit();\n    });\n\n    setInterval(() => {\n        callback(hits);\n\n        hits = 0;\n    }, 1000);\n\n    newHit();\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhcnQvbmV4dEZyYW1lLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJ0L25leHRGcmFtZS5qcz9kNzI2Il0sInNvdXJjZXNDb250ZW50IjpbIlxuLy8gNjAgZnBzXG5jb25zdCBmcmFtZVBsYW5uZWRUaW1lID0gMTAwMCAvIDYwO1xuXG5sZXQgZnJhbWVSdW5uaW5nID0gZmFsc2U7XG5sZXQgcXVldWUgPSBbXTtcbmxldCBtYXJrcyA9IHt9O1xuXG5jb25zdCBydW5GcmFtZVdvcmtlciA9IChsYXN0RnJhbWVUaW1lc3RhbXApID0+IHtcbiAgICBmcmFtZVJ1bm5pbmcgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZSgodGltZXN0YW1wKSA9PiB7XG4gICAgICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGZyYW1lUnVubmluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0aW1lRmFjdG9yID0gbGFzdEZyYW1lVGltZXN0YW1wID8gKCh0aW1lc3RhbXAgLSBsYXN0RnJhbWVUaW1lc3RhbXApIC8gZnJhbWVQbGFubmVkVGltZSkgOiAxO1xuXG4gICAgICAgIGNvbnN0IHJ1blF1ZXVlID0gcXVldWU7XG4gICAgICAgIGNvbnN0IHJ1bk1hcmtzID0gbWFya3M7XG5cbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgbWFya3MgPSB7fTtcblxuICAgICAgICBjb25zdCBxdWV1ZUxlbmd0aCA9IHJ1blF1ZXVlLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHF1ZXVlTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IFtmdW5jLCBtYXJrXSA9IHJ1blF1ZXVlW2ldO1xuXG4gICAgICAgICAgICBpZiAoIW1hcmsgfHwgcnVuTWFya3NbbWFya10gPT09IGkpIHtcbiAgICAgICAgICAgICAgICBmdW5jKHRpbWVGYWN0b3IsIHRpbWVzdGFtcCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBza2lwIG1hcmsgJHttYXJrfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiBydW5GcmFtZVdvcmtlcih0aW1lc3RhbXApLCA0MDApO1xuXG4gICAgICAgIHJ1bkZyYW1lV29ya2VyKHRpbWVzdGFtcCk7XG4gICAgfSk7XG59O1xuXG5jb25zdCBuZXh0RnJhbWUgPSAoZnVuYywgbWFyaykgPT4ge1xuICAgIGlmIChtYXJrKSB7XG4gICAgICAgIGlmIChtYXJrIGluIG1hcmtzKSB7XG4gICAgICAgICAgICBxdWV1ZS5zcGxpY2UobWFya3NbbWFya10sIDEsIFtmdW5jLCBtYXJrXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXJrc1ttYXJrXSA9IHF1ZXVlLnB1c2goW2Z1bmMsIG1hcmtdKSAtIDE7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZS5wdXNoKFtmdW5jLCBtYXJrXSk7XG4gICAgfVxuXG4gICAgaWYgKCFmcmFtZVJ1bm5pbmcpIHtcbiAgICAgICAgcnVuRnJhbWVXb3JrZXIoKTtcbiAgICB9XG59O1xuXG4vLyBjb25zdCBuZXh0RnJhbWUgPSBmdW5jID0+IHNldFRpbWVvdXQoKCkgPT4gZnVuYygxKSwgMTYpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IG5leHRGcmFtZTtcblxuZXhwb3J0IGNvbnN0IG1hcmtIYXNCZWVuUGxhbm5lZCA9IG1hcmsgPT4gKG1hcmsgaW4gbWFya3MpO1xuXG5leHBvcnQgY29uc3Qgc2hvd0ZwcyA9IChjYWxsYmFjaykgPT4ge1xuICAgIGxldCBoaXRzID0gMDtcblxuICAgIGNvbnN0IG5ld0hpdCA9ICgpID0+IG5leHRGcmFtZSgoKSA9PiB7XG4gICAgICAgIGhpdHMrKztcblxuICAgICAgICBuZXdIaXQoKTtcbiAgICB9KTtcblxuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgY2FsbGJhY2soaGl0cyk7XG5cbiAgICAgICAgaGl0cyA9IDA7XG4gICAgfSwgMTAwMCk7XG5cbiAgICBuZXdIaXQoKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chart/nextFrame.js\n");

/***/ })

/******/ });